

	
	var ratio = 10;
	var draw;
	
	function now(){
		var d = new Date();
		return d.getTime();
	}
	
	function change(){
		resize(false);
	}
	
	function resize(force){
		
	 	var w = window.innerWidth;
	 	var h = window.innerHeight;
		
	 	if(w == 0 || h == 0) return;
	 	
	 	var r = w / h; 
	 	
		var diff = Math.abs((ratio - r) / r); 
	 	
		var n = now();
		if(diff > 0.1){
			draw = n + 300; 
		}
		
		//console.log("diff:" + diff);
		//console.log("time:" + n + ":" + draw)
		
	 	if(force || n < draw){
		
	 		ratio = r;
	 		
	 		var landscape = w > h;
		 	
			var box = document.getElementById("box");		
		 	box.style.width = w;
		 	box.style.height = h;
			
			var img = document.getElementById("img");	
			
			if(!landscape){
		 		img.style.width = w;
		 		img.style.height = '';
			}else{
				img.style.width = '';
				img.style.height = h;
			}
			
			//console.log("resize:" + w + ":" + h);
		}
	}
	
	
		
 		resize(true);
 		window.onresize = change;
  	

var ExternalPageModel=Backbone.Model.extend({defaults:{url:""}}); var ExternalPageTemplateView=TemplateView.extend({_renderTab:function(b,d){var e=this.model.get("meta");var a=new ExternalPageModel(e);var f=Utils.Helpers.generateGUID();var c=new ExternalPageView({model:a,id:f});this.$el.append(c.render().el);if(window.AppManager&&AppManager.addSlave){AppManager.addSlave(c.el,this.model.get("id"),function(){})}UN.onPageReady(f,d,1)}}); var ExternalPageView=Backbone.View.extend({tagName:"iframe",className:"external_page",initialize:function(){this.id="external_"+Utils.Helpers.generateGUID();this.$el.attr({id:this.id,"data-role":"page",frameborder:"0",scrolling:"no",allowtransparency:"true"})},render:function(){this.$el.attr("src",this.model.get("url"));return this}}); 








(new Image()).src = 'app/interface/web/img/ajax-loader.png';








/*global document*/
/*global window*/
/*global console*/
/*global DeviceDetector*/ //assumed to load before
/*global LANDING*/ //injected from ahp EnvironmentInjectionProvider.cs
/*global WEBSITE_OVERRIDE_URL*/ //same as above

window.Redirect = (function () {
	'use strict';
	var me = {};

	var _didRedirect = false;

	var _redirect = function (url) {
		_didRedirect = true;
		window.top.location.href = url;
	};

	var _init = function () {
		if (!DeviceDetector) {
			console.log('redirect : missing DeviceDetector!');
			return;
		}

		//ignore or landing redirects. arrives from SiteScripts, or from mobile landing page.
		if (document.location.href.toLowerCase().indexOf('skiplanding=true') >= 0 || !window.LANDING) {
			return;
		}

		//handle desktop landing redirect
		if (DeviceDetector.isDesktop() && LANDING.urls && LANDING.urls.Desktop) {
			return _redirect(LANDING.urls.Desktop);
		}

		var device = DeviceDetector.device();

		//handle mobile landing redirect
		if (LANDING.urls && LANDING.urls.Mobile &&
			LANDING.devices && (LANDING.devices & device) === device) {
			return _redirect(LANDING.urls.Mobile);
		}

		//handle app website url override
		if (WEBSITE_OVERRIDE_URL) {
			return _redirect(WEBSITE_OVERRIDE_URL);
		}
	};

	_init();

	me.didRedirect = function () {
		return _didRedirect;
	};
	return me;
}());





var AboutUsModel=Backbone.Model.extend({_INFO_ALIAS:"info",_SHOWMORE_ALIAS:"more",initialize:function(){this.set({info_alias:this.get("info_alias")||this._INFO_ALIAS,more_alias:this.get("more_alias")||this._SHOWMORE_ALIAS});var d=this.get("buttons")||{};d.info=true;this.set({buttons:d});var b=this.get("about")||"";this.set({about:b});var e=this.get("title")||"";this.set({title:e});var c=this.get("description")||"";this.set({description:c});var a=this.get("name")||"";this.set({aboutUsName:a});this.set({descriptionTitle:_T("HtmlTextAboutUsDescriptionTitle",[],this.get("metaTab").overrideTranslation)});this.set({readMoreTitle:_T("HtmlTextAboutUsReadMore",[],this.get("metaTab").overrideTranslation)});this._handleDataList()},getItemForAlias:function(c){switch(c){case this.get("info_alias"):return this;case this.get("more_alias"):return this;default:var b=this.get("list")||[];for(var a=0;a<b.length;a++){var d=b[a];if(d.alias===c){return new Backbone.Model({title:d.title||"",text:d.text||"",icon:d.icon||"",iconBlack:d.iconBlack||""})}}}return null},_handleDataList:function(){var p=this.get("list")||[];for(var l=0;l<p.length;l++){var f=p[l];f.alias=f.alias||(""+(l+1));if(f.title){f.title=Utils.String.translateIfNeed(f.title)}f.data=f.data||{};if(f.dataType==="text"){f.text=f.data.text}else{if(f.dataType==="html"){f.description=f.data.html}else{if(f.dataType==="hours"){var a=f.data.hours;if(f.data.alwaysOpen){f.text=_T("HtmlTextAboutUsItemHoursAlwaysOpen",[],this.get("metaTab").overrideTranslation)}else{if(a&&a.length){var g=[_T("_day1s",[],this.get("metaTab").overrideTranslation),_T("_day2s",[],this.get("metaTab").overrideTranslation),_T("_day3s",[],this.get("metaTab").overrideTranslation),_T("_day4s",[],this.get("metaTab").overrideTranslation),_T("_day5s",[],this.get("metaTab").overrideTranslation),_T("_day6s",[],this.get("metaTab").overrideTranslation),_T("_day7s",[],this.get("metaTab").overrideTranslation)];var b=_T("_firstDayOfWeek",[],this.get("metaTab").overrideTranslation);for(var h=0;h<a.length;h++){var q=$.map(a[h].days,function(k,j){k=(k%7);if(k<b){k+=7}return k});q=q.sort();var c="";for(var e=0;e<q.length;e++){c+=g[(q[e]%7)];for(var o=e+1;(o<q.length)&&(q[o-1]+1===q[o]);o++){}if(o>e+2){c+="-";e=o-2}else{if(e+1<q.length){c+=", "}}}a[h].daysStr=c;var d=(new Date(Utils.TimeDate.toUTCTime(Utils.TimeDate.timeToSeconds(a[h].startHour)))).format("shortTime");var n=(new Date(Utils.TimeDate.toUTCTime(Utils.TimeDate.timeToSeconds(a[h].endHour)))).format("shortTime");a[h].hoursStr=d+" - "+n}}else{f.text=_T("HtmlTextAboutUsItemHoursNoHours",[],this.get("metaTab").overrideTranslation)}}}else{if(f.dataType==="list"){var m=f.data.list;if(m&&m.length){f.text=m[0];for(var h=1;h<m.length;h++){f.text=f.text+"\n"+m[h]}}}}}}}this.set({list:p})}}); var aboutUsTemplates={};aboutUsTemplates.aboutUsTemplate=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="scroll_wrapper"><div class="scroller"><div class="ipad_screen_center">';if(typeof(imgUrl)!="undefined"&&imgUrl){__p+='<img class="aboutUs-img" src="'+((__t=(imgUrl))==null?"":__t)+'" />'}__p+='<div class="header"><div class="header-text">';if(aboutUsName){__p+='<div class="size_title_4 name clr_contTypeB_hdlTxt">'+((__t=(aboutUsName))==null?"":__t)+"</div>"}__p+="";if(title){__p+='<div class="size_title_1 title clr_contTypeB_subTxt">'+((__t=(title))==null?"":__t)+"</div>"}__p+="</div></div>";if(about){__p+='<div class="size_1 about descriptionText clr_contTypeB_txt"></div>'}__p+="";if(description){__p+='<div class="size_title_1 descriptionTitle clr_contTypeB_subTxt">'+((__t=(descriptionTitle))==null?"":__t)+'</div><div class="size_1 description descriptionText clr_contTypeB_txt"></div>'}__p+='<div class="size_title_1 read_more_button clr_contTypeB_lnkTxt">'+((__t=(readMoreTitle))==null?"":__t)+'</div><div class="share-icons-container"></div><ul class="dataList"></ul></div></div></div>'}return __p};aboutUsTemplates.aboutUsMoreTemplate=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="scroll_wrapper"><div class="scroller"><div class="ipad_screen_center">';if(typeof(imgUrl)!="undefined"&&imgUrl){__p+='<img class="aboutUs-img" src="'+((__t=(imgUrl))==null?"":__t)+'" />'}__p+='<div class="header"><div class="header-text">';if(aboutUsName){__p+='<div class="size_title_4 name clr_contTypeA_hdlTxt">'+((__t=(aboutUsName))==null?"":__t)+"</div>"}__p+="";if(title){__p+='<div class="size_title_1 title clr_contTypeA_subTxt">'+((__t=(title))==null?"":__t)+"</div>"}__p+="</div></div>";if(about){__p+='<div class="size_1 about descriptionText clr_contTypeA_txt"></div>'}__p+="";if(description){__p+='<div class="size_title_1 descriptionTitle clr_contTypeA_subTxt">'+((__t=(descriptionTitle))==null?"":__t)+'</div><div class="size_1 description descriptionText clr_contTypeA_txt"></div>'}__p+="</div></div></div>"}return __p};aboutUsTemplates.aboutUsItemMoreTemplate=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="scroll_wrapper"><div class="scroller"><div class="ipad_screen_center"><div class="header">';if(typeof(icon)!="undefined"&&icon&&typeof(iconBlack)!="undefined"&&iconBlack){__p+='<div class="dataItemImage sliced_image clr_contTypeA_hdlIcn_black_icon" style="background-image:url(\''+((__t=(iconBlack))==null?"":__t)+'\')"></div><div class="dataItemImage sliced_image clr_contTypeA_hdlIcn_white_icon" style="background-image:url(\''+((__t=(icon))==null?"":__t)+'\')"></div><div class="dataItemImage sliced_mask clr_contTypeA_hdlIcn_mask_icon" style="-webkit-mask-image:url(\''+((__t=(icon))==null?"":__t)+"')\"></div>"}__p+='<div class="header-text">';if(title){__p+='<div class="size_title_1 title clr_contTypeA_subTxt">'+((__t=(title))==null?"":__t)+"</div>"}__p+="</div></div>";if(text){__p+='<div class="size_1 description descriptionText clr_contTypeA_txt"></div>'}__p+="</div></div></div>"}return __p};aboutUsTemplates.listItemTemplate=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<li class="dataItem clr_contTypeB_sep_brdr clearfix"><div class="titleContainer">';if(typeof(icon)!="undefined"&&icon&&typeof(iconBlack)!="undefined"&&iconBlack){__p+='<div class="dataItemImage inList sliced_image clr_contTypeB_hdlIcn_black_icon" style="background-image:url(\''+((__t=(iconBlack))==null?"":__t)+'\')"></div><div class="dataItemImage inList sliced_image clr_contTypeB_hdlIcn_white_icon" style="background-image:url(\''+((__t=(icon))==null?"":__t)+'\')"></div><div class="dataItemImage inList sliced_mask clr_contTypeB_hdlIcn_mask_icon" style="-webkit-mask-image:url(\''+((__t=(icon))==null?"":__t)+"')\"></div>"}__p+="";if(typeof(title)!="undefined"&&title){__p+='<div class="size_title_0 dataItemTitle clr_contTypeB_hdlTxt">'+((__t=(title))==null?"":__t)+"</div>"}__p+="</div>";if(typeof(description)!="undefined"&&description){__p+='<div class="size_1 dataItemText descrContainer"></div>'}__p+="";if(typeof(text)!="undefined"&&text){__p+='<div class="size_1 dataItemText listTextContainer clr_contTypeB_txt" data-alias="'+((__t=(alias))==null?"":__t)+'" data-text="'+((__t=(text))==null?"":__t)+'"></div>'}__p+="</li>"}return __p};aboutUsTemplates.readMoreTemplate=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<span class="size_title_1 read_more_text clr_contTypeB_lnkTxt">'+((__t=(staticTitle))==null?"":__t)+"</span>"}return __p};aboutUsTemplates.hoursTemplate=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="hours_block"><div class="days_section">'+((__t=(days))==null?"":__t)+'</div><div class="hours_section" dir="ltr">'+((__t=(hours))==null?"":__t)+"</div></div>"}return __p};aboutUsTemplates.infoPageTemplate=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="scroll_wrapper"><div class="scroller"><div class="info-page-place-holder  '+((__t=(cardColor))==null?"":__t)+'"><img class="applogoimg" src="'+((__t=(appLogoImgUrl))==null?"":__t)+'" /><div class="size_title_4 _1_line ellipsis app-label clr_contTypeB_hdlTxt center">'+((__t=(appLabel))==null?"":__t)+'</div><div class="size_title_1 app-version clr_contTypeB_subTxt center">'+((__t=(appVersion))==null?"":__t)+'</div><div class="share-button-container center"></div>';if(privacyPolicy){__p+='<div class="privacyPolicy center"></div>'}__p+="</div></div></div>"}return __p};aboutUsTemplates.infoBannerTemplate=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="infoFooter '+((__t=(pageColor))==null?"":__t)+'">';if(banner&&banner.imageUrl){__p+='<img class="banner" src="'+((__t=(banner.imageUrl))==null?"":__t)+'" />'}__p+="</div>"}return __p}; var AboutUsTemplateView=TemplateView.extend({_renderTab:function(c,e){var g=this.model.get("meta");var f=g.items[c];var b;if(f){f.metaTab=this.model.get("meta");b=new AboutUsModel(f)}else{b=new AboutUsModel();b.set("metaTab",this.model.get("meta"))}var h=Utils.Helpers.generateGUID();var d=new AboutUsView({model:b,id:h});this.$el.append(d.render().el);this.addTabsToView(d,c);var a=function(){UN.onPageReady(h,e,1)};UN.registerChange(this._navToInner.hitch(this),2,{data:{model:b},cbSelectDefault:a,navRequest:e})},_navToInner:function(d,b){var c=d.navRequest;var a=d.model.getItemForAlias(b);if(!a){this.itemNotFound(c,2,null);return}var f=Utils.Helpers.generateGUID();switch(b){case a.get("info_alias"):var e=new AboutUsInfoView({model:a,id:f});break;case a.get("more_alias"):var e=new AboutUsMoreView({model:a,id:f});break;default:var e=new AboutUsItemMoreView({model:a,id:f})}this.$el.append(e.render().el);UN.onPageReady(f,c,2,true)}}); var AboutUsInfoView=Backbone.View.extend({className:"info_page",attributes:{"data-role":"page"},initialize:function(){var h=(LAYOUT===layoutFormat.wide)?"clr_punch_wideBg":"clr_contTypeB_fullPage2_bg";this.$el.addClass(h);var d=AppSettingsManager.getSettings();var f=d.get("brand").info||{};var a=f.banner||null;if(a){var e=$("#app_footer .infoFooter");if(e.length==0){var g={pageColor:h,banner:a};e=$(aboutUsTemplates.infoBannerTemplate(g));if(a&&a.redirectUrl){e.find(".banner").tap(function(i){appDriver.openLink(null,null,{url:a.redirectUrl,title:a.redirectUrl})})}e.hide();var b=$("#app_footer");b.append(e)}var c=$("#app_footer .mainFooter");this.$el.bind("pageshow",function(){c.hide();e.show()});this.$el.bind("pagebeforehide",function(){e.hide();c.show()})}},render:function(){var c=this.model.toJSON();c.appLabel=AppManager.app().get("appLabel");c.appLogoImgUrl=AppManager.app().get("appIcon");c.appVersion=_T("HtmlTextAboutUsInfoVersion",{versionName:APP_VERSION},this.model.get("metaTab").overrideTranslation);c.cardColor=(LAYOUT===layoutFormat.wide)?"clr_contTypeB_fullPage2_bg":"";var e=AppSettingsManager.getSettings();var g=e.get("brand").info||{};var a=g.privacyPolicy||null;c.privacyPolicy=a;this.$el.html(aboutUsTemplates.infoPageTemplate(c));if(a&&a.text&&a.type==="html"){var b=new HtmlContainerControl();var d=Utils.String.translateIfNeed(a.text);b.renderHtml(this.$(".privacyPolicy"),d,{zoomOnWide:false,changeColors:true,color:{text:"clr_contTypeB_subTxt",title:"clr_contTypeB_hdlTxt",link:"clr_contTypeB_lnkTxt"}})}var h=this.$(".scroll_wrapper");var f=this.$(".share-button-container");this.model.set({getShareInfo:this._getShareInfo});this.model.getShareInfo=this._getShareInfo;ShareControlHelper.addShareControlButton(f,this.model);this.$el.find("IMG").load(function(){Scrolling.onContentChanged(h)}).error(function(){$(this).remove()});Scrolling.init(h);return this},_getShareInfo:function(){var a=Utils.ShareInfo.shareAppInfo();if(PLATFORM==platformEnum.simulator){return a}a.shareButtonText=_T("HtmlTextShareAppButtonText",[],this.get("metaTab").overrideTranslation);return a}}); var AboutUsView=Backbone.View.extend({className:"main-page clr_contTypeB_bg t3d",attributes:{"data-role":"page"},initialize:function(){$(window).bind("throttledresize",this.onResize.hitch(this));this.$el.bind("pageshow",this.onPageShow.hitch(this));this.$el.bind("pagehide",this.onPageHide.hitch(this))},_createItemView:function(e){var g=e.data.hours;if(g&&g.length){e.description="";for(var b=0;b<g.length;b++){var d={days:g[b].daysStr,hours:g[b].hoursStr};var f=aboutUsTemplates.hoursTemplate(d);e.description=e.description+f}}var c=$(aboutUsTemplates.listItemTemplate(e));if(e.description){e.text=Utils.String.sanitizeText(e.text,true);var a=new HtmlContainerControl();a.renderHtml(c.find(".descrContainer"),e.description,{zoomOnWide:false,changeColors:true})}return c},render:function(){var f=this.model.toJSON();this.$el.html(aboutUsTemplates.aboutUsTemplate(f));var g=this.$(".scroll_wrapper");this.$("IMG").load(function(){Scrolling.onContentChanged(g)}).error(function(){$(this).remove()});var e=this.model.get("list");if(e.length){var a=this.$(".dataList");for(var d=0;d<e.length;d++){var f=e[d];var c=this._createItemView(f);a.append(c)}}var b=new ShareIconsView({model:this.model});this.$(".share-icons-container").append(b.render().el);this.$(".read_more_button").tap(this._onReadMoreClick.hitch(this));Scrolling.init(g);return this},_onReadMoreClick:function(b){b.preventDefault();var a=this.model.get("more_alias");UN.navTo(a)},onPageShow:function(){this.isPageShow=true;this.updateDescriptions()},onPageHide:function(){this.isPageShow=false},onResize:function(){if(this.isPageShow){this.updateDescriptions()}},updateDescriptions:function(){var g=Math.max(300,this.$el.width());var c=false;var b={staticTitle:_T("HtmlTextAboutUsListItemReadMore",[],this.model.get("metaTab").overrideTranslation)};var a=aboutUsTemplates.readMoreTemplate(b);var h=this.model.get("description");if(h){var f=Math.floor(g/1.5);var j=this.$(".description");if(f<h.length){h=Utils.String.trailString(h,f,{charStop:[{charStop:".",threshold:"50"}]});c=true}j.html(Utils.String.sanitizeText(h))}var d=this.model.get("about");if(d){var i=Math.floor(g/1.5);var j=this.$(".about");if(i<d.length){d=Utils.String.trailString(d,i,{charStop:[{charStop:".",threshold:"50"}]});c=true}j.html(Utils.String.sanitizeText(d))}if(c){this.$(".read_more_button").show()}else{this.$(".read_more_button").hide()}var e=Math.floor((g-40)/2);this.$(".listTextContainer").each(function(k){var o=$(this);var n=o.attr("data-text");if(e<n.length){var m=Utils.String.trailString(n,e);m=Utils.String.sanitizeText(m,true);o.html(m+"<br >");var l=$(a);o.append(l);l.tap(function(q){q.preventDefault();var p=o.attr("data-alias");UN.navTo(p)})}else{var m=Utils.String.sanitizeText(n,true);o.html(m)}})},addTabsView:function(a){this.$el.find(".scroller").prepend(a)}}); var AboutUsMoreView=Backbone.View.extend({className:"main-page clr_contTypeA_bg",attributes:{"data-role":"page"},render:function(){var b=this.model.toJSON();this.$el.html(aboutUsTemplates.aboutUsMoreTemplate(b));var c=this.$(".scroll_wrapper");if(b.about){var a=new LinksTextControl();a.renderText(this.$(".about"),b.about)}if(b.description){var a=new LinksTextControl();a.renderText(this.$(".description"),b.description)}this.$("IMG").load(function(){Scrolling.onContentChanged(c)}).error(function(){$(this).remove()});Scrolling.init(c);return this}}); var AboutUsItemMoreView=Backbone.View.extend({className:"main-page clr_contTypeA_bg",attributes:{"data-role":"page"},render:function(){var b=this.model.toJSON();this.$el.html(aboutUsTemplates.aboutUsItemMoreTemplate(b));var a=new LinksTextControl();a.renderText(this.$(".description"),b.text);var c=this.$(".scroll_wrapper");Scrolling.init(c);return this}}); 











var webModuleTemplates={};webModuleTemplates.pageIframeTemplate=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="scroll_wrapper" ><iframe frameborder="0" marginheight="0" marginwidth="0" scrolling="auto" src="'+((__t=(link))==null?"":__t)+'"></iframe></div>'}return __p};webModuleTemplates.pageStaticTemplate=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="scroll_wrapper"><div class="scroller"><div class="size_title_4 text clr_contTypeB_hdlTxt">'+((__t=(text))==null?"":__t)+"</div></div></div>"}return __p}; var WebModuleTemplateView=TemplateView.extend({initialize:function(){TemplateView.prototype.initialize.apply(this);var a=Utils.Helpers.inverseDict(platformEnum);this.platformString=a[PLATFORM]},_renderTab:function(h,a){var g=this.model.get("meta"),j=g.items[h],b=j&&j.staticPages,d=(b)?b[this.platformString]:null,f=new Backbone.Model(j),e=WebModuleView;var c=Utils.Helpers.generateGUID();if(d){f=new GenericPageModel(d);e=GenericPageView}var i=new e({model:f,id:c});this.$el.append(i.render().el);UN.onPageReady(c,a,1,true)}}); 

var PhotoModel=Backbone.Model.extend({defaults:{description:null,id:null,index:-1,largeImage:"",mediumImage:"",smallImage:"",photoTime:-1,selected:false,socialInfo:null,title:null},initialize:function(){var a=Utils.Html.fixAlias(this.get("alias")||this.get("title"));this.set({alias:a,shareInfo:this.getShareInfo()})},getShareInfo:function(){var a=this.get("socialInfo");if(a){if(a.title){a.title=_T("SSharePhotoSubjectWithTitle",{title:a.title})}else{a.title=_T("SSharePhotoSubject")}}return a},getLargestImage:function(){return this.get("largeImage")||this.get("mediumImage")||this.get("smallImage")},getSmallestImage:function(){return this.get("smallImage")||this.get("mediumImage")||this.get("largeImage")},getMediumImage:function(a){if(a){return this.get("mediumImage")||this.get("largeImage")||this.get("smallImage")}else{return this.get("mediumImage")||this.get("smallImage")||this.get("largeImage")}}}); var instagramTemplates={userPanelView_tpl:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="scroll_wrapper"><div class="scroller"><div class="main_user_panel"><div class="userInfoPanel"></div><div class="thumbGridPanel showMoreGapBug"></div></div></div></div>'}return __p},userInfoPanelView_tpl:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="infoPanel box_padding clr_contTypeB_headerItem_bg clr_contTypeB_headerItem_brdr"><div class="avatar sliced_image" style="background-image:url(\''+((__t=(profile_picture))==null?"":__t)+'\')"></div><div class="user_texts"><div class="responsive size_title_3 clr_contTypeB_hdlTxt">'+((__t=(username))==null?"":__t)+'</div><div class="responsive size_title_2 number_box"><div class="info-box clr_contTypeB_hdlTxt">'+((__t=(media))==null?"":__t)+'</div><div class="responsive size_title_0 info-box-footer clr_contTypeB_subTxt">'+((__t=(photosText))==null?"":__t)+'</div></div><div class="responsive size_title_2 number_box cursor"><a class="followers clr_contTypeB_hdlTxt"><div class="info-box">'+((__t=(followed_by))==null?"":__t)+'</div><div class="responsive size_title_0 info-box-footer clr_contTypeB_lnkTxt">'+((__t=(followersText))==null?"":__t)+'</div></a></div><div class="responsive size_title_2 number_box last cursor"><a class="following clr_contTypeB_hdlTxt"><div class="info-box">'+((__t=(follows))==null?"":__t)+'</div><div class="responsive size_title_0 info-box-footer clr_contTypeB_lnkTxt">'+((__t=(followingText))==null?"":__t)+'</div></a></div></div><div class="clearfix"></div></div>'}return __p},thumbGridView_tpl:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<ul class="thumbPanel photoGridView"></ul>'}return __p},photoThumbView_tpl:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<img class="thumbnail" src="'+((__t=(smallImage))==null?"":__t)+'" />'}return __p},detailedPhotoView_tpl:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="scroll_wrapper"><div class="scroller"><div class="box_padding clr_contTypeB_headerItem_bg clr_contTypeB_headerItem_brdr"><div class="avatar sliced_image" style="background-image:url(\''+((__t=(profilePictureUrl))==null?"":__t)+'\')"></div><div class="comment_texts"><div class="responsive size_title_1 clr_contTypeB_hdlTxt user_name">'+((__t=(username))==null?"":__t)+"</div>";if(title){__p+='<div class="responsive size_1 clr_contTypeB_txt">'+((__t=(title))==null?"":__t)+"</div>"}__p+="";if(photoTime){__p+='<div class="responsive size_0 clr_contTypeB_subTxt photoTime">'+((__t=(photoTime))==null?"":__t)+"</div>"}__p+='</div><div class="clearfix"></div></div><div class="clr_contTypeA_bg box_padding"><div class="detailsPhoto_imageContainer"><img class="full-image-view" src= '+((__t=(standard_resolution))==null?"":__t)+' /><div class="likesCommentsBar">';if(likes_count){__p+='<div class="likesIcon showLikes cursor left"><span class="mask_sprite sprite-insta-heart clr_contTypeA_subIcn"></span><span class="cursor likesCount responsive size_title_0 clr_contTypeA_subTxt">'+((__t=(likes_count))==null?"":__t)+' <span class="clr_contTypeA_lnkTxt cursor">'+((__t=(likes_str))==null?"":__t)+"</span></span></div>"}__p+="";if(comments_count){__p+='<div class="commentsIcon showComments cursor right"><span class="mask_sprite sprite-insta-bubble clr_contTypeA_subIcn"></span><span class="cursor commentsCount responsive size_title_0 clr_contTypeA_subTxt">'+((__t=(comments_count))==null?"":__t)+' <span class="clr_contTypeA_lnkTxt cursor">'+((__t=(comments_str))==null?"":__t)+"</span></span></div>"}__p+="</div></div></div></div></div>"}return __p},itemsCollection_tpl:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="scroll_wrapper"><div class="scroller"><div class="itemsCollection showMoreGapBug"></div></div></div>'}return __p},item_tpl:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="listPanel box_classic_padding clr_contTypeA_classicItem_bg clr_contTypeA_classicItem_brdr"><div class="mini-avatar sliced_image" style="background-image:url(\''+((__t=(profilePictureUrl))==null?"":__t)+'\')"></div><div class="comment_texts"><div class="responsive size_title_1 clr_contTypeA_lnkTxt small_user_name">'+((__t=(displayName||username))==null?"":__t)+"</div>";if(typeof(text)!="undefined"&&text){__p+='<div class="responsive size_1 clr_contTypeA_txt">'+((__t=(text))==null?"":__t)+"</div>"}__p+='</div><div class="clearfix"></div></div>'}return __p}}; var CommentsCollectionModel=Backbone.Model.extend({defaults:function(){},initialize:function(a){this.set("id",a.user.id);this.set({alias:a.user.id});this.set("created_time",a.created_time);this.set("text",a.text);this.set("username",a.user.username);this.set("displayName",a.user.displayName);this.set("profilePictureUrl",a.user.profilePictureUrl);this.set("comment_id",a.id)}}); var InstagramModel=ItemsModel.extend({createItemsCollection:function(){var a=new InstagramPhotoCollection(null,this.toJSON());return a},_onGetItemsSuccess:function(a){if(a){this.set(a)}},getItemsCollectionsNames:function(){return[""]}}); var FollowsModel=ItemsModel.extend({createItemsCollection:function(){var a=new FollowsCollection(null,this.toJSON());return a},_onGetItemsSuccess:function(a){if(a){this.set(a)}},getItemsCollectionsNames:function(){return[""]}}); var LikesCollectionModel=Backbone.Model.extend({defaults:function(){},initialize:function(a){this.set({alias:this.get("id")})}}); var InstagramUser=Backbone.Model.extend({defaults:function(){return{username:"",bio:"",website:"",profile_picture:"",full_name:"",media:"",followed_by:"",follows:"",id:""}},initialize:function(){this.set({alias:this.get("id")})}}); var InstagramPhotoCollection=ItemsCollection.extend({initialize:function(b,a){ItemsCollection.prototype.initialize.apply(this);if(!a.userName){this.invalid=true}this.params={type:a.type,userName:a.userName,extraInfo:a.params||{},take:a.PHOTOS_TAKE_COUNT}},parse:function(a){var d={};var e=[];if(a&&a.photos){var b=a.owner;_.each(a.photos,function(g,f){g.alias=g.id;e[f]=new PhotoModel(g);e[f].set({profilePictureUrl:b.profilePictureUrl,username:b.username,displayName:b.displayName})});d.models=e;var c=new InstagramUser({username:b.username,displayName:b.displayName,profile_picture:b.profilePictureUrl,media:a.totalPhotos,followed_by:b.meta.totalFollowers,follows:b.meta.totalFollows,id:b.id});d.metaData={userModel:c}}return d},getServiceName:function(){return"CMS_PHOTOS_GET"},getParams:function(){return this.params}}); var FollowsCollection=ItemsCollection.extend({initialize:function(b,a){ItemsCollection.prototype.initialize.apply(this);this.params={relationType:a.relationType,provider:a.type,userId:a.userName,extraInfo:a.params||{},take:a.PHOTOS_TAKE_COUNT}},parse:function(a){var b={};var c=[];if(a&&a.relations){_.each(a.relations[0].Value,function(e,d){c[d]=new InstagramUser({displayName:e.displayName,id:e.id,link:e.link,profilePictureUrl:e.profilePictureUrl,username:e.username})});b.models=c}return b},getServiceName:function(){return"CMS_USERS_GET"},getParams:function(){return this.params}}); var UserMainPanelView=Backbone.View.extend({attributes:{"data-role":"page","data-buttons":"refresh"},initialize:function(a){this.userInfoPanelView=null;this.userGridPanelView=null;this.model.get("items").on("getItemsSuccess",this.getItemsSuccess,this);this.template=instagramTemplates.userPanelView_tpl},handleRefreshClick:function(){if(this.userGridPanelView){this.userGridPanelView.handleRefreshClick()}},handleSilentRefresh:function(){if(this.userGridPanelView){this.userGridPanelView.handleSilentRefresh()}},getItemsSuccess:function(a){this.initInfoPanel_View(a.userModel);this.$(".userInfoPanel").empty().append(this.userInfoPanelView.el)},clearView:function(a){a.off();a.remove();a=null},initInfoPanel_View:function(a){if(this.userInfoPanelView){this.clearView(this.userInfoPanelView)}this.userInfoPanelView=new UserInfoPanelView({model:a});this.userInfoPanelView.render()},render:function(){$(this.el).html(this.template());Scrolling.init(this.$(".scroll_wrapper"));this.$el.bind("refresh",this.handleRefreshClick.hitch(this));this.userGridPanelView=new UserGridPanelView({model:this.model});this.$(".thumbGridPanel").append(this.userGridPanelView.render().el);this.$el.bind("pageshow",this._onPageShow.hitch(this));this.$el.bind("pagehide",this._onPageHide.hitch(this));return this},_onPageShow:function(){setTimeout(function(){this.userGridPanelView.onPageShow.hitch(this.userGridPanelView)()}.hitch(this),10)},_onPageHide:function(){this.userGridPanelView.onPageHide.hitch(this.userGridPanelView)()},addTabsView:function(a){this.$(".scroller").prepend(a)}}); var UserInfoPanelView=Backbone.View.extend({initialize:function(){this.template=instagramTemplates.userInfoPanelView_tpl},events:{"tap .followers":"handleFollowers","tap .following":"handleFollowing"},handleFollowers:function(a){a.preventDefault();UN.navTo(InstagramUrlPrefixes.FOLLOWERS_URL+this.model.get("alias"),{level:2})},handleFollowing:function(a){a.preventDefault();UN.navTo(InstagramUrlPrefixes.FOLLOWING_URL+this.model.get("alias"),{level:2})},render:function(){var a=this;var e={photosText:_T("HtmlTextInstagramPhotosCount"),followersText:_T("HtmlTextInstagramFollowersCount"),followingText:_T("HtmlTextInstagramFollowingCount"),profile_picture:this.model.get("profile_picture")};e.username=this.model.get("displayName")||this.model.get("username");var d=localization.formatNumber(this.model.get("media"));e.media=d||"0";var c=localization.formatNumber(this.model.get("followed_by"));e.followed_by=c||"0";var b=localization.formatNumber(this.model.get("follows"));e.follows=b||"0";$(this.el).html(this.template(e));return this}}); var UserGridPanelView=ItemsView.extend({className:"thumbPanel",initialize:function(){ItemsView.prototype.initialize.apply(this);this.$itemsList.addClass("clr_contTypeA_bg");$(window).bind("throttledresize",this.onResize.hitch(this));var a=this.model.get("items");if(a){a.bind("getItemsSuccess",this.onResize,this)}},createItemView:function(b){var a=new ThumbView({model:b});return a},onResize:function(){if(this.isPageShow){this.updateThumbnailsMargin()}},onPageShow:function(){this.isPageShow=true;this.updateThumbnailsMargin();this.$itemsList.css({visibility:"visible"})},onPageHide:function(){this.isPageShow=false;this.$itemsList.css({visibility:"hidden"})},updateThumbnailsMargin:function(){var a={minWidth:80,margin:6,setAlsoMargin:true,setAlsoMarginTop:true};if(LAYOUT===layoutFormat.wide){a.minWidth=150}Utils.Html.setGridSizes(this.$itemsList,a)},getRootView:function(){return this.$el}}); var ThumbView=Backbone.View.extend({model:PhotoModel,tagName:"li",initialize:function(a){this.template=instagramTemplates.photoThumbView_tpl},events:{tap:"itemClicked"},remove:function(){$(this.el).remove()},itemClicked:function(a){a.preventDefault();UN.navTo(this.model.get("alias"),{level:3})},render:function(){$(this.el).html(this.template(this.model.toJSON()));return this}}); var DetailedPhotoView=Backbone.View.extend({attributes:{"data-role":"page",id:this.id},model:PhotoModel,events:{"tap .showComments":"showComments","tap .showLikes":"showLikes","tap .full-image-view":"openGallery"},initialize:function(){this.template=instagramTemplates.detailedPhotoView_tpl},showComments:function(a){a.preventDefault();UN.navTo(InstagramUrlPrefixes.COMMENTS_URL+this.model.get("alias"),{level:3})},showLikes:function(a){a.preventDefault();UN.navTo(InstagramUrlPrefixes.LIKES_URL+this.model.get("alias"),{level:3})},openGallery:function(b){b.preventDefault();var a=[{title:this.model.get("title"),photoTime:this.model.get("photoTime"),largeImage:this.model.getLargestImage(),shareInfo:this.model.get("shareInfo")}];new PhotoGalleryManager().pressedImage(a,0)},render:function(){var a={likes_count:0,comments_count:0,likes_str:_T("HtmlTextInstagramLikes"),comments_str:_T("HtmlTextInstagramComments"),title:this.model.get("title"),photoTime:Utils.TimeDate.timeAsText(this.model.get("photoTime")),username:this.model.get("displayName")||this.model.get("username"),profilePictureUrl:this.model.get("profilePictureUrl"),standard_resolution:this.model.getLargestImage()};if(this.model.get("additionalInfo").likes.likes){a.likes_count=localization.formatNumber(this.model.get("additionalInfo").likes.likes)}if(this.model.get("additionalInfo").totalComments){a.comments_count=localization.formatNumber(this.model.get("additionalInfo").totalComments)}this.$el.html(this.template(a));var b=this.$(".scroll_wrapper");Scrolling.init(b);this.$("IMG").load(function(){Scrolling.onContentChanged(b)}.hitch(this)).error(function(){$(this).remove()});return this}}); var InstagramItemView=Backbone.View.extend({tagName:"li",initialize:function(a){this.template=instagramTemplates.item_tpl},events:{tap:"itemClicked"},itemClicked:function(a){a.preventDefault();UN.navTo(InstagramUrlPrefixes.USER_URL+this.model.get("alias"),{level:2})},render:function(){var a=this.model.toJSON();a.text=this.options.text;$(this.el).html(this.template(a));return this}}); var InstagramCommentView=Backbone.View.extend({tagName:"li",initialize:function(a){this.template=instagramTemplates.item_tpl},events:{tap:"itemClicked"},remove:function(){$(this.el).remove()},itemClicked:function(a){a.preventDefault();UN.navTo(InstagramUrlPrefixes.USER_URL+this.model.get("alias"),{level:2})},render:function(){$(this.el).html(this.template(this.model.toJSON()));return this}}); var CommentsCollectionView=Backbone.View.extend({attributes:{"data-role":"page",id:this.id},initialize:function(a){this.template=instagramTemplates.itemsCollection_tpl},addAll:function(){var b=this;var a;_.each(this.collection,function(d,c){a=new CommentsCollectionModel(d);b.addOne(a)})},addOne:function(b){var a=new InstagramCommentView({model:b});this.$(".itemsCollection").append(a.render().el)},render:function(){$(this.el).html(this.template());this.addAll();Scrolling.init(this.$(".scroll_wrapper"));return this}}); var LikesCollectionView=Backbone.View.extend({attributes:{"data-role":"page",id:this.id},initialize:function(a){this.template=instagramTemplates.itemsCollection_tpl},addAll:function(){var a=this;var b;_.each(this.collection,function(d,c){b=new LikesCollectionModel(d);a.addOne(b)})},addOne:function(a){view=new InstagramItemView({model:a,text:_T("HtmlTextInstagramUserLikePhoto")});this.$(".itemsCollection").append(view.render().el)},render:function(){$(this.el).html(this.template());this.addAll();Scrolling.init(this.$(".scroll_wrapper"));return this}}); var InstagramUrlPrefixes={USER_URL:"user_",DEFAULT_USER_URL:"default",FOLLOWERS_URL:"followedBy_",FOLLOWING_URL:"follows_",COMMENTS_URL:"comments_",LIKES_URL:"likes_"};var InstagramTemplateView=TemplateView.extend({_renderTab:function(a,b){var d=this.model.get("meta").items[a]||{};var c={tabParams:d};UN.registerChange(this.onUserSelected.hitch(this),2,{navRequest:b,data:c,cbSelectDefault:this._selectDefaultUser.hitch(this)})},_selectDefaultUser:function(b){var a=b.navRequest;UN.navTo(InstagramUrlPrefixes.DEFAULT_USER_URL,{navRequest:a,isInner:false})},onUserSelected:function(d,e){var a=d.navRequest;var c=$.extend({},d.tabParams);if(e.startsWith(InstagramUrlPrefixes.FOLLOWERS_URL)||e.startsWith(InstagramUrlPrefixes.FOLLOWING_URL)){var b=true;var h=null;if(e.startsWith(InstagramUrlPrefixes.FOLLOWERS_URL)){h="followed-by";var j=e.replace(InstagramUrlPrefixes.FOLLOWERS_URL,"")}else{if(e.startsWith(InstagramUrlPrefixes.FOLLOWING_URL)){h="follows";var j=e.replace(InstagramUrlPrefixes.FOLLOWING_URL,"")}}$.extend(c,{userName:j,relationType:h});UsageManager.addEvent(analytics.usageEventTypeEnum.ItemView,{type:h,id:j,list:true});var f=new FollowsModel(c);var i=new FollowsPanelView({model:f})}else{var b=false;if(e.startsWith(InstagramUrlPrefixes.USER_URL)){var j=e.replace(InstagramUrlPrefixes.USER_URL,"");$.extend(c,{userName:j});UsageManager.addEvent(analytics.usageEventTypeEnum.ItemView,{type:"user",id:j,list:true})}else{}var f=new InstagramModel(c);var i=new UserMainPanelView({model:f})}var g=(e===InstagramUrlPrefixes.DEFAULT_USER_URL);this.renderListPage({navRequest:a,model:f,view:i,addTabs:g,level:2,useGenericNoItems:b})},getItemViewUsageMeta:function(a,b){var c={id:a.get("id")};if(b.startsWith(InstagramUrlPrefixes.COMMENTS_URL)){c.type="comments"}else{if(b.startsWith(InstagramUrlPrefixes.LIKES_URL)){c.type="likes"}else{c.type="image"}}return c},aliasToItemAlias:function(a){if(a.startsWith(InstagramUrlPrefixes.COMMENTS_URL)){return a.replace(InstagramUrlPrefixes.COMMENTS_URL,"")}else{if(a.startsWith(InstagramUrlPrefixes.LIKES_URL)){return a.replace(InstagramUrlPrefixes.LIKES_URL,"")}else{return a}}},getDetailsView:function(a,c,b){if(b.startsWith(InstagramUrlPrefixes.COMMENTS_URL)){return new CommentsCollectionView({collection:a.get("additionalInfo").comments})}else{if(b.startsWith(InstagramUrlPrefixes.LIKES_URL)){return new LikesCollectionView({collection:a.get("additionalInfo").likes.likeUsers})}else{return new DetailedPhotoView({model:a})}}}}); var SocialCollectionView=ItemsView.extend({initialize:function(){ItemsView.prototype.initialize.apply(this)},createItemView:function(b){var a=new InstagramItemView({model:b});return a},getRootView:function(){return this.$el}}); var FollowsPanelView=Backbone.View.extend({attributes:{"data-role":"page","data-buttons":"refresh"},initialize:function(a){this.template=instagramTemplates.itemsCollection_tpl;this.$el.bind("refresh",this.handleRefreshClick.hitch(this));this.$el.bind("silentRefresh",this.handleSilentRefresh.hitch(this))},handleRefreshClick:function(){if(this.screenView){this.screenView.handleRefreshClick()}},handleSilentRefresh:function(){if(this.screenView){this.screenView.handleSilentRefresh()}},render:function(){$(this.el).html(this.template());Scrolling.init(this.$(".scroll_wrapper"));this.screenView=new SocialCollectionView({model:this.model});this.$(".itemsCollection").append(this.screenView.render().el);return this}}); var photosTemplates={previews_list_tpl:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<ul class="previews_list"></ul>'}return __p},album_preview_tpl:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="album_item touch_active clr_contTypeB_bubbleItem_bg clr_contTypeB_bubbleItem_brdr ';if(selected){__p+=" selected "}__p+='" data-role="button" rel2="'+((__t=(albumIndex))==null?"":__t)+'"><div class="size_title_2 photos_count clr_contTypeB_txt">0</div><div class="size_0 photos_static_text clr_contTypeB_subTxt">'+((__t=(photosStaticText))==null?"":__t)+'</div><div class="preview_images active"></div><div class="preview_images inactive"></div></div>'}return __p},preview_no_images_tpl:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="preview_no_images clr_contTypeB_subBg"><div class="center"><div class="message clr_contTypeB_subTxt">'+((__t=(staticText))==null?"":__t)+"</div></div></div>"}return __p},album_properties_preview_tpl:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";if(coverUrl!==""){__p+='<div class="album_cover sliced_image" style="background-image: url(\''+((__t=(coverUrl))==null?"":__t)+"');\" />"}__p+='<div class="album_texts"><div class="size_title_3 _1_line ellipsis album_cover_name clr_contTypeB_hdlTxt">'+((__t=(name))==null?"":__t)+"</div>";if(descr!==""){__p+='<div class="size_1 album_description clr_contTypeB_txt">'+((__t=(descr))==null?"":__t)+"</div>"}__p+="</div>"}return __p},preview_image_tpl:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="preview_image sliced_image" style="width: '+((__t=(width))==null?"":__t)+"px;height: "+((__t=(height))==null?"":__t)+"px;margin-top: "+((__t=(marginTop))==null?"":__t)+"px;margin-right: "+((__t=(marginRight))==null?"":__t)+"px;margin-left: "+((__t=(marginLeft))==null?"":__t)+"px;";if(typeof(lazyLoad)!="undefined"&&lazyLoad){__p+='" data-image="'+((__t=(imgSrc))==null?"":__t)+'" '}else{__p+="background-image: url("+((__t=(imgSrc))==null?"":__t)+');" '}__p+='rel="'+((__t=(id))==null?"":__t)+'" />'}return __p},photosListMarkup:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="scroll_wrapper"><div class="scroller"></div></div>'}return __p},albumHeaderMarkup:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";if(typeof(albumImage)!="undefined"&&albumImage){__p+='<div class="album_header_item album_image sliced_image" style="background-image: url('+((__t=(albumImage))==null?"":__t)+');"></div>'}__p+='<div class="album_header_item flexboxChild-wideChild flexbox flexbox-center"><div class="album_texts_container"><div class="size_title_3 album_name clr_contTypeB_hdlTxt"> '+((__t=(albumName))==null?"":__t)+" </div>";if(typeof(albumDescr)!="undefined"&&albumDescr){__p+='<div class="size_1 album_descr clr_contTypeB_txt"> '+((__t=(albumDescr))==null?"":__t)+" </div>"}__p+='</div></div><div class="album_header_item numbers_box flexbox flexbox-vertical flexbox-end"><div class="size_title_2 photos_count_number clr_contTypeB_subTxt"> '+((__t=(count))==null?"":__t)+' </div><div class="flexboxChild-wideChild size_0 _1_line photos_count_str clr_contTypeB_txt"> '+((__t=(photosStr))==null?"":__t)+" </div>";if(typeof(uploadButton)!="undefined"&&uploadButton){__p+='<div data-role="button" class="upload_button clr_contTypeB_actBtn_bg clr_contTypeB_actBtn_brdr clr_contTypeB_actBtn_hdlTxt"><div class="icon mask_sprite sprite-takePhoto clr_contTypeB_actBtn_icn"></div></div>'}__p+="</div>"}return __p},thumbnail:{0:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="image_thumbnail_container clr_images_image2_brdr clr_images_image2_bg"><div class="image_thumbnail sliced_image" style="background-image: url('+((__t=(imageSrc))==null?"":__t)+"); height: "+((__t=(imageWidth))==null?"":__t)+"px; width: "+((__t=(imageWidth))==null?"":__t)+'px;"></div></div>'}return __p},1:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="image_thumbnail sliced_image" style="background-image: url('+((__t=(imageSrc))==null?"":__t)+"); height: "+((__t=(imageWidth))==null?"":__t)+"px; width: "+((__t=(imageWidth))==null?"":__t)+'px;"></div><div class="photo_title clr_contTypeB_hdlTxt" style="max-width: '+((__t=(imageWidth))==null?"":__t)+'px;">'+((__t=(title))==null?"":__t)+"</div>"}return __p},2:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="photo_blog_container"><div class="photo_blog_img" style="background-image: url(\''+((__t=(imageSrc))==null?"":__t)+'\');"></div><div class="photo_blog_user_container';if(userImage){__p+=" withImage"}__p+='">';if(userImage){__p+='<div class="userImage sliced_image" style="background-image: url('+((__t=(userImage))==null?"":__t)+');"></div>'}__p+='<div class="userTexts">';if(byUser){__p+='<div class="size_title_1 byUser clr_contTypeA_hdlTxt">'+((__t=(byUser))==null?"":__t)+"</div>"}__p+='<div class="size_1 photo_blog_title clr_contTypeA_txt">'+((__t=(title))==null?"":__t)+'</div></div></div><div class="size_0 photo_blog_poster clr_contTypeA_subTxt">'+((__t=(timeText))==null?"":__t)+"</div></div>"}return __p},3:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<img class="image_thumbnail clr_images_image2_brdr clr_images_image2_bg" src="'+((__t=(imageSrc))==null?"":__t)+'" style="height: '+((__t=(imageWidth))==null?"":__t)+'px;"></img>'}return __p},4:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<img class="photo_vertical_img" src="'+((__t=(imageSrc))==null?"":__t)+'" />';if(title){__p+='<div class="image_title clr_contTypeC_subTxt ';if(position==="top"){__p+="top"}else{if(position==="middle"){__p+="middle"}else{__p+="bottom"}}__p+='">'+((__t=(title))==null?"":__t)+"</div>"}__p+=""}return __p},8:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="image_thumbnail_container clr_images_image2_brdr clr_images_image2_bg"><div class="image_thumbnail sliced_image" style="background-image: url('+((__t=(imageSrc))==null?"":__t)+');"></div></div>'}return __p},9:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="image_thumbnail_container clr_images_image2_brdr clr_images_image2_bg"><div class="image_thumbnail sliced_image" style="background-image: url('+((__t=(imageSrc))==null?"":__t)+');"></div></div>'}return __p}},largeImage:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="large_img sliced_image clr_appGeneral_bg" style="background-image:url('+((__t=(imageSrc))==null?"":__t)+');">';if(title){__p+='<div class="header_box clr_contTypeC_bg"><div class="image_title clr_contTypeC_hdlTxt">'+((__t=(title))==null?"":__t)+"</div></div>"}__p+="</div>"}return __p},slideViewMarkup:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="slide_container" dir="ltr"><div class="horizontal_strip"><div class="image sliced_image cool_border_image clr_appGeneral_bg"></div><div class="image sliced_image cool_border_image clr_appGeneral_bg"></div><div class="image sliced_image cool_border_image clr_appGeneral_bg"></div><div class="image sliced_image cool_border_image clr_appGeneral_bg"></div><div class="image sliced_image cool_border_image clr_appGeneral_bg"></div><div class="image sliced_image cool_border_image clr_appGeneral_bg"></div><div class="image sliced_image cool_border_image clr_appGeneral_bg"></div></div></div><div class="size_1 album_description clr_contTypeB_hdlTxt"></div>'}return __p},arrowsViewMarkup:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="slide_panel" dir="ltr"><div class="prev button_arrow clr_contTypeB_actBtn_bg clr_contTypeB_actBtn_brdr clr_contTypeB_actBtn_hdlTxt clr_contTypeB_actBtn_icn" data-role="button"><div class="icon mask_sprite sprite-arrow-left clr_contTypeB_actBtn_icn"></div></div><div class="image sliced_image cool_border_image clr_appGeneral_bg"></div><div class="next button_arrow clr_contTypeB_actBtn_bg clr_contTypeB_actBtn_brdr clr_contTypeB_actBtn_hdlTxt clr_contTypeB_actBtn_icn" data-role="button"><div class="icon mask_sprite sprite-arrow-right clr_contTypeB_actBtn_icn"></div></div></div><div class="circles_container" dir="ltr"></div><div class="size_1 album_description clr_contTypeB_hdlTxt"></div>'}return __p},circleButtonMarkup:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="circle_button clr_contTypeB_actBtn_bg clr_contTypeB_actBtn_brdr clr_contTypeB_actBtn_hdlTxt clr_contTypeB_actBtn_icn';if(disabled){__p+=" disabled"}__p+='" data-role="button"></div>'}return __p},photoUploadMarkup:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<img class="thumbnail" src="'+((__t=(imageURI))==null?"":__t)+'" /><div class="uploading"><div class="loading-txt clr_contTypeB_txt">'+((__t=(uploadTxt))==null?"":__t)+'</div><div class="loading-indicator mask_sprite sprite-ajax-loader_small spin clr_contTypeA_subIcn"></div></div><div class="fail-bar"><div class="error-message clr_contTypeB_txt">'+((__t=(errorMessage))==null?"":__t)+'</div><div class="button retry-button clr_contTypeB_btn_bg clr_contTypeB_btn_brdr clr_contTypeB_btn_hdlTxt"><div class="button-icon mask_sprite sprite-la-retry clr_contTypeB_btn_icn"></div></div><div class="button cancel-button clr_contTypeB_btn_bg clr_contTypeB_btn_brdr clr_contTypeB_btn_hdlTxt"><div class="button-icon mask_sprite sprite-la-cancel clr_contTypeB_btn_icn"></div></div></div>'}return __p}}; var PhotosModel=ItemsModel.extend({initialize:function(){ItemsModel.prototype.initialize.apply(this,arguments);var a=this.get("items");if(a){a.bind("getItemsSuccess",this._onGetItemsSuccess,this);a.bind("itemClicked",this.onItemClicked,this)}var b=new Backbone.Collection();this.set({uploadingImagesCollection:b})},createItemsCollection:function(){var b=this.toJSON();var a=this.get("layoutId");if(a===4||a===5||a===6||a===7){b.PHOTOS_TAKE_COUNT=8}else{b.PHOTOS_TAKE_COUNT=25}return new PhotosCollection(null,b)},onItemClicked:function(a){this.trigger("itemSelected",a)},_onGetItemsSuccess:function(a){if(a){this.set(a)}this._addUploadingToCollection()},_getUploadUrl:function(){if(!this.uploadServiceUrl){var b=this.get("params").groupId;var a=this.get("userName");var c={albumId:a,groupId:b};this.uploadServiceUrl=Services.generateUrl("LIVE_ALBUM_PHOTO_V2_POST",c)}return this.uploadServiceUrl},uploadImage:function(e,d){var c=this;function a(k,g){var i="http://graph.facebook.com/"+k.fbId+"/picture";var l=new Object();l.message=d;l.userId=k.fbId;l.userType=PhotoUploadUserTypes.FACEBOOK;l.userImageUrl=i;l.userProfileUrl="http://www.facebook.com/"+k.fbId;if(g&&g.link){l.userProfileUrl=g.link}l.username="";if(g&&g.name){l.username=g.name}var h=new PhotoUploadModel({imageURI:e,postParams:l,largeImage:e,title:d,photoTime:parseInt((new Date().getTime())/1000),from:{imageUrl:i,name:_T("HtmlTextLiveAlbumUploadedByYou")}});var j=function(m){if(m){h.set({id:Utils.Helpers.generateGUID(),upload_id:m.result.photo.id});c.get("uploadingImagesCollection").add(h);h.set({state:PhotoUploadModel.STATE.SUCCESS});c._addUploadingToCollection()}};c.get("uploadingImagesCollection").add(h);h.bind("onRetry",c._uploadImage,c);h.bind("onCancel",c._onCancelUpload,c);c._uploadImage(h)}function f(){}var b={useLoginForm:true};socialDriver.getAccessTokens(a,f,socialServicesEnum.Facebook,b)},_uploadImage:function(a){a.set({state:PhotoUploadModel.STATE.UPLOADING});var d=a.get("imageURI");var h=a.get("postParams");var b=new FileUploadOptions();b.fileKey="file";b.fileName=d.substr(d.lastIndexOf("/")+1);b.mimeType="image/jpeg";var g=parseInt(new Date().getTime()/1000);h.dateTaken=g;a.set({photoTime:g});b.params=h;var e=this._getUploadUrl();var f=new FileTransfer();var c=this;f.upload(d,e,function(i){if(i.response){if(DEVICE===deviceTypeEnum.iphone){i.response=decodeURIComponent(i.response)}i=JSON.parse(i.response)}if(i.success){c._imageUploadSuccess(a,i)}else{c._imageUploadFailed(a,i)}},function(i){c._imageUploadFailed(a,i)},b)},_onCancelUpload:function(a){this.get("uploadingImagesCollection").remove(a)},_imageUploadFailed:function(a){a.set({state:PhotoUploadModel.STATE.FAIL})},_imageUploadSuccess:function(a,b){if(b&&b.result&&b.result.photo&&b.result.photo.id){a.set({id:Utils.Helpers.generateGUID(),upload_id:b.result.photo.id});if(navigator.liveAlbum.uploadImageSucceeded){a.set({instagramShare:AppSettingsManager.getSettings().get("instagramShare")});navigator.liveAlbum.uploadImageSucceeded(null,null,a.toJSON())}}a.set({state:PhotoUploadModel.STATE.SUCCESS});this._addUploadingToCollection()},_addUploadingToCollection:function(){var b=this.get("uploadingImagesCollection");var a=this.get("items");b.each(function(c){if(c.get("state")===PhotoUploadModel.STATE.SUCCESS){var e=c.get("upload_id");var d=c.get("id");if(a.get(e)){b.remove(c)}else{if(!a.get(d)){a.add(c,{at:0});a.trigger("singleAdd")}}}})},getPhotosArrayForGallery:function(){var a=[];var d=this.get("items");if(d){for(var c=0;c<d.models.length;c++){var b=d.at(c);a[c]={title:b.get("title"),photoTime:b.get("photoTime"),largeImage:b.getLargestImage(),shareInfo:b.get("shareInfo")}}}return a}}); var PhotoUploadModel=PhotoModel.extend({defaults:{state:0}});PhotoUploadModel.STATE={UPLOADING:0,FAIL:1,SUCCESS:2}; var PhotosCollection=ItemsCollection.extend({model:PhotoModel,initialize:function(b,a){ItemsCollection.prototype.initialize.apply(this);if(a.type){switch(a.type){case"picasa":case"facebook":case"flickr":case"smugmug":if(!a.userName||!a.params||!a.params.albumName){this.invalid=true}break;case"tumblr":case"twitpic":if(!a.userName){this.invalid=true}break;case"livealbum":if(!a.userName||!a.params.groupId){this.invalid=true}break;case"mrss":if(!a.params||!a.params.albumId){this.invalid=true}break}}else{this.invalid=true}this.params={type:a.type,userName:a.userName,extraInfo:a.params||{},take:a.PHOTOS_TAKE_COUNT};if(a.uploadButton){this.params.extraInfo.expiration=1}this.overrideDescription=a.overrideDescription},parse:function(a){var e={};if(a&&a.photos){var d=a.description;if(this.overrideDescription===null||typeof(this.overrideDescription)==="object"){this.overrideDescription=""}if(typeof(this.overrideDescription)==="string"){d=this.overrideDescription}var f=[];for(var c=0;c<a.photos.length;c++){a.photos[c].albumDescription=d;if(typeof(this.overrideDescription)==="string"){a.photos[c].title=this.overrideDescription}f[c]=new PhotoModel(a.photos[c])}e.models=f;var b=new Backbone.Model({count:a.totalPhotos,albumName:a.albumName,albumDescr:d,albumImage:a.coverPhotoUrl||""});e.metaData={album:b}}return e},getServiceName:function(){return"CMS_PHOTOS_GET"},getParams:function(){return this.params}}); var PhotosTemplateView=TemplateView.extend({DEFAULT_LAYOUT:8,LIVE_ALBUM_TYPE:"26ae8ccc-5464-7979-4fdf-3a13f166ffff",initialize:function(){TemplateView.prototype.initialize.apply(this);var a=this.model.get("meta");if(this.model.get("type")==this.LIVE_ALBUM_TYPE){a.pageLayout=2;a.usePreviews=true}this._galleryManager=new PhotoGalleryManager();this._photosModels=[];this.coverViews=[];if((typeof(a.pageLayout)!=="number")||a.pageLayout<0||a.pageLayout>10){a.pageLayout=this.DEFAULT_LAYOUT}if(LAYOUT===layoutFormat.wide&&(a.pageLayout===2||a.pageLayout===4||a.pageLayout===5||a.pageLayout===6||a.pageLayout===7)){a.pageLayout=this.DEFAULT_LAYOUT}},_shouldRenderTemplate:function(){var a=this.model.get("meta");return(a.usePreviews||a.pageLayout===9)},_shouldSelectDefaultTab:function(){return(LAYOUT===layoutFormat.wide)||!this._shouldRenderTemplate()},_renderTemplate:function(d){var e=this.model.get("meta");var f=Utils.Helpers.generateGUID();var c=new PreviewsListView({id:f});c.render();var b=e.items;if(!b||!b.length){var a=this._renderNoData(d);this.homePageId=a&&a.id;return}$.each(b,function(g){this.createPhotosModel(g);this._photosModels[g].getItems({executeType:executeTypeEnum.FORCE_NETWORK});this.coverViews[g]=new AlbumPreviewView({model:this._photosModels[g],albumIndex:g})}.hitch(this));c.addTabs(this.coverViews);if(LAYOUT===layoutFormat.wide){f=Utils.Helpers.generateGUID();this.dividedScreenView=new DividedScreenView({id:f});this.dividedScreenView.setView1(c);this.$el.append(this.dividedScreenView.render().addRefreshButton(true).el)}else{this.$el.append(c.el)}this.homePageId=f},_noDefaultTab:function(a){UN.onPageReady(this.homePageId,a,0)},_renderTab:function(d,e){var f=this.model.get("meta");this.createPhotosModel(d);var c=this._photosModels[d];var b=this.createPhotosView(c,d);this.onAlbumSelected(c);var g=!this._shouldRenderTemplate();var a=false;this.renderListPage({navRequest:e,model:c,view:b,addTabs:g,dividedScreenView:this.dividedScreenView,useGenericNoItems:a})},onAlbumSelected:function(a){var b=!!(this._selectedItem&&this._selectedItem.cid===a.cid);if(this._selectedItem&&!b){this._selectedItem.set({selected:false})}if(!b){this._selectedItem=a;this._selectedItem.set({selected:true})}},createPhotosModel:function(b){if(!this._photosModels[b]){var c=this.model.get("meta");var a=c.items[b];if(a){a.layoutId=c.pageLayout;a.layoutParams=c.layoutParams;a.uploadButton=this.model.get("type")==this.LIVE_ALBUM_TYPE}this._photosModels[b]=new PhotosModel(a);this._photosModels[b].set({layoutId:c.pageLayout,albumIndex:b})}},createPhotosView:function(b,a){var c=new PhotosView({model:b});c.bind("onPhotoSelected",this._onPhotoSelected,this);c.bind("onUploadButtonClick",function(){this._onUploadButtonClick(a)},this);return c},_onUploadButtonClick:function(a){if(PLATFORM===platformEnum.simulator){var e=[{text:"Close"}];var c="Camera is not supported in simulator mode";uiDriver.showDialogBox(null,null,{title:"Error",message:c,buttons:e});return}var d=[{title:_T("DialogButtonLiveAlbumChoosePhotoTake"),returnValue:"CAMERA"},{title:_T("DialogButtonLiveAlbumChoosePhotoChoose"),returnValue:"PHOTOLIBRARY"}];var b={};ChooseDialog.execute(d,function(f){this._takePhoto(f,a)}.hitch(this),null,b)},_takePhoto:function(f,b){var g=this;var i={CAMERA:navigator.camera.PictureSourceType.CAMERA,PHOTOLIBRARY:navigator.camera.PictureSourceType.PHOTOLIBRARY};var k={quality:80,destinationType:navigator.camera.DestinationType.FILE_URI,sourceType:i[f],targetWidth:1024,targetHeight:1024};var h=this.model.get("meta");var e=h.items[b];if(e.options){_.extend(k,e.options)}var h=this.model.get("meta");var d=h.items[b];d.filters=d.filters||{};var a=d.filters["device_"+DEVICE];g.translateFiltersNames(a);k.extraOptions={isShowPhotoDialog:true,dialogCaption:_T("DialogCaptionLiveAlbumPostPhoto"),cancelTitle:_T("DialogButtonLiveAlbumPostPhotoCancel"),okTitle:_T("DialogButtonLiveAlbumPostPhotoOk"),inputPlaceholder:_T("HtmlTextLiveAlbumAddComment"),filters:a,watermark:d.watermark,augmentedReality:d.augmentedReality,activityUploading:_T("UploadStatusLiveAlbumImageUploading"),activitySent:_T("UploadStatusLiveAlbumImageSent"),activityFailed:_T("UploadStatusLiveAlbumProcessFailed"),overlay:d.overlay};var j=function(l){k.imageURI=l;g._cbCaptureImageSuccess(b,k)};var c=function(){};if(((DEVICE===deviceTypeEnum.iphone)&&(PLATFORM===platformEnum.nativeApp))||(((k.sourceType==i.CAMERA)&&k.extraOptions.augmentedReality)&&((DEVICE===deviceTypeEnum.android)&&(PLATFORM===platformEnum.nativeApp)&&(OS_VERSION>=11)))){navigator.liveAlbum.takePicture(j,c,k)}else{navigator.camera.getPicture(j,c,k)}},translateFiltersNames:function(b){if(b){for(var a=b.length-1;a>=0;a--){b[a].name=Utils.String.translateIfNeed(b[a].name)}}},_cbCaptureImageSuccess:function(b,c){var e=this;var a=function(){};var d=function(f){e._cbUploadImageDlgOk(f.imageURI,f.textMessage,b)};navigator.liveAlbum.uploadImageDialog(d,a,c)},_cbUploadImageDlgOk:function(c,b,a){this._photosModels[a].uploadImage(c,b)},_onPhotoSelected:function(a,c){var b=this._photosModels[a].getPhotosArrayForGallery();this._galleryManager.pressedImage(b,c)}}); var AlbumPreviewView=BaseItemsView.extend({tagName:"li",className:"album_cover",initialize:function(){BaseItemsView.prototype.initialize.apply(this);this.model.bind("change:selected",this.onSelectedChange,this);$(window).bind("throttledresize",this.onResize.hitch(this));this.$el.tap(function(a){a.preventDefault();UN.navTo(this.model.get("alias"),{level:1,isInner:(LAYOUT===layoutFormat.narrow)})}.hitch(this))},_onGetItemsSuccess:function(){this.render();BaseItemsView.prototype._onGetItemsSuccess.apply(this)},_updatePhotosCount:function(){var b=this.model.get("album");var a=b&&b.get("count");this.$el.find(".photos_count").html(a||"0")},onSelectedChange:function(){if(LAYOUT===layoutFormat.wide){if(this.model.get("selected")){this.$(".album_item").addClass("selected")}else{this.$(".album_item").removeClass("selected")}}},_reset:function(){var c={photosStaticText:_T("HtmlTextLiveAlbumPhotos"),albumIndex:this.options.albumIndex,selected:this.model.get("selected")};this.$el.html(photosTemplates.album_preview_tpl(c));this._initAlbumProperties();var b={staticText:'<div class="loading_album_icon mask_sprite sprite-ajax-loader_small spin clr_appGeneral_loadingSmallIcn"></div><div class="loading_album_text">'+_T("HtmlTextLiveAlbumLoadingAlbum")+"</div>"};var a=photosTemplates.preview_no_images_tpl(b);this.$el.find(".preview_images.active").html(a)},updateImagesSizes:function(){var d=this.model.get("items");var a=d.length;if(a>0){var b=this.$el.find(".preview_images.active .preview_image:first-child");var c=this._getImageSizes(0);b.css("width",c.width+"px").css("height",c.height+"px").css("margin-top",c.marginTop+"px");if(IS_RTL){b.css("margin-right",c.marginLeft+"px")}else{b.css("margin-left",c.marginLeft+"px")}}},_getImageSizes:function(a){var d={height:40,width:40,marginTop:4,marginLeft:4};if(a===0){var c=this.model.get("items");var b=c.length;var f=this.$el.find(".preview_images.active");var e=Math.max(f.width(),40);d.height=d.height*2+d.marginTop;if(b===1){d.width=e}else{if(b<4){d.width=e-d.marginLeft-d.width}else{if(b<6){d.width=e-d.marginLeft*2-d.width*2}else{d.width=e-d.marginLeft*3-d.width*3}}}d.marginLeft=0;d.marginTop=0}else{if((b<4&&a<2)||(b<6&&a<3)||(a<4)){d.marginTop=0}}return d},_renderItems:function(){if(!this.model.get("album")){return}this._updatePhotosCount();var d=this.model.get("items");items=d.models.slice(-7);var a=$.map(items,function(k,g){var j=this._getImageSizes(items.length-1-g);if(IS_RTL){j.marginRight=j.marginLeft;j.marginLeft=0}else{j.marginRight=0}var i=k.getMediumImage();var l=false;var m={width:j.width,height:j.height,marginTop:j.marginTop,marginLeft:j.marginLeft,marginRight:j.marginRight,imgSrc:i,lazyLoad:l,id:k.get("id")};var h=$(photosTemplates.preview_image_tpl(m));return h}.hitch(this));var e=this.$el.find(".preview_images.active");var c=this.$el.find(".preview_images.inactive");if(a.length>0){c.html("");$.each(a,function(g,h){c.prepend(h)})}else{var f={staticText:_T("HtmlTextPhotosNoImages")};var b=photosTemplates.preview_no_images_tpl(f);c.html(b)}c.removeClass("inactive").addClass("active");e.removeClass("active").addClass("inactive")},_initAlbumProperties:function(){var b={coverUrl:"",name:this.model.get("title")||"",descr:this.model.get("description")||""};var a=photosTemplates.album_properties_preview_tpl(b);this.$el.find(".album_item").prepend(a)},onResize:function(){if(this.isPageShow){this.updateImagesSizes()}},onPageShow:function(){this.isPageShow=true;this.updateImagesSizes()},onPageHide:function(){this.isPageShow=false},_renderShowMoreButton:function(){}}); var PreviewsListView=Backbone.View.extend({coverViews:[],initialize:function(){this.$el.attr({"data-role":"page","data-buttons":"refresh"});this.$el.bind("pageshow",this.onPageShow.hitch(this));this.$el.bind("pagehide",this.onPageHide.hitch(this));this.bind("pageshow",this.onPageShow.hitch(this));this.bind("pagehide",this.onPageHide.hitch(this));this.$el.bind("refresh",this.handleRefreshClick.hitch(this));this.$el.bind("silentRefresh",this.handleSilentRefresh.hitch(this))},render:function(b){this.$el.html('<div class="scroll_wrapper"><div class="scroller"></div></div>');var c=this.$el.find(".scroller");this.$scrollWrapper=this.$el.find(".scroll_wrapper");var a=photosTemplates.previews_list_tpl;c.html(a(b));this.$listContainer=c.find(".previews_list");Scrolling.init(this.$scrollWrapper);return this},onPageShow:function(){$.each(this.coverViews,function(a){setTimeout(function(){this.coverViews[a].onPageShow.hitch(this.coverViews[a])()}.hitch(this),10)}.hitch(this))},onPageHide:function(){$.each(this.coverViews,function(a){this.coverViews[a].onPageHide.hitch(this.coverViews[a])()}.hitch(this))},handleRefreshClick:function(){$.each(this.coverViews,function(a){this.coverViews[a].handleRefreshClick()}.hitch(this))},handleSilentRefresh:function(){$.each(this.coverViews,function(a){this.coverViews[a].handleSilentRefresh()}.hitch(this))},addTabs:function(a){this.coverViews=a;$.each(a,function(b){this.$listContainer.append(this.coverViews[b].render().el);this.coverViews[b].onPageShow()}.hitch(this));Scrolling.init(this.$scrollWrapper)}}); var ThumbnailView=Backbone.View.extend({tagName:"li",IMAGE_WIDTH_NARROW:73,IMAGE_WIDTH_WIDE:150,events:{tap:"itemClicked"},initialize:function(){this.$el.attr("data-role","button")},render:function(){var b={title:this.model.get("title")};if(this.options.layoutId===2){this.$el.addClass("clr_contTypeA_bg clr_contTypeA_brdr");var a=this.model.get("photoTime");b.timeText=Utils.TimeDate.timeAsText(a);b.imageSrc=this.model.getLargestImage();b.userImage="";b.byUser="";var c=this.model.get("from");if(c){if(c.imageUrl){b.userImage=c.imageUrl}if(c.name){b.byUser=_T("HtmlTextLiveAlbumByUploader",{name:c.name})}}}else{if(this.options.layoutId===0||this.options.layoutId===1||this.options.layoutId===3||this.options.layoutId===8||this.options.layoutId===9){this.$el.addClass("thumbnail-view");if(LAYOUT===layoutFormat.wide){b.imageWidth=this.IMAGE_WIDTH_WIDE;b.imageSrc=this.model.getMediumImage(true)}else{b.imageWidth=this.IMAGE_WIDTH_NARROW;b.imageSrc=this.model.getMediumImage(true)}}else{if(this.options.layoutId===4){this.$el.addClass("photo_vertical_item");b.imageSrc=this.model.getLargestImage();if(this.options.layoutParams&&this.options.layoutParams.descriptionPosition){b.position=this.options.layoutParams.descriptionPosition}else{b.position="bottom"}}}}this.$el.html(photosTemplates.thumbnail[this.options.layoutId](b));if(this.options.layoutId===4||this.options.layoutId===3){this.$el.find("IMG").load(function(){var d=Scrolling.getMyScrollerWrapper(this.$el);Scrolling.onContentChanged(d)}.hitch(this)).error(function(){$(this).remove()})}return this},itemClicked:function(a){a.preventDefault();if(this.options.layoutId!==4){this.model.trigger("itemClicked",this.model)}}}); var ThumbnailColumnView=Backbone.View.extend({tagName:"li",className:"t3d sliced_image column-thumbnail-view animation",events:{tap:"itemClicked"},render:function(){this.$el.css({"background-image":"url("+this.model.getMediumImage(true)+")"});return this},itemClicked:function(a){a.preventDefault();this.model.trigger("itemClicked",this.model)}}); var PhotosView=Backbone.View.extend({initialize:function(){this.$el.attr({"data-role":"page","data-buttons":"refresh"});this.model.unbind("change:album");this.model.unbind("itemSelected");this.model.bind("change:album",this._renderHeader,this);this.model.bind("itemSelected",this._onPhotoSelected,this);this.$el.bind("refresh",this.handleRefreshClick.hitch(this));this.$el.bind("silentRefresh",this.handleSilentRefresh.hitch(this));var a=parseInt(this.model.get("layoutId"));if(false&&a===5){this.$scroller=this.$el}else{this.$el.html(photosTemplates.photosListMarkup());this.$scroller=this.$(".scroller");Scrolling.init(this.$(".scroll_wrapper"))}},handleRefreshClick:function(){if(this.photosListView){this.photosListView.handleRefreshClick()}},handleSilentRefresh:function(){if(this.photosListView){this.photosListView.handleSilentRefresh()}},render:function(){var b=parseInt(this.model.get("layoutId"));this.$headerContainer=$("<div></div>").appendTo(this.$scroller);var a={model:this.model,id:"photos_view_"+Utils.Helpers.generateGUID()};this.$el.addClass("layout-"+b);if(b===0||b===1||b===2||b===3||b===4||b===8||b===9){if(b===8||b===9){this.$el.addClass("change_size")}this.photosListView=new PhotosListView(a)}else{if(b===5){this.photosListView=new PhotosShowView(a)}else{if(b===6){this.photosListView=new PhotosSlideView(a)}else{if(b===7){this.photosListView=new PhotosArrowsView(a)}else{if(b===10){this.photosListView=new PhotosColumnsView(a)}}}}}this.$scroller.append(this.photosListView.render().el);if(b===0||b===1||b===3||b===5||b===8||b===9||b===10){this.$el.bind("pageshow",this._onPageShow.hitch(this));this.$el.bind("pagehide",this._onPageHide.hitch(this));this.bind("pageshow",this._onPageShow.hitch(this));this.bind("pagehide",this._onPageHide.hitch(this));this.photosListView.onPageHide.hitch(this.photosListView)()}if(b===6||b===7){this.$el.addClass("clr_contTypeB_fullPage_bg")}this._renderHeader();return this},_onPageShow:function(){setTimeout(function(){this.photosListView.onPageShow.hitch(this.photosListView)()}.hitch(this),10)},_onPageHide:function(){this.photosListView.onPageHide.hitch(this.photosListView)()},_onPhotoSelected:function(c,d){var a=this.model.get("items");var b=a.indexOf(c);this.trigger("onPhotoSelected",this.model.get("albumIndex"),b)},_onUploadButtonClick:function(){this.trigger("onUploadButtonClick")},_renderHeader:function(){if(this.model.get("hideHeader")){return}var b=null;var a=this.model.get("album");if(this.model.get("logoImgUrl")){b=new LogoHeaderView({model:this.model})}else{if(a){a.set({uploadButton:this.model.get("uploadButton")});b=new PhotosAlbumHeaderView({model:a,id:"photos_album_header_view_"+Utils.Helpers.generateGUID()});b.bind("onUploadButtonClick",this._onUploadButtonClick,this)}}if(b){this.$headerContainer.html(b.render().el)}},addTabsView:function(a){this.$scroller.prepend(a)}}); var PhotosAlbumHeaderView=Backbone.View.extend({className:"flexbox album_header clr_contTypeB_headerItem_bg clr_contTypeB_headerItem_brdr",render:function(){var a=this.model.toJSON();a.photosStr=_T("HtmlTextLiveAlbumPhotos");a.uploadButton=(a.uploadButton&&PLATFORM!==platformEnum.webApp);this.$el.html(photosTemplates.albumHeaderMarkup(a));this.$(".upload_button").tap(this.onUploadButtonClick.hitch(this));return this},onUploadButtonClick:function(){this.trigger("onUploadButtonClick")}}); var PhotosListView=ItemsView.extend({initialize:function(){ItemsView.prototype.initialize.apply(this);var c=this.model.get("uploadingImagesCollection");if(c){c.bind("add",this.onAddUploadingPhoto,this)}var a=this.model.get("layoutId");if(a===0||a===1||a===3||a===8||a===9){if(a===3||a===1){this.$itemsList.addClass("clr_contTypeA_bg");if(a===3){this.$itemsList.addClass("centered_grid")}}$(window).bind("throttledresize",this.onResize.hitch(this));var b=this.model.get("items");if(b){b.bind("getItemsSuccess singleAdd",this.onResize,this)}}},createItemView:function(a){var b=new ThumbnailView({model:a,layoutId:this.model.get("layoutId"),layoutParams:this.model.get("layoutParams"),id:"thumbnail_view_"+Utils.Helpers.generateGUID()});return b},getRootView:function(){return this.$el},onResize:function(){if(this.isPageShow){this.updateThumbnailsMargin()}},onPageShow:function(){this.isPageShow=true;this.updateThumbnailsMargin();this.$itemsList.css({visibility:"visible"})},onPageHide:function(){this.isPageShow=false;this.$itemsList.css({visibility:"hidden"})},updateThumbnailsMargin:function(){var a=this.model.get("layoutId");if(a===0||a===1){Utils.Html.setGridMargin(this.$itemsList)}else{if(a===8||a===9){if(LAYOUT===layoutFormat.wide){var b={minWidth:150,setAlsoMarginTop:true,margin:10}}else{var b={minWidth:80,setAlsoMarginTop:false,margin:4}}Utils.Html.setGridSizes(this.$itemsList,b)}}},onAddUploadingPhoto:function(a){var b=new PhotoUploadView({model:a});this.getRootView().prepend(b.render().el);this.$myScrollWrapper=this.$myScrollWrapper||Scrolling.getMyScrollerWrapper(this.$el);Scrolling.onContentChanged(this.$myScrollWrapper)}}); var PhotosShowView=BaseItemsView.extend({initialize:function(){BaseItemsView.prototype.initialize.apply(this);$(window).bind("throttledresize",this.onResize.hitch(this))},_onGetItemsSuccess:function(){this.render();BaseItemsView.prototype._onGetItemsSuccess.apply(this)},$fadeContainerHandle:function(){if(!this.$fadeContainer){this.$fadeContainer=$('<div class = "fade_container"></div>');this.$el.append(this.$fadeContainer)}return this.$fadeContainer},_renderItems:function(){if(this._timerHandle!==null){clearTimeout(this._timerHandle);this._timerHandle=null}var a=this.model.get("items");if(a.length>0){if(!this.photoModel){this.photoModel=new PhotoModel();this.photoView=new PhotosLargeImageView({model:this.photoModel});this.photoModel2=new PhotoModel();this.photoView2=new PhotosLargeImageView({model:this.photoModel2});this.$fadeContainerHandle().append(this.photoView.$el).append(this.photoView2.$el);this.initPhotoViewsCss()}this.prepareNextImage(true)}},_timerHandle:null,SLIDESHOW_DELAY:3000,selectNextImage:function(d,c){if(this._timerHandle!==null){clearTimeout(this._timerHandle);this._timerHandle=null}var a=(d/1000)+"s";this.photoView2.$el.css({"-webkit-transition-property":"opacity","-webkit-transition-duration":a,"-webkit-transition-timing-function":"ease-out",opacity:"1"});this.photoView.$el.css({"-webkit-transition-property":"opacity","-webkit-transition-duration":a,"-webkit-transition-timing-function":"linear",opacity:"0"});setTimeout(this.swapPhotos.hitch(this),d);var b=this.model.get("items");if(c&&b.length>1){this.prepareNextImage();this.setTimer()}},setTimer:function(){this._timerHandle=setTimeout(function(){if(this.isNextImageReady){this.selectNextImage(400,true)}else{this.setTimer()}}.hitch(this),this.SLIDESHOW_DELAY)},prepareNextImage:function(a){this.isNextImageReady=false;var f=this.model.get("items");if(typeof(this.imageIndex)==="undefined"){this.imageIndex=0}else{this.imageIndex=(this.imageIndex+1)%f.length}var g=f.at(this.imageIndex);if(g){var e=this;var c=g.getLargestImage();var b=new Image();b.onload=function(){e.photoModel2.set(g.toJSON());e.isNextImageReady=true;if(a){e.selectNextImage(0,true)}};var d=function(){e.prepareNextImage(a)};b.onerror=d;b.onabort=d;b.src=c}},swapPhotos:function(){var a=this.photoModel2;this.photoModel2=this.photoModel;this.photoModel=a;a=this.photoView2;this.photoView2=this.photoView;this.photoView=a},initPhotoViewsCss:function(){this.photoView.$el.css({"-webkit-transition-duration":"0s",opacity:"1","z-index":"0"});this.photoView2.$el.css({"-webkit-transition-duration":"0s",opacity:"0","z-index":"1"})},updatePhotoHeight:function(){var c=this.$fadeContainerHandle().offset().top;var b={includeHeader:true};var a=Utils.Html.getInnerHeight(b)-c;if(a<100){a=100}this.$fadeContainerHandle().css({height:a+"px"});var d=Scrolling.getMyScrollerWrapper(this.$el);Scrolling.onContentChanged(d)},onResize:function(){if(this.isPageShow){this.updatePhotoHeight()}},onPageShow:function(){this.isPageShow=true;this.updatePhotoHeight()},onPageHide:function(){this.isPageShow=false},_renderShowMoreButton:function(){}}); var PhotosColumnsView=ItemsView.extend({columns:[],margin:0,columnWidth:0,initialize:function(){ItemsView.prototype.initialize.apply(this);$(window).bind("throttledresize",this.onResize.hitch(this))},_reset:function(){ItemsView.prototype._reset.apply(this);this.loadedImages=[];this._recalcColumns()},_renderOneItem:function(e){var c=this.createItemView(e);this.$itemsList.append(c.render().el);var g=Math.floor((Math.random()*500));var f=Math.floor((Math.random()*300));c.$el.css({top:g,left:f,width:0,height:0});var a=new Image();var d=this;a.onload=function(){var h={itemView:c,imageRatio:this.height/this.width};c.$el.addClass("clr_images_image2_brdr");d.loadedImages.push(h);d._changeItemPosition(h)};var b=function(){c.remove()};a.onerror=b;a.onabort=b;setTimeout(function(){a.src=e.getMediumImage(true)},1)},createItemView:function(a){var b=new ThumbnailColumnView({model:a});return b},getRootView:function(){return this.$el},onResize:function(){if(this.isPageShow){this.updateThumbnailsMargin()}},onPageShow:function(){this.isPageShow=true;this.updateThumbnailsMargin()},onPageHide:function(){this.isPageShow=false},updateThumbnailsMargin:function(){this._recalcColumns();for(var a=0;a<this.loadedImages.length;a++){var b=this.loadedImages[a];this._changeItemPosition(b)}},_recalcColumns:function(){if(LAYOUT===layoutFormat.wide){var d=8;var b=160}else{var d=4;var b=100}var a=0;var f=b+d;var e=this.$itemsList.width()-d;if(e>0){a=Math.floor(e/f);if(a>0){e=e-(a*d);f=Math.floor(e/a)}}this.margin=d;this.columnWidth=f;this.columns=[];for(var c=0;c<a;c++){this.columns[c]=0}},_changeItemPosition:function(j){if(!this.columns.length){return}var m=999999;var o=0;var k=0;for(var h=0;h<this.columns.length;h++){if(this.columns[h]<m){m=this.columns[h];k=h}if(this.columns[h]>o){o=this.columns[h]}}var l=m+this.margin;var e=k*(this.margin+this.columnWidth)+this.margin;var b=this.columnWidth;var n=Math.floor(this.columnWidth*j.imageRatio);if(false&&$.support.cssTransitions){var g=100;var c=Math.floor(g*j.imageRatio);var f="scale("+(b/g)+")";var d="translate("+e+"px, "+l+"px)";j.itemView.$el.css({width:g,height:c,"-webkit-transition-property":"all","-webkit-transition-duration":"1.25s","-webkit-transition-timing-function":"ease-out","-webkit-transform":f+" "+d})}else{j.itemView.$el.css({top:l,left:e,width:b,height:n})}var a=l+n;this.columns[k]=a;if(a>o){this.$itemsList.css({height:a,marginBottom:15});this.updateScroller()}},updateScroller:function(){if(!this.waitForUpdate){this.waitForUpdate=true;setTimeout(function(){this.waitForUpdate=false;var a=Scrolling.getMyScrollerWrapper(this.$el);Scrolling.onContentChanged(a)}.hitch(this),1000)}}}); var PhotosSlideView=BaseItemsView.extend({className:"slide_view",_onGetItemsSuccess:function(){this.render();var a=Scrolling.getMyScrollerWrapper(this.$el);Scrolling.onContentChanged(a);BaseItemsView.prototype._onGetItemsSuccess.apply(this)},_reset:function(){this.$el.html(photosTemplates.slideViewMarkup());this._$slideContainer=this.$el.find(".slide_container");this._$iconsStrip=this.$el.find(".horizontal_strip");this._currImageIndex=-1;this._page=0;var a=this.$el.find(".image");this.$descr=this.$el.find(".album_description");this._$imagesArray=[$(a[0]),$(a[1]),$(a[2]),$(a[3]),$(a[4]),$(a[5]),$(a[6])];this._supportNav=false},_renderItems:function(){var b=this.model.get("album")?this.model.get("album").get("albumDescr"):null;if(b){this.$descr.html(b).show()}else{this.$descr.hide()}var a=this.model.get("items");if(a.length>0){if(a.length>1){this._bindNavEvents();this._supportNav=true;this._$imagesArray[0].show();this._$imagesArray[1].show();this._$imagesArray[2].show();this._$imagesArray[4].show();this._$imagesArray[5].show();this._$imagesArray[6].show()}else{this._$imagesArray[0].hide();this._$imagesArray[1].hide();this._$imagesArray[2].hide();this._$imagesArray[4].hide();this._$imagesArray[5].hide();this._$imagesArray[6].hide()}this.setImage(0,0)}},_setStripLeft:function(a,b){this._$iconsStrip.animate({left:a},b)},_setImageLeft:function(b,a){b.css({left:a+"px"})},_bindNavEvents:function(){this._currImageIndex=-1;this._imageWidth=225;this._page=0;this._touchNavStarted=false;this._curX;this._totalXDiff=0;var c=this;var b=("ontouchstart" in window);var h=("WebKitCSSMatrix" in window&&"m11" in new WebKitCSSMatrix());if(h){this._setStripLeft=function(j,k){this._$iconsStrip.css({"-webkit-transition":"all "+k+"ms","-webkit-transition-timing-function":"ease-out","-webkit-transform":"translate3d("+j+"px,0,0)"})};this._setImageLeft=function(k,j){k.css({"-webkit-transform":"translate3d("+j+"px,0,0)"})}}if(b){_getXFromEvent=function(j){return j.changedTouches[0].pageX}}else{if($.browser.msie){_getXFromEvent=function(j){return j.clientX}}else{_getXFromEvent=function(j){return j.pageX}}}var e=b?"touchstart":"mousedown";var f=b?"touchmove":"mousemove";var d=b?"touchend":"mouseup";var i=function(j){c._touchNavStarted=true;c._totalXDiff=0;if(j.originalEvent){j=j.originalEvent}if(j.preventDefault){j.preventDefault()}c._curX=_getXFromEvent(j);return true};var a=function(l){if(!c._touchNavStarted){return false}if(l.originalEvent){l=l.originalEvent}if(l.preventDefault){l.preventDefault()}var j=_getXFromEvent(l);var k=j-c._curX;c._totalXDiff+=k;c._curX=j;c._setStripLeft(-(c._page*c._imageWidth)+c._totalXDiff,0);return true};var g=function(m){if(c._touchNavStarted){if(m.originalEvent){m=m.originalEvent}if(m.preventDefault){m.preventDefault()}var j=_getXFromEvent(m);var k=j-c._curX;c._totalXDiff+=k;var n=-c._totalXDiff/c._imageWidth;if(n>0.2&&n<1){n=1}if(n<-0.2&&n>-1){n=-1}n=Math.round(n);var l=c._currImageIndex+n;c.setImage(l,250);c._touchNavStarted=false}return true};c._$slideContainer.bind(e,i);c._$slideContainer.bind(f,a);c._$slideContainer.bind(d,g)},setImageSrc:function(d){var e=this.model.get("items");var a=e.length;var b=(this._currImageIndex+d-3+2*a)%a;var c=this._$imagesArray[d];var f=e.at(b).getLargestImage();c.css({"background-image":"url("+f+")"})},setImagePosition:function(c){var b=this._$imagesArray[c];var a=this._page+c-3;a=a*this._imageWidth;this._setImageLeft(b,a)},setImage:function(b,d){var g=this.model.get("items");var a=g.length;if(this._currImageIndex===-1){this._currImageIndex=0;this.setImageSrc(3);this.setImagePosition(3);if(this._supportNav){this.setImageSrc(0);this.setImageSrc(1);this.setImageSrc(2);this.setImageSrc(4);this.setImageSrc(5);this.setImageSrc(6);this.setImagePosition(0);this.setImagePosition(1);this.setImagePosition(2);this.setImagePosition(4);this.setImagePosition(5);this.setImagePosition(6)}}var c=b-this._currImageIndex;this._currImageIndex=(b+a)%a;this._page+=c;if(this._supportNav&&c!==0){if(c>0){var f=0;while(f<c){var e=this._$imagesArray[6];this._$imagesArray[6]=this._$imagesArray[0];this._$imagesArray[0]=this._$imagesArray[1];this._$imagesArray[1]=this._$imagesArray[2];this._$imagesArray[2]=this._$imagesArray[3];this._$imagesArray[3]=this._$imagesArray[4];this._$imagesArray[4]=this._$imagesArray[5];this._$imagesArray[5]=e;f++}f=0;while(f<c){this.setImageSrc(6-f);this.setImagePosition(6-f);f++}}else{var f=0;while(f>c){var e=this._$imagesArray[0];this._$imagesArray[0]=this._$imagesArray[6];this._$imagesArray[6]=this._$imagesArray[5];this._$imagesArray[5]=this._$imagesArray[4];this._$imagesArray[4]=this._$imagesArray[3];this._$imagesArray[3]=this._$imagesArray[2];this._$imagesArray[2]=this._$imagesArray[1];this._$imagesArray[1]=e;f--}f=0;while(f>c){this.setImageSrc(-f);this.setImagePosition(-f);f--}}}this._setStripLeft(-this._page*this._imageWidth,d)},_renderShowMoreButton:function(){}}); var PhotosArrowsView=BaseItemsView.extend({className:"arrows_view",_onGetItemsSuccess:function(){this.render();var a=Scrolling.getMyScrollerWrapper(this.$el);Scrolling.onContentChanged(a);BaseItemsView.prototype._onGetItemsSuccess.apply(this)},_reset:function(){this.$el.html(photosTemplates.arrowsViewMarkup());this.$prevArrow=this.$el.find(".prev.button_arrow");this.$nextArrow=this.$el.find(".next.button_arrow");this.$image=this.$el.find(".image");this.$circles=this.$el.find(".circles_container");this.$descr=this.$el.find(".album_description");this.imageIndex=0;var a=this;this.$prevArrow.tap(function(d){d.preventDefault();var c=$(d.target);if(!c.hasClass("disabled")&&!c.parent().hasClass("disabled")){var b=a.model.get("items").length;a.imageIndex=(a.imageIndex-1+b)%b;a.renderElements()}});this.$nextArrow.tap(function(d){d.preventDefault();var c=$(d.target);if(!c.hasClass("disabled")&&!c.parent().hasClass("disabled")){var b=a.model.get("items").length;a.imageIndex=(a.imageIndex+1)%b;a.renderElements()}});this.renderElements()},renderElements:function(){var d=this.model.get("items");if(d.length<2){this.$prevArrow.hide();this.$nextArrow.hide();this.$circles.hide()}else{this.$prevArrow.show();var a=this.model.get("layoutParams")&&this.model.get("layoutParams").loop;if(!a){if(this.imageIndex>0){this.$prevArrow.removeClass("disabled")}else{this.$prevArrow.addClass("disabled")}}this.$nextArrow.show();if(!a){if(this.imageIndex<d.length-1){this.$nextArrow.removeClass("disabled")}else{this.$nextArrow.addClass("disabled")}}var c="";for(var b=0;b<d.length;b++){var f={disabled:(b!==this.imageIndex)};c+=photosTemplates.circleButtonMarkup(f)}this.$circles.show().html(c)}var e=d.at(this.imageIndex);if(e){this.$image.css({"background-image":"url("+e.getLargestImage()+")"})}},_renderItems:function(){var a=this.model.get("album")?this.model.get("album").get("albumDescr"):null;if(a){this.$descr.html(a).show()}else{this.$descr.hide()}this.renderElements()},_renderShowMoreButton:function(){}}); var PhotosLargeImageView=Backbone.View.extend({tagName:"div",className:"fade_element",initialize:function(){this.model.bind("change",this.render,this)},render:function(){var a={title:this.model.get("title"),imageSrc:this.model.getLargestImage()};this.$el.html(photosTemplates.largeImage(a));return this}}); var PhotoUploadView=Backbone.View.extend({className:"photo-upload-view clr_contTypeA_bg clr_contTypeA_brdr",initialize:function(){this.model.bind("change:state",this._onStateChanged,this)},render:function(){var a=this.model.toJSON();a.errorMessage=_T("HtmlTextLiveAlbumUploadingFailed");a.uploadTxt=_T("HtmlTextLiveAlbumUploadingImage");this.$el.html(photosTemplates.photoUploadMarkup(a));this.$failBar=this.$el.find(".fail-bar");this.$failBar.find(".retry-button").tap(this._onRetryTap.hitch(this));this.$failBar.find(".cancel-button").tap(this._onCancelTap.hitch(this));this.$uploading=this.$el.find(".uploading");return this},_onStateChanged:function(){var a=this.model.get("state");switch(a){case PhotoUploadModel.STATE.UPLOADING:this.$failBar.hide();this.$uploading.show();break;case PhotoUploadModel.STATE.FAIL:this.$failBar.show();this.$uploading.hide();break;case PhotoUploadModel.STATE.SUCCESS:this.remove();break}},_onRetryTap:function(a){a.preventDefault();this.model.trigger("onRetry",this.model)},_onCancelTap:function(a){a.preventDefault();var b=Scrolling.getMyScrollerWrapper(this.$el);this.remove();Scrolling.onContentChanged(b);this.model.trigger("onCancel",this.model)}}); 

var RestaurantModel=ItemsModel.extend({defaults:_.extend({},ItemModel.prototype.defaults,{title:"",location:"",type:"",params:null}),createItemsCollection:function(){var a=new MenuCollection(null,this.get("params"));return a}}); var MenuModel=ItemModel.extend({defaults:{desc:"",alias:"",disclamer:"",entries:"",name:"",state:"",title:""},initialize:function(){ItemModel.prototype.initialize.apply(this,arguments);var a=Utils.Html.fixAlias(this.get("alias")||this.get("name")||this.get("title"));this.set({alias:a})}}); var MenuCollection=ItemsCollection.extend({model:MenuModel,initialize:function(b,a){ItemsCollection.prototype.initialize.apply(this);this.params={provider:a.provider,restid:a.restid}},getServiceName:function(){return"CMS_MENU_GET"},parse:function(a){return{models:a.menus}},getParams:function(){return this.params}}); var RestaurantListView=Backbone.View.extend({attributes:{"data-role":"page"},render:function(){this.$el.html(menuTemplates.scroller_tpl());var e=this.$el.find(".scroller");var f=this.$el.find(".scroll_wrapper");var b=menuTemplates.restaurants_list_tpl;e.html(b());var a=e.find(".rest_list");var d=this.model.get("meta").items;var c=this;_.each(d,function(h,g){c._renderOneRestaurant(a,h)});Scrolling.init(f);return this},_renderOneRestaurant:function(b,d){if(d){var c=new RestaurantModel(d);var a=new RestaurantView({model:c,layoutId:this.options.layoutId});b.append(a.render().el)}}}); var MenuListView=ItemsView.extend({className:"clr_contTypeB_bg menu_list",attributes:{"data-role":"page"},initialize:function(){this.$el.html(menuTemplates.scroller_tpl());this.$scroller=this.$el.find(".scroller");this.$scrollWrapper=this.$el.find(".scroll_wrapper");Scrolling.init(this.$scrollWrapper);ItemsView.prototype.initialize.apply(this)},getRootView:function(){return this.$scroller},createItemView:function(a){return new MenuView({model:a})}}); var MenuItemListView=Backbone.View.extend({TYPE_CATEGORY:2,TYPE_ITEM:1,attributes:{"data-role":"page"},className:"clr_contTypeB_bg",render:function(){this.$el.html(menuTemplates.scroller_tpl());this.$scroller=this.$el.find(".scroller");this.$scrollWrapper=this.$el.find(".scroll_wrapper");this.$scroller.html(menuTemplates.menu_items_list_tpl());var b=this.$(".menu_items_list");var a=this.model.get("entries");var c=this;_.each(a,function(e,d){c._renderOneMenuItem(b,e)});Scrolling.init(this.$scrollWrapper);return this},_renderOneMenuItem:function(b,f){var e;var a=this.model.get("currency")||"";switch(f.type){case this.TYPE_CATEGORY:e=menuTemplates.menu_single_item_type_tpl;break;case this.TYPE_ITEM:e=menuTemplates.menu_single_item_tpl;break}var d=new Backbone.View();var c=$("<li>");f.currency=a;$(c).html(e(f));b.append(c)}}); var RestaurantView=Backbone.View.extend({className:"restaurant_list_item item",tagName:"li",events:{tap:"itemClicked"},initialize:function(){this.$el.attr("data-role","button").addClass("t3d");this.model.bind("change:selected",this.onSelectedChange,this)},render:function(){var a=menuTemplates.restaurants_item_tpl;var c={title:this.model.get("title")||"",location:this.model.get("location")||"",imageUrl:this.model.get("imageUrl")||""};var b=a(c);this.$el.html(b);this.$el.addClass("clr_contTypeB_bubbleItem_bg feed_bubble_item");if(this.model.has("imageUrl")){this.$el.addClass("with-image")}else{this.$el.addClass("no-image")}return this},onSelectedChange:function(){if(LAYOUT===layoutFormat.wide){if(this.model.get("selected")){this.$el.addClass("ipad_selected")}else{this.$el.removeClass("ipad_selected")}}},itemClicked:function(a){a.preventDefault();UN.navTo(this.model.get("alias"),{level:1})}}); var MenuView=Backbone.View.extend({tagName:"li",className:"clr_contTypeC_bg t3d feed_bubble_item",events:{tap:"itemClicked"},initialize:function(){this.model.bind("change:selected",this.onSelectedChange,this)},render:function(){var b=menuTemplates.menus_list_item_tpl;this.$el.attr("data-role","button");var a={title:this.model.get("title")||""};var c=b(a);this.$el.html(c);return this},onSelectedChange:function(){if(LAYOUT===layoutFormat.wide){if(this.model.get("selected")){this.$el.addClass("ipad_selected")}else{this.$el.removeClass("ipad_selected")}}},itemClicked:function(a){a.preventDefault();UN.navTo(this.model.get("alias"),{level:2})}}); var MenuTemplateView=TemplateView.extend({_shouldRenderTemplate:function(){var a=this.model.get("meta");return(a.items.length>1)},_renderTemplate:function(a){var c=this.model.get("meta");var d=Utils.Helpers.generateGUID();var b=new RestaurantListView({model:this.model,id:d});this.$el.append(b.render().el);this.homePageId=d},_noDefaultTab:function(a){UN.onPageReady(this.homePageId,a,0)},_renderTab:function(e,a){var i=this.model.get("meta");var c=i.items[e];if(PLATFORM!=platformEnum.webApp&&c.type==="menulink"){var b=Utils.Helpers.generateGUID();var h=new Backbone.Model(c);var f=new WebModuleView({model:h,id:b});this.$el.append(f.render().el);UN.onPageReady(b,a,1);return}var d=new RestaurantModel(c);var g=new MenuListView({model:d});this.renderListPage({navRequest:a,model:d,view:g,addTabs:false})},getDefaultItemAlias:function(c){var b=c.model.get("items");if(b.length===1){var a=b.at(0);return a.get("alias")}return null},getDetailsView:function(a){return new MenuItemListView({model:a})}}); var menuTemplates={scroller_tpl:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="scroll_wrapper"><div class="scroller"></div></div>'}return __p},restaurants_list_tpl:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<ul class="rest_list">         </ul>'}return __p},restaurants_item_tpl:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="rest_container"> \t\t';if(typeof(title)!="undefined"&&title){__p+=' \t\t\t<div class="title clr_contTypeB_hdlTxt">'+((__t=(title))==null?"":__t)+"</div>"}__p+=" \t\t";if(typeof(location)!="undefined"&&location){__p+=' \t\t\t<div class="location clr_contTypeB_txt">'+((__t=(location.address))==null?"":__t)+", "+((__t=(location.city))==null?"":__t)+"</div>"}__p+=" \t\t</div> \t\t";if(typeof(imageUrl)!="undefined"&&imageUrl){__p+=' \t\t\t<div class="image sliced_image" style="background-image:url(\''+((__t=(imageUrl))==null?"":__t)+"')\"></div> \t\t"}__p+=""}return __p},menu_list_tpl:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<ul class="menu_list color_m2_background"></ul>'}return __p},menus_list_item_tpl:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="menu_list_item clr_contTypeC_hdlTxt">'+((__t=(title))==null?"":__t)+"</div>"}return __p},menu_items_list_tpl:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<ul class="menu_items_list color_m2_background"></ul>'}return __p},menu_single_item_tpl:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="menu_single_item clr_contTypeB_brdr"> <div class="menu_single_item_content">';if(typeof(prices)!="undefined"&&prices!=""&&prices.length>=0&&prices[0].price&&prices[0].title==null){__p+='<div class="menu_single_item_name clr_contTypeB_txt">'+((__t=(title))==null?"":__t)+"</div>"}else{__p+='<div class="menu_single_item_name_priceless clr_contTypeB_txt">'+((__t=(title))==null?"":__t)+"</div>"}__p+="";if(typeof(prices)!="undefined"&&prices!=""&&prices.length>=0&&prices[0].title==null&&prices[0].price){__p+='<div class="menu_single_item_price clr_contTypeB_txt">'+((__t=(currency))==null?"":__t)+""+((__t=(prices[0].price))==null?"":__t)+"</div>"}__p+="</div>";if(typeof(desc)!="undefined"&&desc){__p+='<div class="menu_single_item_desc clr_contTypeB_subTxt"><div class="desc_txt">'+((__t=(desc))==null?"":__t)+"</div></div> "}__p+="";if(typeof(prices)!="undefined"&&prices!=""&&prices.length>0){__p+="";for(var i=0;i<prices.length;i++){__p+="";if(prices[i].price&&prices[i].title!=null){__p+='<div class="menu_single_item_desc clr_contTypeB_subTxt"> <div class="desc_txt">'+((__t=(prices[i].title))==null?"":__t)+'</div><div class="menu_single_item_price sub_price clr_contTypeB_txt">'+((__t=(currency))==null?"":__t)+""+((__t=(prices[i].price))==null?"":__t)+"</div></div>"}__p+=""}__p+=""}__p+="</div>"}return __p},menu_single_item_type_tpl:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="menu_type_item clr_contTypeB_brdr"> \t\t\t<div class="menu_type_item_name clr_contTypeB_hdlTxt">'+((__t=(title))==null?"":__t)+'</div> \t\t\t<div class="menu_type_item_desc clr_contTypeB_txt">'+((__t=(desc))==null?"":__t)+"</div> \t\t</div>"}return __p}}; var webModuleTemplates={};webModuleTemplates.pageIframeTemplate=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="scroll_wrapper" ><iframe frameborder="0" marginheight="0" marginwidth="0" scrolling="auto" src="'+((__t=(link))==null?"":__t)+'"></iframe></div>'}return __p};webModuleTemplates.pageStaticTemplate=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="scroll_wrapper"><div class="scroller"><div class="size_title_4 text clr_contTypeB_hdlTxt">'+((__t=(text))==null?"":__t)+"</div></div></div>"}return __p}; 

var StaticHtmlTemplateView=TemplateView.extend({DEFAULT_PADDING:10,_renderTab:function(b,e){var f=this.model.get("meta");var d="";var g=this.DEFAULT_PADDING;if(f.items[0]&&f.items[0].html){d=f.items[0].html;if(typeof(f.items[0].padding)!="undefined"){g=f.items[0].padding}}var a=new Backbone.Model({html:d,padding:g});var h=Utils.Helpers.generateGUID();var c=new StaticHtmlView({model:a,id:h});this.$el.append(c.render().el);UN.onPageReady(h,e,1,true)}}); var StaticHtmlView=Backbone.View.extend({attributes:{"data-role":"page"},render:function(){this.$el.html('<div class="scroll_wrapper"><div class="scroller"></div></div>');this.$scroller=this.$el.find(".scroller");this.$scrollerWrapper=this.$el.find(".scroll_wrapper");Scrolling.init(this.$scrollerWrapper);var b=this.model.get("html");if(b){var a=new HtmlContainerControl();a.renderHtml(this.$scroller,b,{changeColors:false});this.$scroller.children().css({padding:this.model.get("padding")+"px"})}return this},appendToView:function(a){this.$scroller.append(a)}}); 



var platformEnum={simulator:0,nativeApp:1,webApp:2,gadget:3,playground:4};var deviceTypeEnum={unknown:0,iphone:1<<0,android:1<<1,rim:1<<2,winPhone:1<<3,symbian:1<<4,bada:1<<5};var deviceVariantEnum={"default":0,amazon:1};var storesEnum={appStore:"AppStore",googlePlay:"GooglePlay",amazon:"Amazon"};var modulesTypes={"685f6141-e72b-4bf8-91aa-51ac6cbea288":{moduleViewName:"NavImagesModuleView"},"7a8d5026-ff7e-47d3-bd12-683e32b01313":{moduleViewName:"NavEmptyModuleView"}};var headerButtonsIconsEnum={refresh:"refresh",back:"back",list:"list",grid:"grid",star:"star",emptyStar:"emptyStar"};var socialServicesEnum={Facebook:0,Twitter:1,Email:2};var paymentProvidersTypesEnum={Paypal:0,ExternalLink:1,Unknown:-1};var errorPages={errorPagesTypes:{notSupported:"notSupported",noTabs:"noTabs",block:"block",invalid:"invalid",fail:"fail",empty:"empty"},buttonTypes:{retry:"retry",download:"download"}};var analytics={usageEventTypeEnum:{PageView:1,OpenLink:2,ReceivedPush:3,SocialLogin:4,SocialShare:5,TabView:6,AdClicked:7,UserLoggedIn:8,ExternalContentShown:9,CouponClaimed:10,CardPunched:11,SocialActivity:12,ContactRequest:13,ItemView:14,OpenPhotosGallery:15,Search:16,Unknown:0},socialProviderType:{Unknown:0,Facebook:1,Email:2,Twitter:3},socialActivityType:{Unknown:0,Like:1,Unlike:2,AddComment:3},actionStatus:{Start:0,Success:1,Fail:2}};var pageTypes={"5a8368df-6ebd-c0f2-2d82-e173c1f33d40":{packageName:"aboutUs",cssClass:"aboutUs",templateViewName:"AboutUsTemplateView",itemsName:"items"},"f61f12d6-df0c-465c-b3ba-70fb8f3894a4":{packageName:"agenda",cssClass:"agenda",templateViewName:"AgendaTemplateView",itemsName:"items"},"30be1358-8b36-4d22-b6d2-50c38f4246c4":{packageName:"audio",cssClass:"audio",templateViewName:"AudioTemplateView",nativeControllerName:"AudioController",itemsName:"items"},"51a61af7-1e90-4d68-88db-b1e69a0cca59":{packageName:"blog",cssClass:"blog",templateViewName:"BlogTemplateView",nativeControllerName:"BlogController",itemsName:"feeds"},"308af5fa-e91b-d7e7-1926-acfea8f266dc":{packageName:"notForCp",templateViewName:"NotForCpTemplateView",cssClass:"notForCp"},"083e52df-721d-4ca4-efa3-25161d344f40":{packageName:"contactUs",cssClass:"contactUs",itemsName:"items",templateViewName:"ContactUsTemplateView"},"e9773a60-828f-6a16-a1fb-770163905537":{packageName:"poll",cssClass:"poll",itemsName:"items",templateViewName:"PollTemplateView"},"0311d37d-6d9f-fc9d-35fd-45b471d2382f":{packageName:"quiz",cssClass:"quiz",itemsName:"items",templateViewName:"QuizTemplateView"},"1002937d-8b19-40de-9df5-ba0d1ea2fbb2":{packageName:"events",cssClass:"events",templateViewName:"EventsTemplateView",nativeControllerName:"EventsController",itemsName:"items"},"0053bbba-1ca1-11e0-89a4-af28e0d72085":{packageName:"externalPage",cssClass:"externalPage",templateViewName:"ExternalPageTemplateView"},"df7d11f3-233c-4d49-8f2a-d1886e07c641":{packageName:"facebook",cssClass:"facebook",templateViewName:"FacebookTemplateView",nativeControllerName:"FacebookController",itemsName:"channels"},"fa7071be-8262-3b0d-b439-d2edd1ac35ec":{packageName:"favorites",cssClass:"favorites",templateViewName:"FavoritesTemplateView"},"79eec590-f806-f7ac-946b-1fd9c90283ba":{packageName:"form",cssClass:"form",templateViewName:"FormTemplateView",itemsName:"items"},"e0adcb11-f7bb-8107-1cd0-77690221f31c":{packageName:"photos",cssClass:"instagram",templateViewName:"InstagramTemplateView",itemsName:"items"},"fc6700a7-a11e-de90-93f8-7357f9f0037f":{packageName:"links",templateViewName:"LinksTemplateView",cssClass:"links",itemsName:"items"},"c54d24ef-faf5-45dd-8859-85e3ebe7cecf":{packageName:"webModule",templateViewName:"WebModuleTemplateView",cssClass:"webModule",itemsName:"items"},"9eea8149-956c-46f9-8597-167401c63cd7":{packageName:"webModule",templateViewName:"WebModuleTemplateView",cssClass:"webModule",itemsName:"items"},"26ae8ccc-5464-7979-4fdf-3a13f166ffff":{packageName:"photos",cssClass:"photos",templateViewName:"PhotosTemplateView",nativeControllerName:"PhotosController",itemsName:"feeds"},"a00b52bb-ff49-704f-bdf3-fb0bd0fd4739":{packageName:"livePerson",templateViewName:"LivePersonTemplateView",cssClass:"livePerson",itemsName:"tabs"},"9953766f-6b47-4878-8d38-b9cde750fe58":{packageName:"loyaltyCards",cssClass:"loyaltyCards",templateViewName:"LoyaltyCardsTemplateView",itemsName:"items"},"ec79d314-f6aa-f396-a651-3f9b3344dd99":{packageName:"notForCp",templateViewName:"NotForCpTemplateView",cssClass:"notForCp"},"aca2f190-b22b-920d-f12a-998101ad4b70":{packageName:"map",cssClass:"map",templateViewName:"MapTemplateView",nativeControllerName:"MapController",itemsName:"items"},"3b11bcdf-ba5e-4eaa-9059-ea580b3f1681":{packageName:"photos",cssClass:"photos",templateViewName:"PhotosTemplateView",itemsName:"feeds"},"7a2641b0-ceb2-48d6-b715-344198c73dd3":{packageName:"reviews",cssClass:"reviews",templateViewName:"ReviewsTemplateView"},"0255eb38-1fb5-4b65-abee-b6fdb69c8f07":{packageName:"coupons",cssClass:"coupons",templateViewName:"CouponsTemplateView"},"8901e95e-4dc9-411f-835a-0f18a7872122":{packageName:"menu",cssClass:"menu",templateViewName:"MenuTemplateView",itemsName:"items"},"ff4532d2-9137-8da2-f97f-be8b3ddd08e4":{packageName:"agenda",cssClass:"agenda",templateViewName:"AgendaTemplateView",itemsName:"items"},"27f91d0a-42c0-48fa-90a8-7138641ddecf":{packageName:"staticHtml",cssClass:"staticHtml",templateViewName:"StaticHtmlTemplateView",itemsName:"notes"},"c6bb3e68-0ea7-43dc-a358-b40d9b75d224":{packageName:"subscribe",cssClass:"subscribe",templateViewName:"SubscribeTemplateView"},"a77583ef-758f-45f3-9ad1-9704d82a2154":{packageName:"twitter",cssClass:"twitter",templateViewName:"TwitterTemplateView",nativeControllerName:"TwitterController",itemsName:"feeds"},"a95e67d5-4816-11c2-318d-fe64a33e32d2":{packageName:"users",cssClass:"users",templateViewName:"UsersTemplateView",nativeControllerName:"UsersController",itemsName:"items"},"4680c3f3-e767-4ebf-b112-9ba769c3ff2a":{packageName:"video",cssClass:"video",templateViewName:"VideoTemplateView",nativeControllerName:"VideoController",itemsName:"items"},"a7bf6078-3f92-4b90-acf2-b122903bc846":{packageName:"video",cssClass:"video",templateViewName:"VideoTemplateView",nativeControllerName:"VideoController",itemsName:"channels"},"6181507a-fdf4-4b90-a270-cbd286603443":{packageName:"collections",cssClass:"collections",templateViewName:"CollectionsTemplateView",wideTemplateViewName:"CollectionsWideTemplateView",itemsName:"items"},"567882ad-f783-4bc6-bbe6-c5eb3b7669db":{packageName:"store",cssClass:"store",templateViewName:"StoreTemplateView",wideTemplateViewName:"StoreWideTemplateView",itemsName:"items"},"38ab2b78-a1ad-42f8-8cb7-9475498c0f30":{packageName:"reports",cssClass:"reports",nativeControllerName:"ReportsController",templateViewName:"ReportsTemplateView",itemsName:"items"},"8d7507ff-317e-44b1-9ad3-776ad52d6ee2":{packageName:"homepage",cssClass:"homepage",nativeControllerName:"HomepageController",itemsName:"items"},"fe6a4b7d-cf62-172e-8eba-a231dd39eb20":{packageName:"myProfile",cssClass:"myProfile",templateViewName:"MyProfileTemplateView",itemsName:"items"},"a8c1cd8e-7e55-828d-3bd2-fb2122472fa3":{packageName:"inbox",cssClass:"inbox",templateViewName:"InboxTemplateView",itemsName:"items"},"11111111-1111-1111-1111-111111111111":{packageName:"customNative",cssClass:"customNative",templateViewName:"",itemsName:"items"}};var appMode={normal:0,experience:1,developers:2};var headerTypes={textHeader:0,imageHeader:1,imageAndTextHeader:2};var navigationLayoutTypes={none:-1,bottomBar:0,topBar:1,list:2,grid:3,sideMenu:4,dynamicGrid:5};var gridScrollTypes={vertical:"vertical",horizontal:"horizontal"};var adDisplayTypes={text:1,image:2,adsense:"adsense"};var adProvidersTypes={adsense:3};var layoutFormat={unknown:-1,narrow:0,wide:1};var comTypeEnum={postMessage:0,iframeMessage:1,nativeMessage:2};var protocolTypeEnum={rpc:0,event:1};var socialServices={Facebook:"FACEBOOK",Email:"EMAIL",Twitter:"TWITTER"};var executeTypeEnum={FORCE_NETWORK:0,HIT_AND_RUN:1,HIT_AND_RUN_SILENT:2,HIT_ON_NETWORK_FAIL:3};var responseTypeEnum={NETWORK:0,VALID_CACHE:1,EXPIRED_CACHE:2};var loadingTypeEnum={NORMAL:0,REFRESH:1,SILENT_REFRESH:2,SHOW_MORE:3};var socialServiceReturnType={FACEBOOK:1,TWITTER:2};var ExternalContentTypes={BLOG_POST:1,STATIC_HTML:2};var VideoTypes={GENERAL:"generalVideoType",YOUTUBE:"youtubeVideoType"};var MediaLibraryMergeTypes={Overwrite:0,Override:1,Merge:2};var MediaLibraryIncludeItems={None:0,Playlists:1,Unknown:2,All:3};var PhotoUploadUserTypes={NONE:0,FACEBOOK:1};var FacebookCountStatus={error:"error",deprecatedCount:"dep_count",ok:"ok"};
var RETURN_STATE_INFO="return_state_info";var RETURN_FUNCTION_FACEBOOK_SHARE="handleFacebookShare";var TWITTER_TOKENS="twitter_credentials";var SOCIAL_USER_CANCELED="user_canceled";var APP_VERSION="4.4.0.7";var DEV_SERVICEMAP_URL="http://servicemap.mobile.site-services.com/mobile";var QA_SERVICEMAP_URL="http://servicemap.mobile.qasite-services.com/mobile";var PROD_SERVICEMAP_URL="http://servicemap.mobile.conduit-services.com/mobile";var TEST_LOYALTY=false;var TEST_STORE=false;var USE_AGENDA_FAVORITES=false;var USE_DATADUMP_SERVICE=false;var DEBUG=1;var PREVENT_DEVICE_DETECT=DEBUG&&false;var NAVIGATION_PAGE_GUID="00000000-0000-0000-0000-000000000002";var NAVIGATION_PAGE_ALIAS="app-navigation-page";var NAVIGATION_PAGE_ID="_navpage";var APP_MODE=appMode.normal;var PLATFORM=platformEnum.webApp;var DEVICE=deviceTypeEnum.iphone;var DEVICE_VARIANT=deviceVariantEnum["default"];var LAYOUT=layoutFormat.wide;var FORCE_NO_CACHE=false&&DEBUG;var SERVICEMAP_URL=DEV_SERVICEMAP_URL;var APP_ID=null;var IS_RTL=false;
PLATFORM = platformEnum.nativeApp
DEVICE = deviceTypeEnum.android
var DEBUG = 0;
var AMS_VERSION = "1.38.141.1231";
var PLATFORM = 1;
var DEVICE_TOKEN = 2;
var APP_ID = "d2a0c539-3724-42e6-a21a-cc8bbe8738c9";
var APP_MODE = 0;
var SIMULATOR = 0;
var SERVICEMAP_URL = PROD_SERVICEMAP_URL;

var __dataDump={"images":[],"services":[{"data":{"services":[{"name":"AMS_APP_GET","url":"http:\/\/app.como-services.com\/api\/app\/{appId}\/{deviceType}?appVersion={appVersion}","reload_interval_sec":7200,"method":"GET"},{"name":"CMS_FEEDS_GET","url":"http:\/\/content.como-services.com\/api\/feeds\/{take}\/{skip}?url={feedUrl}&extraInfo={extraInfo}","reload_interval_sec":7200,"method":"GET"},{"name":"CMS_TWITTER_USER_GET","url":"http:\/\/cms.como-services.com\/twitter\/user\/{userName}\/{take}\/{skip}\/?params={extraInfo}","reload_interval_sec":7200,"method":"GET"},{"name":"CMS_TWITTER_QUERY_GET","url":"http:\/\/cms.como-services.com\/twitter\/query\/{query}\/{type}\/{take}\/{skip}\/?params={extraInfo}","reload_interval_sec":7200,"method":"GET"},{"name":"CMS_YOUTUBE_GET","url":"http:\/\/cms.como-services.com\/youtube\/{query}\/{type}\/{skip}\/{take}\/?params={extraInfo}","reload_interval_sec":7200,"method":"GET"},{"name":"CMS_PHOTOS_GET","url":"http:\/\/content.como-services.com\/api\/photos\/{type}\/{userName}\/{take}\/{skip}\/?extraInfo={extraInfo}","reload_interval_sec":7200,"method":"GET"},{"name":"CMS_PHOTOS_ALBUMS_GET","url":"http:\/\/content.como-services.com\/api\/photos\/{type}\/albums\/{username}","reload_interval_sec":7200,"method":"GET"},{"name":"CMS_FACEBOOK_USER_GET","url":"http:\/\/cms.como-services.com\/facebook\/user\/{pageName}\/?params={extraInfo}","reload_interval_sec":7200,"method":"GET"},{"name":"CMS_FACEBOOK_DATA_GET","url":"http:\/\/cms.como-services.com\/facebook\/data\/{pageName}\/{take}\/{skip}\/?params={}","reload_interval_sec":7200,"method":"GET"},{"name":"UMS_USER_POST","url":"http:\/\/ums.como-services.com\/login\/user","method":"POST"},{"name":"PROXY_WEBSLICE","url":"http:\/\/proxy.como-services.com\/webslice?url={url}","reload_interval_sec":12092600,"method":"GET"},{"name":"AMS_APPID_GET","url":"http:\/\/app.como-services.com\/api\/code\/{code}\/{email}\/pwd","reload_interval_sec":7200,"method":"GET"},{"name":"UMS_USAGE_PUT","url":"http:\/\/ums.como-services.com\/usage\/log","reload_interval_sec":7200,"method":"POST"},{"name":"ADS_POST","url":"http:\/\/ads.como-services.com\/{appId}\/{deviceType}","reload_interval_sec":600,"method":"POST"},{"name":"CMS_RAYV_GET","url":"http:\/\/cms.como-services.com\/rayv\/feeds\/{distributer}\/{listType}\/{take}\/{skip}\/?params={extraInfo}","reload_interval_sec":7200,"method":"GET"},{"name":"MOBILE_SOCIAL_LOGIN","url":"http:\/\/social.como-services.com\/connect\/facebook?appId={appId}&type={deviceType}&ret={returnUrl}","method":"GET"},{"name":"CMS_MEDIA_VIDEO_GET","url":"http:\/\/content.como-services.com\/api\/media\/video\/{deviceType}\/{take}\/{skip}\/?url={url}&extraInfo={params}","reload_interval_sec":7200,"method":"GET"},{"name":"CMS_MEDIA_AUDIO_GET","url":"http:\/\/content.como-services.com\/api\/media\/audio\/{deviceType}\/{take}\/{skip}\/?url={url}&extraInfo={params}","reload_interval_sec":7200,"method":"GET"},{"name":"AMS_TRANSLATION_GET","url":"http:\/\/app.como-services.com\/api\/translate\/{product}\/{culture}\/{deviceType}","reload_interval_sec":1200,"method":"GET"},{"name":"LIVE_ALBUM_PHOTO_POST","url":"http:\/\/livealbum.como-services.com\/Album\/{appId}\/{parentSocialId}\/{socialId}\/{albumId}\/{tagWithUserId}\/","reload_interval_sec":7200,"method":"POST"},{"name":"TWITTER_API_PROXY_POST","url":"http:\/\/apiproxy.como-services.com\/twitter\/{tId}?sshkey={sshKey}&hts={hts}&url=http%3a%2f%2fapi.twitter.com%2f1%2fstatuses%2fupdate.json","reload_interval_sec":7200,"method":"POST"},{"name":"SOCIAL_LOGOUT","url":"http:\/\/social.como-services.com\/ConduitLogout.aspx","reload_interval_sec":7200,"method":"GET"},{"name":"SIGSERV_HTTP_GET","url":"http:\/\/sub.conduit-push.com","reload_interval_sec":7200,"method":"GET"},{"name":"SIGSERV_HTTP_PUT","url":"http:\/\/pub.conduit-push.com","reload_interval_sec":7200,"method":"PUT"},{"name":"SIGSERV_WEBSOCKET_GET","url":"ws:\/\/ws.conduit-push.com","reload_interval_sec":7200,"method":"GET"},{"name":"MOBILE_TWITTER_LOGIN","url":"http:\/\/social.como-services.com\/twitter\/SignIn?appId={appId}&type={deviceType}&ret={returnUrl}","reload_interval_sec":7200,"method":"GET"},{"name":"LIVE_ALBUM_EULA_GET","url":"http:\/\/como.ourtoolbar.com\/eula\/","reload_interval_sec":7200,"method":"GET"},{"name":"CMS_CALENDAR_GET","url":"http:\/\/cms.como-services.com\/calendar\/{type}\/?id={id}&max-results={take}&start-index={skip}&since={since}&until={until}&params={extraInfo}","reload_interval_sec":7200,"method":"GET"},{"name":"WIBIYA_SUBSCRIBE_GET","url":"https:\/\/api.wibiya.com\/Handlers\/apps\/subscribe_mobile.php?t={token}&e={email}","reload_interval_sec":7200,"method":"GET"},{"name":"CMS_MEDIA_ART_GET","url":"http:\/\/content.como-services.com\/api\/media\/art\/?url={url}&extraInfo={params}","reload_interval_sec":7200,"method":"GET"},{"name":"CMS_REVIEW_GET","url":"http:\/\/cms.como-services.com\/reviews\/{type}\/?q={query}&max-results={take}&start-index={skip}&params={extraInfo}","reload_interval_sec":7200,"method":"GET"},{"name":"NFL_STATS_GET","url":"http:\/\/pages.como.com\/nfl\/player\/{key}\/{id}?info={level}","reload_interval_sec":7200,"method":"GET"},{"name":"IMAGES_REVIEWS_PROVIDER_GET","url":"http:\/\/images.como-services.com\/icon\/100{type}","reload_interval_sec":7200,"method":"GET"},{"name":"INAPP_USER_TOKENS_GET","url":"http:\/\/inapp.mobile.conduit-services.com\/client\/tokens\/{bucketId}?userId={userId}","method":"GET"},{"name":"INAPP_USER_TRANSACTION_POST","url":"http:\/\/inapp.mobile.conduit-services.com\/client\/transaction","method":"POST"},{"name":"CONTACT_CONTENT_PUT","url":"http:\/\/contact.como-services.com\/contact\/client\/{appId}\/{formId}\/?action={action}&postUrl={postUrl}","reload_interval_sec":1200,"method":"POST"},{"name":"CMS_USERS_GET","url":"http:\/\/cms.como-services.com\/users\/{userId}\/{provider}\/{relationType}\/{take}\/{skip}\/?params={extraInfo}","reload_interval_sec":7200,"method":"GET"},{"name":"LIVE_ALBUM_PHOTO_V2_POST","url":"http:\/\/livealbum.como-services.com\/Files\/upload\/?groupId={groupId}&appId={appId}&albumId={albumId}","reload_interval_sec":7200,"method":"POST"},{"name":"CMS_CONFERENCE_GET","url":"http:\/\/cms.como-services.com\/agenda\/{type}\/{id}\/{version}\/?ranges={ranges}","reload_interval_sec":7200,"method":"GET"},{"name":"CMS_PEOPLE_GET","url":"http:\/\/cms.como-services.com\/agenda\/{type}\/{id}\/{version}\/","reload_interval_sec":7200,"method":"GET"},{"name":"CMS_POLLS_GET","url":"http:\/\/cms.como-services.com\/polls\/{type}\/{pollId}\/","reload_interval_sec":7200,"method":"GET"},{"name":"CONTACT_POLLS_POST","url":"http:\/\/polls.como-services.com\/polls\/result\/","reload_interval_sec":1200,"method":"POST"},{"name":"CMS_CONTENT_ITEMS","url":"http:\/\/cms.como-services.com\/contentItems\/items\/contenthost\/{take}\/{skip}\/?id={id}&params={extraInfo}","reload_interval_sec":7200,"method":"GET"},{"name":"CMS_CONTENT_COLLECTION","url":"http:\/\/cms.como-services.com\/contentItems\/collection\/contenthost\/{take}\/?id={id}","reload_interval_sec":7200,"method":"GET"},{"name":"CMS_CONTENT_ITEMS_SEARCH","url":"http:\/\/cms.como-services.com\/contentItems\/items\/search\/{type}\/{collectionId}\/{take}\/{skip}\/?searchParams={searchParams}","reload_interval_sec":7200,"method":"GET"},{"name":"CMS_MENU_GET","url":"http:\/\/cms.como-services.com\/restaurants\/menu\/{provider}\/?query={restid}","reload_interval_sec":7200,"method":"GET"},{"name":"COMMUNITY_SOCIAL_LOGIN_POST","url":"http:\/\/community.como-services.com\/users\/social\/login\/{globalAppId}","reload_interval_sec":7200,"method":"POST"},{"name":"COMMUNITY_SOCIAL_LOGOUT_POST","url":"http:\/\/community.como-services.com\/users\/social\/logout\/{globalAppId}\/{userId}?socialId={socialId}","reload_interval_sec":7200,"method":"POST"},{"name":"CMS_USERS_SEARCH_GET","url":"http:\/\/cms.como-services.com\/users\/{provider}\/{skip}\/{take}\/?globalAppId={globalAppId}&q={search_term}&params={extraInfo}","reload_interval_sec":7200,"method":"GET"},{"name":"DISCUSSION_DISCUSSIONS_GET","url":"http:\/\/discussion.como-services.com\/discussions\/{globalAppId}\/{userId}","reload_interval_sec":7200,"method":"GET"},{"name":"DISCUSSION_MESSAGES_GET","url":"http:\/\/discussion.como-services.com\/messages\/{discussionId}\/{skip}\/{take}","reload_interval_sec":7200,"method":"GET"},{"name":"DISCUSSION_MESSAGES_SEND_POST","url":"http:\/\/discussion.como-services.com\/messages\/{globalAppId}\/{fromId}","reload_interval_sec":7200,"method":"POST"},{"name":"CONTACT_CONTENT_POST","url":"http:\/\/contact.como-services.com\/contact\/client\/v2\/{globalAppId}\/{formId}\/?version={version}&postUrl={postUrl}","reload_interval_sec":7200,"method":"POST"},{"name":"IMAGE_UPLOADER_POST","url":"http:\/\/imageupload.como-services.com\/files\/upload","reload_interval_sec":7200,"method":"POST"},{"name":"CMS_COUPONS_GET","url":"http:\/\/cms.como-services.com\/coupons\/{type}\/{listId}\/{take}\/{skip}","reload_interval_sec":7200,"method":"GET"},{"name":"AMS_PUBLISHER_APPS_GET","url":"http:\/\/app.como-services.com\/api\/publisher\/apps\/{publisherId}","reload_interval_sec":7200,"method":"GET"},{"name":"AMS_APP_STYLE_GET","url":"http:\/\/app.como-services.com\/api\/appstyletemplate\/{styleTemplateId}","reload_interval_sec":7200,"method":"GET"},{"name":"CMS_LOYALTYCARDS_GET","url":"http:\/\/cms.como-services.com\/loyalty\/{type}\/{listId}\/{take}\/{skip}","reload_interval_sec":7200,"method":"GET"},{"name":"CONTENTHOST_LOYALTYCARDS_VALIDATE_POST","url":"https:\/\/contenthost.como-services.com\/loyalty\/validate\/{cardId}","reload_interval_sec":7200,"method":"POST"},{"name":"NOTIFICATIONDATA_PUSHDATA_GET","url":"http:\/\/notificationdata.como-services.com\/notification\/data\/{appId}\/{messageId}\/{deviceType}","reload_interval_sec":7200,"method":"GET"},{"name":"REVU_FIRSTLAUNCH_GET","url":"http:\/\/revu.como-services.com\/first?return={returnUrl}","reload_interval_sec":7200,"method":"GET"},{"name":"LIVE_ALBUM_PHOTO_REPORT","url":"http:\/\/livealbum.como-services.com\/Self\/Client\/report\/{appId}\/{photoId}\/","reload_interval_sec":7200,"method":"GET"}],"reload_interval_sec":86400},"maxAge":86399,"serviceUrl":"http:\/\/servicemap.como-services.com\/mobile"},{"data":{"id":"d2a0c539-3724-42e6-a21a-cc8bbe8738c9","publisherId":"a17439b0-1271-43dc-a3cf-edcc023a36ac","name":"Venus Bridal Italy","label":"Venus Bridal Italy","icon":"http:\/\/s.conduit.com\/mobile\/fc\/60\/fc6facd0-e860-478b-9e11-69516f914666\/Images\/1ccd91b9-499c-4666-9c83-95e7c14397b5.Png","layout":{"deviceType":-1,"layoutType":2,"colorTheme":{"id":2,"background":"#993d3d3d","headers":"#ffffffff","mainText":"#ff8cb5d1","smallText":"#ff9ab3b2","buttons":"#ff212020","navTxt":"#FFFFFFFF","contBtxt":"#fffafafa","contBsubTxt":"#FFB4B4B4","contAbg":"#FF000000","hdrBg":"#ff212020","contAhdlTxt":"#ffffffff","navIcn":"#FFFFFFFF","contCsubTxt":"#FFB4B4B4","contBhdlTxt":"#ffffffff","contCbg":"#ff212020","contAsubTxt":"#FFB4B4B4","contAtxt":"#fffafafa","appBg":"#993d3d3d","contBbg":"#FF000000","actBtn":"#ff7d7e80","navBg":"#ff212020","contCtxt":"#FFFFFFFF","contAbrdr":"#ff212020","lnkTxt":"#ff7d7e80","hdrTxt":"#FFFFFFFF","contChdlTxt":"#FFFFFFFF","contBbrdr":"#ff212020","deviceType":-1,"displayName":"Crimson"},"meta":{"bgImage":"http:\/\/storage.conduit.com\/Mobile\/fc\/60\/fc6facd0-e860-478b-9e11-69516f914666\/Images\/353a2150-d775-4ed3-8e0a-96cd1130df31.png","material":0,"isRtl":false,"culture":null,"header":{"type":1,"content":"http:\/\/storage.conduit.com\/Mobile\/fc\/60\/fc6facd0-e860-478b-9e11-69516f914666\/Images\/66f5570f-435e-4b43-86fe-a5036191dc07.png"}},"template":{"appGeneral":{"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"appBg"}]}}}},"loadingSmallIcn":{"type":"icon","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contAsubTxt"}]}}}},"footer":{"bg":{"type":"background","data":{"facdefault":{"type":"solid","color":"#00000000","shadow":{"isInset":false,"x":"0px","y":"-2px","blur":"3px","color":"#99000000"}}}}},"scrnDiv":{"bg":{"type":"background","data":{"default":{"type":"solid","color":"#00000000","shadow":{"isInset":false,"x":"3px","y":"0px","blur":"10px","color":"#99000000"}}}},"brdr":{"type":"border","data":{"default":{"right":{"color":"#FF000000","width":"1px"}}}}},"scrnDivRight":{"bg":{"type":"background","data":{"default":{"type":"solid","color":"#00000000","shadow":{"isInset":false,"x":"3px","y":"0px","blur":"5px","color":"#99000000"}}}},"brdr":{"type":"border","data":{"default":{"right":{"color":"#cc000000","width":"1px"}}}}},"scrnDivLeft":{"bg":{"type":"background","data":{"default":{"type":"solid","color":"#00000000","shadow":{"isInset":false,"x":"-3px","y":"0px","blur":"5px","color":"#99000000"}}}},"brdr":{"type":"border","data":{"default":{"left":{"color":"#cc000000","width":"1px"}}}}},"dialog":{"bg":{"type":"background","data":{"default":{"type":"solid","color":"#CC141414","shadow":{"isInset":false,"x":"1px","y":"1px","blur":"3px","color":"#96000000"}}}},"lightBoxBg":{"type":"background","data":{"default":{"type":"solid","color":"#c6FFFFFF"}}},"hdlTxt":{"type":"text","data":{"default":{"color":"#FF5C5C5C"}}},"btn":{"bg":{"type":"background","data":{"default":{"type":"solid","color":"#FFFFFFFF","shadow":{"isInset":false,"x":"1px","y":"1px","blur":"2px","color":"#33000000"}},"clicked":{"type":"solid","color":"#FFE1E1E1","shadow":{"isInset":false,"x":"1px","y":"1px","blur":"2px","color":"#33000000"}},"disabled":{"type":"solid","color":"#33333333"}}},"brdr":{"type":"border","data":{"default":{"bottom":{"color":"#FF898989","width":"1px"},"right":{"color":"#FF898989","width":"1px"},"left":{"color":"#FFBFBBB8","width":"1px"},"top":{"color":"#FFBFBBB8","width":"1px"}},"clicked":{"bottom":{"color":"#FF898989","width":"1px"},"right":{"color":"#FF898989","width":"1px"},"left":{"color":"#FFBFBBB8","width":"1px"},"top":{"color":"#FFBFBBB8","width":"1px"}}}},"hdlTxt":{"type":"text","data":{"default":{"color":"#FF5F5B5A"},"selected":{"color":"#FF535353"},"disabled":{"color":"#CCCCCCCC"}}},"icn":{"type":"icon","data":{"default":{"type":"solid","color":"#FF5F5B5A"},"clicked":{"type":"solid","color":"#FF535353"},"disabled":{"type":"solid","color":"#CCCCCCCC"}}}},"btn2":{"bg":{"type":"background","data":{"default":{"type":"solid","color":"#FFCDCDCD","shadow":{"isInset":false,"x":"1px","y":"1px","blur":"2px","color":"#33000000"}},"clicked":{"type":"solid","color":"#FFC2C2C2","shadow":{"isInset":false,"x":"1px","y":"1px","blur":"2px","color":"#33000000"}},"disabled":{"type":"solid","color":"#33333333"}}},"brdr":{"type":"border","data":{"default":{"bottom":{"color":"#FFABABAB","width":"1px"},"right":{"color":"#FFABABAB","width":"1px"},"left":{"color":"#FFABABAB","width":"1px"},"top":{"color":"#FFABABAB","width":"1px"}},"clicked":{"bottom":{"color":"#FF8A8A8A","width":"1px"},"right":{"color":"#FF8A8A8A","width":"1px"},"left":{"color":"#FF8A8A8A","width":"1px"},"top":{"color":"#FF8A8A8A","width":"1px"}}}},"hdlTxt":{"type":"text","data":{"default":{"color":"#FF5F5B5A"},"selected":{"color":"#FF535353"},"disabled":{"color":"#CCCCCCCC"}}},"icn":{"type":"icon","data":{"default":{"type":"solid","color":"#FF5F5B5A"},"clicked":{"type":"solid","color":"#FF535353"},"disabled":{"type":"solid","color":"#CCCCCCCC"}}}}},"adBar":{"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contBbg","params":[{"a":{"mul":0.9}}]}]}}}},"brdr":{"type":"border","data":{"top":{"color":{"_replace":[{"param":"contBbg"}]},"width":"1px"}}},"hdlTxt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"contBhdlTxt"}]}}}}},"pullToRef":{"typeA":{"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contAbg"}]},"shadow":{"isInset":true,"x":"-1px","y":"1px","blur":"2px","color":"#54000000"}}}},"txt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"contAsubTxt"}]}}}},"brdr":{"type":"border","data":{"default":{"bottom":{"color":{"_replace":[{"param":"contAbrdr"}]},"width":"1px"}}}},"icn":{"type":"icon","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contAsubTxt"}]}}}}},"typeB":{"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contBbg"}]},"shadow":{"isInset":true,"x":"-1px","y":"1px","blur":"2px","color":"#54000000"}}}},"txt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"contBsubTxt"}]}}}},"brdr":{"type":"border","data":{"default":{"bottom":{"color":{"_replace":[{"param":"contBbrdr"}]},"width":"1px"}}}}},"icn":{"type":"icon","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contBsubTxt"}]}}}}},"ribbon":{"txt":{"type":"text","data":{"default":{"color":"#FF000000"}}},"bg":{"type":"background","data":{"default":{"type":"solid","color":"#FFFFFFFF","shadow":{"isInset":false,"x":"0px","y":"0px","blur":"3px","color":"#99000000"}}}},"brdr":{"type":"border","data":{"default":{"top":{"color":"#FF000000","width":"1px"},"bottom":{"color":"#FF000000","width":"1px"}}}}},"greenCrouton":{"bg":{"type":"background","data":{"default":{"type":"gradient","orientation":"vertical","color":[{"color":"#F2408422","location":0},{"color":"#e5408422","location":1}]}}},"brdr":{"type":"border","data":{"default":{"bottom":{"color":"#FF273f0d","width":"1px"}}}},"hdlTxt":{"type":"text","data":{"default":{"color":"#ffffffff"}}},"shadowGradTop":{"type":"background","data":{"default":{"type":"gradient","orientation":"vertical","color":[{"color":"#B2000000","location":0},{"color":"#33000000","location":0.46},{"color":"#00000000","location":1}]}}},"shadowGradBottom":{"type":"background","data":{"default":{"type":"gradient","orientation":"vertical","color":[{"color":"#4C000000","location":0},{"color":"#00000000","location":0.82},{"color":"#00000000","location":1}]}}}},"iosPopup":{"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contBbrdr"}]}}}},"hdlTxt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"contBbrdr","params":[{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0,"add":1},"a":{"mul":0,"add":1},"if":0.3},{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":1}}]}]}}}}}},"appHeader":{"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"hdrBg"}]},"shadow":{"isInset":false,"x":"0px","y":"1px","blur":"3px","color":{"_replace":[{"param":"hdrBg","params":[{"s":{"mul":0.7},"l":{"mul":0.3},"a":{"mul":0.8},"if":0.5},{"s":{"mul":0.7},"l":{"mul":0.2}}]}]}}}}},"bgTint":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"hdrBg"}]}}}},"brdr":{},"hdlTxt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"hdrTxt"}]}}}},"btn":{"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"hdrBg","params":[{"s":{"mul":0.9},"l":{"mul":0.7},"a":{"mul":0.4},"if":0.5},{"s":{"mul":0.9},"l":{"mul":0.5},"a":{"mul":0.4}}]}]}},"clicked":{"type":"solid","color":"#4C000000","shadow":{"isInset":true,"x":"-1px","y":"1px","blur":"2px","color":"#66000000"}},"selected":{"type":"solid","color":"#4C000000","shadow":{"isInset":true,"x":"-1px","y":"1px","blur":"2px","color":"#66000000"}}}},"icn":{"type":"icon","data":{"default":{"type":"solid","color":{"_replace":[{"param":"hdrTxt"}]}}}},"txt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"hdrTxt"}]}}}}}},"appHeaderAndroid":{"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"hdrBg"}]}}}},"shadowGrad":{"type":"background","data":{"default":{"type":"gradient","orientation":"vertical","color":[{"color":"#3f000000","location":0},{"color":"#28000000","location":0.04},{"color":"#00000000","location":0.83},{"color":"#00000000","location":1}]}}},"brdr":{"type":"border","data":{"default":{"top":{"color":{"_replace":[{"param":"hdrBg","params":[{"s":{"mul":0},"l":{"mul":100},"a":{"mul":0,"add":0.2},"if":0.1},{"s":{"mul":0},"l":{"mul":100},"a":{"mul":0.1},"if":0.3},{"s":{"mul":0},"l":{"mul":100},"a":{"mul":0.3}}]}]},"width":"2dp"},"bottom":{"color":{"_replace":[{"param":"hdrBg","params":[{"s":{"mul":0},"l":{"mul":0,"add":0.3},"a":{"mul":0,"add":0.2},"if":0.2},{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":0.2}}]}]},"width":"4dp"}}}},"hdlTxt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"hdrTxt"}]}}}},"actIcn":{"type":"icon","data":{"default":{"type":"solid","color":{"_replace":[{"param":"hdrTxt"}]}}}},"icn":{"type":"icon","data":{"default":{"type":"solid","color":{"_replace":[{"param":"hdrTxt","params":[{"l":{"mul":0.8}}]}]}}}},"refresh":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"lnkTxt"}]}}}}},"spinnerMenu":{"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"hdrBg","params":[{"s":{"mul":0.8},"l":{"mul":0,"add":0.4},"if":0.2},{"s":{"mul":0.8},"l":{"add":0.2},"if":0.4},{"s":{"mul":0.7},"l":{"add":0.1},"if":0.7},{"s":{"mul":0.7},"l":{"add":0.3},"if":0.9},{"s":{"mul":0.7},"l":{"mul":0.8}}]}]}},"clicked":{"type":"solid","color":{"_replace":[{"param":"hdrBg","params":[{"s":{"mul":0.9},"l":{"mul":0,"add":0.3},"if":0.2},{"s":{"mul":0.9},"l":{"add":0.1},"if":0.4},{"s":{"mul":0.9},"if":0.7},{"s":{"mul":0.9},"l":{"add":-0.1},"if":0.9},{"s":{"mul":0.9},"l":{"mul":0.7}}]}]}},"selected":{"type":"solid","color":{"_replace":[{"param":"hdrBg","params":[{"s":{"mul":0.9},"l":{"mul":0,"add":0.3},"if":0.2},{"s":{"mul":0.9},"l":{"add":0.1},"if":0.4},{"s":{"mul":0.9},"if":0.7},{"s":{"mul":0.9},"l":{"add":-0.1},"if":0.9},{"s":{"mul":0.9},"l":{"mul":0.7}}]}]}}}},"brdr":{"type":"border","data":{"default":{"top":{"color":{"_replace":[{"param":"hdrBg","params":[{"s":{"mul":0.9},"if":0.2},{"s":{"mul":0.9},"l":{"add":-0.1},"if":0.4},{"s":{"mul":0.9},"l":{"add":-0.3},"if":0.7},{"s":{"mul":0.9},"l":{"mul":0.8},"if":0.9},{"s":{"mul":0.9},"l":{"mul":0.8}}]}]},"width":"1dp"}}}},"hdlTxt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"hdrBg","params":[{"s":{"mul":0.8},"l":{"mul":0,"add":1},"if":0.7},{"l":{"mul":0.2}}]}]}}}}},"navBar":{"item":{"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"navBg"}]}},"clicked":{"type":"solid","color":{"_replace":[{"param":"navBg","params":[{"s":{"add":-0.1},"l":{"add":0.1},"a":{"add":-0.2},"if":0.2},{"s":{"add":-0.1},"l":{"add":-0.1},"a":{"add":-0.2}}]}]}},"selected":{"type":"solid","color":{"_replace":[{"param":"navBg","params":[{"s":{"add":-0.1},"l":{"add":0.1},"if":0.2},{"s":{"add":-0.1},"l":{"add":-0.1}}]}]}}}},"bubbleBg":{"type":"background","data":{"default":{},"clicked":{}}},"brdr":{"type":"border","data":{"default":{},"clicked":{}}},"hdlTxt":{"type":"text","data":{"default":{"color":"#CCFFFFFF"},"clicked":{"color":"#FFFFFFFF"},"selected":{"color":"#FFFFFFFF"}}},"icn":{"type":"icon","data":{"default":{"type":"solid","color":"#ffffffff"}}}}},"navBarCustom":{"item":{"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"navBg"}]}},"clicked":{"type":"solid","color":{"_replace":[{"param":"navBg","params":[{"s":{"add":-0.1},"l":{"add":0.1},"a":{"add":-0.2},"if":0.2},{"s":{"add":-0.1},"l":{"add":-0.1},"a":{"add":-0.2}}]}]}},"selected":{"type":"solid","color":{"_replace":[{"param":"navBg","params":[{"s":{"add":-0.1},"l":{"add":0.1},"if":0.2},{"s":{"add":-0.1},"l":{"add":-0.1}}]}]}}}},"hdlTxt":{"type":"text","data":{"default":{"color":"#CCFFFFFF"},"clicked":{"color":"#FFFFFFFF"},"selected":{"color":"#FFFFFFFF"}}}}},"navBarNew":{"bg":{"type":"background","data":{"default":{"type":"solid","color":"#CCFFFFFF"}}},"item":{"hdlTxt":{"type":"text","data":{"default":{"color":"#FF929292"},"clicked":{"color":"#FF757575"},"selected":{"color":"#FF2a2a2a"}}},"icn":{"type":"icon","data":{"default":{"type":"solid","color":"#FF929292"},"clicked":{"type":"solid","color":"#FF757575"},"selected":{"type":"solid","color":"#FF2a2a2a"}}}}},"navGrid":{"bg":{"type":"background","data":{"default":{"type":"solid","color":"#33000000"}}},"btn":{"bg":{"type":"background","data":{"default":{},"clicked":{}}},"brdr":{"type":"border","data":{"default":{},"clicked":{}}},"txt":{"type":"text","data":{"default":{"color":"#FFFFFFFF"},"clicked":{"color":"#CCFFFFFF"}}}}},"dynamicGrid":{"fullPage":{"bg":{}},"slot":{"bg":{"type":"background","data":{"default":{"type":"gradient","orientation":"vertical","color":[{"color":{"_replace":[{"param":"hdrBg","params":[{"s":{"add":-0.1},"l":{"add":0.2},"a":{"mul":0,"add":0.9}}]}]},"location":0},{"color":{"_replace":[{"param":"hdrBg","params":[{"a":{"mul":0,"add":0.9},"if":0.3},{"l":{"add":-0.05},"a":{"mul":0,"add":0.9},"if":0.6},{"l":{"add":-0.25},"a":{"mul":0,"add":0.9}}]}]},"location":1}],"shadow":{"isInset":false,"x":"0px","y":"0px","blur":"3px","color":"#4c000000"}},"clicked":{"type":"solid","color":{"_replace":[{"param":"hdrBg"}]},"shadow":{"isInset":false,"x":"0px","y":"0px","blur":"3px","color":"#4c000000"}},"selected":{"type":"solid","color":{"_replace":[{"param":"hdrBg"}]},"shadow":{"isInset":false,"x":"0px","y":"0px","blur":"3px","color":"#4c000000"}}}},"text":{"hdlTxt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"hdrTxt"}]},"shadow":{"x":"0px","y":"-1px","color":"#66000000"}}}}}}},"navList":{"bg":{"type":"background","data":{"default":{"type":"solid","color":"#33000000"}}},"item":{"bg":{"type":"background","data":{"default":{},"clicked":{"type":"solid","color":"#40000000"}}},"brdr":{"type":"border","data":{"default":{"bottom":{"color":"#4c2a2a2a","width":"1px"}},"clicked":{}}},"txt":{"type":"text","data":{"default":{"color":"#FFFFFFFF"},"clicked":{}}}}},"navSidebar":{"bg":{"type":"background","data":{"default":{"type":"solid","color":"#FF282828"}}},"scrnDiv":{"bg":{"type":"background","data":{"default":{"type":"solid","color":"#00000000","shadow":{"isInset":false,"x":"-3px","y":"0px","blur":"10px","color":"#99000000"}}}},"brdr":{"type":"border","data":{"default":{"left":{"color":"#FF000000","width":"1px"}}}}},"item":{"bg":{"type":"background","data":{"default":{},"clicked":{"type":"solid","color":"#33000000","shadow":{"isInset":true,"x":"0px","y":"1px","blur":"3px","color":"#99000000"}},"selected":{"type":"solid","color":"#33000000","shadow":{"isInset":true,"x":"0px","y":"1px","blur":"3px","color":"#99000000"}}}},"marker":{"type":"background","data":{"default":{},"clicked":{"type":"solid","color":{"_replace":[{"param":"actBtn"}]}},"selected":{"type":"solid","color":{"_replace":[{"param":"actBtn"}]}}}},"brdr":{"type":"border","data":{"default":{"bottom":{"color":"#FF3e3e3e","width":"1px"}},"clicked":{},"selected":{}}},"txt":{"type":"text","data":{"default":{"color":"#FFefefef"},"clicked":{"color":"#FFFFFFFF"},"selected":{"color":"#FFFFFFFF"}}}}},"androidDialog":{"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contBbg","params":[{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0,"add":0.16},"a":{"mul":0,"add":1},"if":0.6},{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0,"add":0.96},"a":{"mul":0,"add":1}}]}]}}}},"item":{"bg":{"type":"background","data":{"default":{},"clicked":{"type":"solid","color":{"_replace":[{"param":"contBbg","params":[{"h":{"mul":0,"add":0.544},"s":{"mul":0,"add":0.62},"l":{"mul":0,"add":0.45},"a":{"mul":0,"add":1},"if":0.6},{"h":{"mul":0,"add":0.544},"s":{"mul":0,"add":0.757},"l":{"mul":0,"add":0.63},"a":{"mul":0,"add":1}}]}]}}}},"brdr":{"type":"border","data":{"default":{"bottom":{"color":{"_replace":[{"param":"contBbg","params":[{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0,"add":1},"a":{"mul":0,"add":0.1},"if":0.6},{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":0.1}}]}]},"width":"1px"}},"clicked":{}}},"txt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"contBbg","params":[{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0,"add":1},"a":{"mul":0,"add":1},"if":0.6},{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0,"add":0.133},"a":{"mul":0,"add":1}}]}]}},"selected":{"color":{"_replace":[{"param":"contBbg","params":[{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0,"add":1},"a":{"mul":0,"add":1},"if":0.6},{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0,"add":0.133},"a":{"mul":0,"add":1}}]}]}}}},"chkboxIcn":{"type":"icon","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contBbg","params":[{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0,"add":0.26},"a":{"mul":0,"add":1},"if":0.6},{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0,"add":0.46},"a":{"mul":0,"add":1}}]}]}}}}},"header":{"hdlTxt":{"type":"text","data":{"default":{"color":"#FF33b5e5"}}},"brdr":{"type":"border","data":{"default":{"bottom":{"color":"#FF33b5e5","width":"6px"}}}}},"group":{"hdlTxt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"contBbg","params":[{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0,"add":0.8},"a":{"mul":0,"add":1},"if":0.6},{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0,"add":0.6},"a":{"mul":0,"add":1}}]}]}}}},"brdr":{"type":"border","data":{"default":{"bottom":{"color":{"_replace":[{"param":"contBbg","params":[{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":0.23},"if":0.6},{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0,"add":0.6},"a":{"mul":0,"add":1}}]}]},"width":"6px"}}}}},"btn":{"bg":{"type":"background","data":{"default":{},"clicked":{"type":"solid","color":{"_replace":[{"param":"contBbg","params":[{"h":{"mul":0,"add":0.544},"s":{"mul":0,"add":0.62},"l":{"mul":0,"add":0.45},"a":{"mul":0,"add":1},"if":0.6},{"h":{"mul":0,"add":0.544},"s":{"mul":0,"add":0.757},"l":{"mul":0,"add":0.63},"a":{"mul":0,"add":1}}]}]}}}},"brdr":{"type":"border","data":{"default":{"top":{"color":{"_replace":[{"param":"contBbg","params":[{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0,"add":0.16},"a":{"mul":0,"add":1},"if":0.6},{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0,"add":0.86},"a":{"mul":0,"add":1}}]}]},"width":"1px"}}}},"sepBrdr":{"type":"border","data":{"default":{"left":{"color":{"_replace":[{"param":"contBbg","params":[{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0,"add":0.16},"a":{"mul":0,"add":1},"if":0.6},{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0,"add":0.86},"a":{"mul":0,"add":1}}]}]},"width":"1px"}}}},"txt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"contBbg","params":[{"h":{"mul":0,"add":0},"s":{"mul":0,"add":0},"l":{"mul":0,"add":1},"a":{"mul":0,"add":1},"if":0.6},{"h":{"mul":0,"add":0},"s":{"mul":0,"add":0},"l":{"mul":0,"add":0},"a":{"mul":0,"add":1}}]}]}}}}}},"tabBar":{"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contBbg","params":[{"a":{"mul":0.7},"if":0.3},{"a":{"mul":0.88}}]}]}}}},"brdr":{"type":"border","data":{"default":{"bottom":{"color":{"_replace":[{"param":"contBbrdr"}]},"width":"1px"}}}},"item":{"bg":{"type":"background","data":{"default":{},"clicked":{}}},"bubble":{"bg":{"type":"background","data":{"default":{},"clicked":{"type":"solid","color":{"_replace":[{"param":"lnkTxt","params":[{"a":{"mul":0.8}}]}]}},"selected":{"type":"solid","color":{"_replace":[{"param":"lnkTxt"}]}}}},"brdr":{"type":"border","data":{"default":{},"clicked":{},"selected":{}}},"txt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"lnkTxt"}]}},"clicked":{"color":{"_replace":[{"param":"contBbg","params":[{"a":{"mul":0,"add":1}}]}]}},"selected":{"color":{"_replace":[{"param":"contBbg","params":[{"a":{"mul":0,"add":1}}]}]}}}}},"brdr":{"type":"border","data":{"default":{},"clicked":{}}}}},"tab2Bar":{"bg":{"type":"background","data":{"default":{"type":"gradient","orientation":"horizontal","color":[{"color":{"_replace":[{"param":"contBbg","params":[{"a":{"mul":0,"add":0.86},"if":0.3},{"s":{"mul":0.8},"l":{"add":-0.2},"a":{"mul":0,"add":0.86}}]}]},"location":0},{"color":{"_replace":[{"param":"contBbg","params":[{"a":{"mul":0,"add":0.9},"if":0.3},{"s":{"mul":0.8},"l":{"add":0.2},"a":{"mul":0,"add":0.9}}]}]},"location":0.5},{"color":{"_replace":[{"param":"contBbg","params":[{"a":{"mul":0,"add":0.86},"if":0.3},{"s":{"mul":0.8},"l":{"add":-0.2},"a":{"mul":0,"add":0.86}}]}]},"location":1}],"shadow":[{"isInset":true,"x":"0px","y":"-1px","blur":"0px","color":{"_replace":[{"param":"lnkTxt"}]}},{"isInset":true,"x":"0px","y":"1px","blur":"0px","color":{"_replace":[{"param":"lnkTxt"}]}},{"isInset":true,"x":"0px","y":"1px","blur":"10px -2px","color":"#B4000000"},{"isInset":true,"x":"0px","y":"-1px","blur":"10px -2px","color":"#B4000000"}]}}},"triangle":{"type":"border","data":{"default":{"top":{"width":"6px","color":{"_replace":[{"param":"contBtxt"}]}},"left":{"width":"8px","color":"#00000000"},"right":{"width":"8px","color":"#00000000"},"bottom":{"width":"6px","color":{"_replace":[{"param":"contBtxt"}]}}}}},"item":{"bg":{"type":"background","data":{"default":{"type":"solid","color":"#00000000"},"selected":{"type":"solid","color":"#00000000"}}},"txt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"lnkTxt"}]}},"selected":{"color":{"_replace":[{"param":"contAtxt"}]}}}}}},"tab3Bar":{"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contBbg","params":[{"a":{"mul":0,"add":0.5}}]}]},"shadow":{"isInset":false,"x":"0px","y":"1px","blur":"3px","color":{"_replace":[{"param":"contBbg","params":[{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0},"if":0.2},{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":0.58}}]}]}}}}},"item":{"txt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"lnkTxt"}]}},"selected":{"color":{"_replace":[{"param":"contBsubTxt"}]}}}}}},"tab4Bar":{"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contBbg","params":[{"a":{"mul":0,"add":0.7},"if":0.2},{"a":{"mul":0,"add":0.88}}]}]},"shadow":{"isInset":false,"x":"0px","y":"1px","blur":"3px","color":"#96000000"}}}},"item":{"txt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"contBtxt"}]}},"selected":{"color":{"_replace":[{"param":"lnkTxt"}]}}}},"sepBrdr":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contBbrdr","params":[{"a":{"mul":0,"add":0.7}}]}]}}}}}},"tabAndroidBar":{"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contBbg","params":[{"a":{"mul":0.95}}]}]}}}},"bottomBrdr":{"type":"border","data":{"default":{"bottom":{"color":{"_replace":[{"param":"contBbg","params":[{"s":{"mul":0},"l":{"mul":0,"add":1},"a":{"mul":0,"add":0.14},"if":0.3},{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":0.14}}]}]},"width":"2dp"}}}},"sepBrdr":{"type":"border","data":{"default":{"left":{"color":{"_replace":[{"param":"contBbg","params":[{"s":{"mul":0},"l":{"mul":0,"add":1},"a":{"mul":0,"add":0.2},"if":0.2},{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":0.2}}]}]},"width":"1px"}}}},"item":{"txt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"contBhdlTxt"}]}}}},"bg":{"type":"background","data":{"default":{},"clicked":{"type":"solid","color":{"_replace":[{"param":"lnkTxt","params":[{"a":{"mul":0,"add":0.5}}]}]}}}},"brdr":{"type":"border","data":{"default":{},"clicked":{"bottom":{"color":{"_replace":[{"param":"lnkTxt","params":[{"l":{"mul":1.2},"if":0.5},{"s":{"mul":0.8},"l":{"mul":0.8}}]}]},"width":"1px"}}}}}},"contTypeA":{"hdlTxt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"contAhdlTxt"}]}}}},"hdlTxtBrdr":{"type":"border","data":{"default":{"top":{"width":"1px","color":"#FFCCCCCC"},"bottom":{"width":"1px","color":"#FFCCCCCC"}}}},"txt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"contAtxt"}]}},"mandatory":{"color":"#FFBB0000"}}},"subTxt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"contAsubTxt"}]}}}},"lnkTxt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"lnkTxt"}]}}}},"hdlIcn":{"type":"server_icon","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contAhdlTxt"}]}}}},"icn":{"type":"icon","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contAtxt"}]}}}},"subIcn":{"type":"icon","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contAsubTxt"}]}}}},"lnkIcn":{"type":"icon","data":{"default":{"type":"solid","color":{"_replace":[{"param":"lnkTxt"}]}}}},"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contAbg"}]}},"clicked":{"type":"solid","color":{"_replace":[{"param":"contAbg","params":[{"l":{"add":0.05},"a":{"add":-0.1},"if":0.3},{"l":{"add":-0.05},"a":{"add":-0.1}}]}]}},"selected":{"type":"solid","color":{"_replace":[{"param":"contAbg","params":[{"l":{"add":0.03},"a":{"add":-0.1},"if":0.3},{"l":{"add":-0.03},"a":{"add":-0.1}}]}]}}}},"subBg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contAbg","params":[{"s":{"mul":0.8},"l":{"add":0.15},"if":0.4},{"s":{"mul":0.8},"l":{"add":-0.1}}]}]}}}},"brdr":{"type":"border","data":{"default":{"bottom":{"color":{"_replace":[{"param":"contAbrdr"}]},"width":"1px"}}}},"classicItem":{"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contAbg"}]}},"clicked":{"type":"solid","color":{"_replace":[{"param":"contAbg","params":[{"l":{"add":0.05},"a":{"add":-0.1},"if":0.3},{"l":{"add":-0.05},"a":{"add":-0.1}}]}]}},"selected":{"type":"solid","color":{"_replace":[{"param":"contAbg","params":[{"l":{"add":0.03},"a":{"add":-0.1},"if":0.3},{"l":{"add":-0.03},"a":{"add":-0.1}}]}]}}}},"brdr":{"type":"border","data":{"default":{"bottom":{"color":{"_replace":[{"param":"contAbrdr"}]},"width":"1px"}}}}},"btn":{"bg":{"type":"background","data":{"default":{"type":"gradient","orientation":"vertical","color":[{"color":"#FFfcfcfc","location":0},{"color":"#FFe5e5e5","location":1}],"shadow":[{"isInset":false,"x":"1px","y":"1px","blur":"2px","color":"#26000000"},{"isInset":true,"x":"-1px","y":"-1px","blur":"0px","color":"#CCFFFFFF"}]},"clicked":{"type":"gradient","orientation":"vertical","color":[{"color":"#FFe5e5e5","location":0},{"color":"#FFfcfcfc","location":1}],"shadow":[{"isInset":false,"x":"1px","y":"1px","blur":"1px","color":"#4c000000"},{"isInset":true,"x":"1px","y":"1px","blur":"0px","color":"#CCFFFFFF"}]},"disabled":{"type":"gradient","orientation":"vertical","color":[{"color":"#FFe7e7e7","location":0},{"color":"#FFE6E6E6","location":1}]}}},"brdr":{"type":"border","data":{"default":{"bottom":{"color":"#FFBFBBB8","width":"1px"},"right":{"color":"#FFBFBBB8","width":"1px"},"left":{"color":"#FFBFBBB8","width":"1px"},"top":{"color":"#FFBFBBB8","width":"1px"}},"clicked":{"bottom":{"color":"#FFa7a7a7","width":"1px"},"right":{"color":"#FFa7a7a7","width":"1px"},"left":{"color":"#FFa7a7a7","width":"1px"},"top":{"color":"#FFa7a7a7","width":"1px"}}}},"hdlTxt":{"type":"text","data":{"default":{"color":"#FF5F5B5A"},"selected":{"color":"#CC000000"},"disabled":{"color":"#ffCCCCCC"}}},"icn":{"type":"icon","data":{"default":{"type":"solid","color":"#FF2a2a2a"}}}},"actBtn":{"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"actBtn"}]}},"clicked":{"type":"solid","color":{"_replace":[{"param":"actBtn","params":[{"a":{"add":-0.2}}]}]}},"disabled":{"type":"solid","color":"#33333333"}}},"brdr":{"type":"border","data":{}},"hdlTxt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"actBtn","params":[{"s":{"mul":0},"l":{"mul":0,"add":1},"a":{"mul":0,"add":1},"if":0.7},{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":1}}]}]}},"selected":{"color":{"_replace":[{"param":"actBtn","params":[{"s":{"mul":0},"l":{"mul":0,"add":1},"a":{"mul":0,"add":0.8},"if":0.7},{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":0.8}}]}]}},"disabled":{"color":"#ffCCCCCC"}}},"icn":{"type":"icon","data":{"default":{"type":"solid","color":{"_replace":[{"param":"actBtn","params":[{"s":{"mul":0},"l":{"mul":0,"add":1},"a":{"mul":0,"add":1},"if":0.7},{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":1}}]}]}},"selected":{"type":"solid","color":{"_replace":[{"param":"actBtn","params":[{"s":{"mul":0},"l":{"mul":0,"add":1},"a":{"mul":0,"add":0.8},"if":0.7},{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":0.8}}]}]}},"disabled":{"type":"solid","color":"#ffCCCCCC"}}},"svgicn":{"type":"svg","data":{"default":{"type":"solid","color":{"_replace":[{"param":"actBtn","params":[{"s":{"mul":0},"l":{"mul":0,"add":1},"a":{"mul":0,"add":1},"if":0.7},{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":1}}]}]}},"selected":{"type":"solid","color":{"_replace":[{"param":"actBtn","params":[{"s":{"mul":0},"l":{"mul":0,"add":1},"a":{"mul":0,"add":0.8},"if":0.7},{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":0.8}}]}]}},"disabled":{"type":"solid","color":"#ffCCCCCC"}}}},"contentSession":{"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contAhdlTxt","params":[{"a":{"mul":0,"add":0.88}}]}]}}}},"hdlTxt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"contAbg"}]}}}},"txt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"contAbg","params":[{"a":{"mul":0,"add":0.69}}]}]}}}},"subTxt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"contAbg","params":[{"a":{"mul":0,"add":0.59}}]}]}}}},"btn":{"bg":{"type":"background","data":{"default":{"type":"solid","color":"#00000000","shadow":[{"isInset":false,"x":"0px","y":"0px","blur":"0px 1px","color":"#66000000"},{"isInset":true,"x":"1px","y":"1px","blur":"0px","color":"#4Dffffff"}]}}},"icn":{"type":"icon","data":{"default":{"type":"solid","color":"#FFFFFFFF"}}}}},"contentSession2":{"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"lnkTxt","params":[{"a":{"mul":0.88}}]}]}}}},"hdlTxt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"contAbg"}]}}}},"txt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"contAbg","params":[{"a":{"mul":0.69}}]}]}}}},"subTxt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"contAbg","params":[{"a":{"mul":0.49}}]}]}}}},"btn":{"bg":{"type":"background","data":{"default":{"type":"solid","color":"#00FFFFFF","shadow":[{"isInset":false,"x":"1px","y":"1px","blur":"0px","color":"#66ffffff"},{"isInset":true,"x":"1px","y":"1px","blur":"3px","color":"#99000000"}]}}},"icn":{"type":"icon","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contAbg","params":[{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":1},"if":0.3},{"s":{"mul":0},"l":{"mul":0,"add":1},"a":{"mul":0,"add":1}}]}]}}}}}},"calBoxBrdr1":{"type":"border","data":{"default":{"top":{"width":"1px","color":{"_replace":[{"param":"contBbrdr"}]}},"bottom":{"width":"1px","style":"dotted","color":{"_replace":[{"param":"contBbrdr","params":[{"a":{"mul":0.7}}]}]}}}}},"calBoxBrdr2":{"type":"border","data":{"default":{"top":{"width":"1px","style":"dotted","color":{"_replace":[{"param":"contBbrdr","params":[{"a":{"mul":0.7}}]}]}},"bottom":{"width":"1px","style":"dotted","color":{"_replace":[{"param":"contBbrdr","params":[{"a":{"mul":0.7}}]}]}}}}}},"contTypeB":{"hdlTxt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"contBhdlTxt"}]}},"selected":{"color":{"_replace":[{"param":"contBsubTxt"}]}}}},"hdlTxtBrdr":{"type":"border","data":{"default":{"top":{"width":"1px","color":{"_replace":[{"param":"contBhdlTxt","params":[{"a":{"mul":0.2}}]}]}},"bottom":{"width":"1px","color":{"_replace":[{"param":"contBhdlTxt","params":[{"a":{"mul":0.2}}]}]}}}}},"hdlTxtBrdr2":{"type":"border","data":{"default":{"top":{"width":"1px","color":{"_replace":[{"param":"contBhdlTxt"}]}}}}},"txt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"contBtxt"}]}},"selected":{"color":{"_replace":[{"param":"contBsubTxt"}]}},"mandatory":{"color":"#FFBB0000"}}},"subTxt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"contBsubTxt"}]}}}},"lnkTxt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"lnkTxt"}]}}}},"icn":{"type":"icon","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contBtxt"}]}}}},"subIcn":{"type":"icon","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contBsubTxt"}]}}}},"lnkIcn":{"type":"icon","data":{"default":{"type":"solid","color":{"_replace":[{"param":"lnkTxt"}]}}}},"subSvg":{"type":"svg","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contBsubTxt"}]}}}},"rateSvg":{"type":"svg","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contBbg","params":[{"s":{"mul":0.8},"l":{"add":0.24},"a":{"add":0.4},"if":0.4},{"s":{"mul":0.8},"l":{"add":-0.4},"a":{"add":0.2}}]}]}},"selected":{"type":"solid","color":{"_replace":[{"param":"lnkTxt"}]}}}},"rateIcn":{"type":"icon","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contBbg","params":[{"s":{"mul":0.8},"l":{"add":0.24},"a":{"add":0.4},"if":0.4},{"s":{"mul":0.8},"l":{"add":-0.4},"a":{"add":0.2}}]}]}},"selected":{"type":"solid","color":{"_replace":[{"param":"lnkTxt"}]}}}},"hdlIcn":{"type":"server_icon","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contBhdlTxt"}]}}}},"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contBbg","params":[{"a":{"add":-0.12}}]}]}},"clicked":{"type":"solid","color":{"_replace":[{"param":"contBbg","params":[{"a":{"add":-0.18}}]}]}},"selected":{"type":"solid","color":{"_replace":[{"param":"contBbg","params":[{"a":{"add":-0.18}}]}]}}}},"subBg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contBbg","params":[{"s":{"mul":0.8},"l":{"add":0.15},"if":0.4},{"s":{"mul":0.8},"l":{"add":-0.1}}]}]}}}},"brdr":{"type":"border","data":{"default":{"bottom":{"color":{"_replace":[{"param":"contBbrdr"}]},"width":"1px"}},"clicked":{"bottom":{"color":{"_replace":[{"param":"contBbrdr"}]},"width":"1px"}},"selected":{"bottom":{"color":{"_replace":[{"param":"contBbrdr"}]},"width":"1px"}}}},"subBrdr":{"type":"border","data":{"default":{"top":{"color":{"_replace":[{"param":"contBsubTxt"}]},"width":"1px"}}}},"bubbleItem":{"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contBbg","params":[{"a":{"add":-0.12}}]}]},"shadow":{"isInset":false,"x":"1px","y":"1px","blur":"3px","color":{"_replace":[{"param":"contBbg","params":[{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0},"if":0.2},{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":0.7}}]}]}}},"clicked":{"type":"solid","color":{"_replace":[{"param":"contBbg","params":[{"a":{"add":-0.1},"s":{"add":-0.1},"l":{"add":0.1},"if":0.3},{"a":{"add":-0.1},"s":{"add":-0.1},"l":{"add":-0.1}}]}]},"shadow":{"isInset":false,"x":"1px","y":"1px","blur":"1px","color":{"_replace":[{"param":"contBbg","params":[{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0},"if":0.2},{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":0.8}}]}]}}},"selected":{"type":"solid","color":{"_replace":[{"param":"contBbg","params":[{"a":{"add":0.3}}]}]},"shadow":{"isInset":false,"x":"1px","y":"1px","blur":"1px","color":{"_replace":[{"param":"contBbg","params":[{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0},"if":0.2},{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":0.7}}]}]}}}}},"ovrImg":{"bg":{"type":"background","data":{"default":{"type":"solid","color":"#B2000000"},"clicked":{"type":"solid","color":{"_replace":[{"param":"lnkTxt","params":[{"a":{"mul":0.6}}]}]}},"selected":{"type":"solid","color":{"_replace":[{"param":"lnkTxt","params":[{"a":{"mul":0.8}}]}]}}}},"icn":{"type":"icon","data":{"default":{"type":"solid","color":"#b2ffffff"}}},"hdlTxt":{"type":"text","data":{"default":{"color":"#FFFFFFFF"}}},"txt":{"type":"text","data":{"default":{"color":"#B2FFFFFF"}}},"subTxt":{"type":"text","data":{"default":{"color":"#7fFFFFFF"}}}},"brdr":{"type":"border","data":{}},"shadowBrdr":{"type":"border","data":{"default":{"bottom":{"color":"#26000000","width":"1dp"}}}}},"headerItem":{"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contBbg","params":[{"a":{"add":-0.18},"if":0.2},{"a":{"add":-0.12}}]}]}},"clicked":{"type":"solid","color":{"_replace":[{"param":"contBbg","params":[{"a":{"mul":0.82}}]}]}},"selected":{"type":"solid","color":{"_replace":[{"param":"contBbg","params":[{"l":{"mul":0.82}}]}]}}}},"brdr":{"type":"border","data":{"default":{"bottom":{"color":{"_replace":[{"param":"contBbrdr"}]},"width":"1px"}}}}},"trackItem":{"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contBbg","params":[{"a":{"mul":0.88}}]}]},"shadow":{"isInset":false,"x":"1px","y":"1px","blur":"3px","color":{"_replace":[{"param":"contBbg","params":[{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0},"if":0.2},{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":0.58}}]}]}}},"clicked":{"type":"solid","color":{"_replace":[{"param":"contBbg","params":[{"a":{"mul":0.82}}]}]},"shadow":{"isInset":false,"x":"1px","y":"1px","blur":"3px","color":{"_replace":[{"param":"contBbg","params":[{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0},"if":0.2},{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":0.58}}]}]}}},"selected":{"type":"solid","color":{"_replace":[{"param":"contBbg"}]}}}},"brdr":{"type":"border","data":{"default":{"top":{"color":{"_replace":[{"param":"contBbrdr"}]},"width":"1px"},"bottom":{"color":{"_replace":[{"param":"contBbrdr"}]},"width":"1px"},"left":{"color":{"_replace":[{"param":"contBbrdr"}]},"width":"1px"},"right":{"color":{"_replace":[{"param":"contBbrdr"}]},"width":"1px"}},"clicked":{"top":{"color":{"_replace":[{"param":"lnkTxt"}]},"width":"1px"},"bottom":{"color":{"_replace":[{"param":"lnkTxt"}]},"width":"1px"},"left":{"color":{"_replace":[{"param":"lnkTxt"}]},"width":"1px"},"right":{"color":{"_replace":[{"param":"lnkTxt"}]},"width":"1px"}},"selected":{"top":{"color":{"_replace":[{"param":"lnkTxt"}]},"width":"1px"},"bottom":{"color":{"_replace":[{"param":"lnkTxt"}]},"width":"1px"},"left":{"color":{"_replace":[{"param":"lnkTxt"}]},"width":"1px"},"right":{"color":{"_replace":[{"param":"lnkTxt"}]},"width":"1px"}}}}},"fullPage":{"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contBbg","params":[{"a":{"add":-0.32},"if":0.2},{"a":{"add":-0.22}}]}]}}}}},"fullPage2":{"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contBbg","params":[{"a":{"mul":0.82}}]}]}}}}},"fullPage3":{"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contBbg","params":[{"a":{"mul":0.95}}]}]}}}}},"fullPage4":{"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contBbg","params":[{"a":{"mul":0.7}}]}]}}}}},"fullPage5":{"bg":{"type":"background","data":{"default":{"type":"gradient","orientation":"vertical","color":[{"color":{"_replace":[{"param":"contBbg","params":[{"a":{"mul":0,"add":0.8}}]}]},"location":0},{"color":{"_replace":[{"param":"contBbg","params":[{"a":{"mul":0,"add":0.5}}]}]},"location":1}]}}}},"sideAlbums":{"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contBbg","params":[{"a":{"mul":0,"add":0.5}}]}]}}}},"item":{"bg":{"type":"background","data":{"default":{},"clicked":{"type":"solid","color":{"_replace":[{"param":"contBbg","params":[{"a":{"mul":0.2}}]}]}},"selected":{"type":"solid","color":{"_replace":[{"param":"contBbg"}]}}}},"brdr":{"type":"border","data":{"default":{"bottom":{"color":{"_replace":[{"param":"contBbrdr","params":[{"a":{"mul":0.5}}]}]},"width":"1px"}}}}}},"sep":{"brdr":{"type":"border","data":{"default":{"top":{"width":"1px","color":{"_replace":[{"param":"contBbrdr","params":[{"a":{"mul":0,"add":0.6}}]}]}}}}}},"btn":{"bg":{"type":"background","data":{"default":{"type":"gradient","orientation":"vertical","color":[{"color":"#FFFFFFFF","location":0},{"color":"#FFE6E6E6","location":1}]},"clicked":{"type":"gradient","orientation":"vertical","color":[{"color":"#ffdddddd","location":0},{"color":"#ffcccccc","location":1}]},"disabled":{"type":"gradient","orientation":"vertical","color":[{"color":"#FFe7e7e7","location":0},{"color":"#FFE6E6E6","location":1}]}}},"brdr":{"type":"border","data":{"default":{"bottom":{"color":"#FFBFBBB8","width":"1px"},"right":{"color":"#FFBFBBB8","width":"1px"},"left":{"color":"#FFBFBBB8","width":"1px"},"top":{"color":"#FFBFBBB8","width":"1px"}},"clicked":{"bottom":{"color":"#FF757575","width":"1px"},"right":{"color":"#FF757575","width":"1px"},"left":{"color":"#FF757575","width":"1px"},"top":{"color":"#FF757575","width":"1px"}}}},"hdlTxt":{"type":"text","data":{"default":{"color":"#FF5F5B5A"},"selected":{"color":"#FF464342"},"disabled":{"color":"#CCCCCCCC"}}},"icn":{"type":"icon","data":{"default":{"type":"solid","color":"#FF5F5B5A"},"clicked":{"type":"solid","color":"#FF464342"},"disabled":{"type":"solid","color":"#CCCCCCCC"}}}},"actBtn":{"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"actBtn"}]}},"clicked":{"type":"solid","color":{"_replace":[{"param":"actBtn","params":[{"a":{"add":-0.2}}]}]}},"disabled":{"type":"solid","color":"#33333333"}}},"brdr":{"type":"border","data":{}},"hdlTxt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"actBtn","params":[{"s":{"mul":0},"l":{"mul":0,"add":1},"a":{"mul":0,"add":1},"if":0.7},{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":1}}]}]}},"selected":{"color":{"_replace":[{"param":"actBtn","params":[{"s":{"mul":0},"l":{"mul":0,"add":1},"a":{"mul":0,"add":0.8},"if":0.7},{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":0.8}}]}]}},"disabled":{"color":"#ffCCCCCC"}}},"icn":{"type":"icon","data":{"default":{"type":"solid","color":{"_replace":[{"param":"actBtn","params":[{"s":{"mul":0},"l":{"mul":0,"add":1},"a":{"mul":0,"add":1},"if":0.7},{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":1}}]}]}},"selected":{"type":"solid","color":{"_replace":[{"param":"actBtn","params":[{"s":{"mul":0},"l":{"mul":0,"add":1},"a":{"mul":0,"add":0.8},"if":0.7},{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":0.8}}]}]}},"disabled":{"type":"solid","color":"#ffCCCCCC"}}}},"subBtn":{"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contBsubTxt"}]}},"selected":{"type":"solid","color":{"_replace":[{"param":"contBsubTxt","params":[{"l":{"mul":0.8}}]}]}}}},"hdlTxt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"contBsubTxt","params":[{"s":{"mul":0},"l":{"mul":0,"add":1},"a":{"mul":0,"add":1},"if":0.7},{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":1}}]}]}}}}}},"contTypeC":{"hdlTxt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"contChdlTxt"}]}}}},"txt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"contCtxt"}]}}}},"subTxt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"contCsubTxt"}]}}}},"lnkTxt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"lnkTxt"}]}}}},"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contCbg","params":[{"l":{"mul":0.9},"a":{"mul":0.9},"if":0.7},{"l":{"mul":0.7},"a":{"mul":0.9}}]}]}}}},"btn":{"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"actBtn"}]}},"clicked":{"type":"solid","color":{"_replace":[{"param":"actBtn","params":[{"l":{"mul":1.3},"if":0.5},{"l":{"mul":0.5}}]}]}},"disabled":{"type":"solid","color":"#33333333"}}},"brdr":{"type":"border","data":{}},"hdlTxt":{"type":"text","data":{"default":{"color":"#FFFFFFFF"},"selected":{"color":"#FFFFFFFF"},"disabled":{"color":"#ffCCCCCC"}}}}},"form":{"element":{"bg":{"type":"background","data":{"default":{"type":"gradient","orientation":"vertical","color":[{"color":"#FFe4e4e4","location":0},{"color":"#FF8d8d8d","location":1}]},"mandatory":{"type":"gradient","orientation":"vertical","color":[{"color":"#FFFFFFFF","location":0},{"color":"#FF8d8d8d","location":1}],"shadow":{"isInset":false,"x":"1px","y":"1px","blur":"3px","color":"#4cb60021"}}}},"brdr":{"type":"border","data":{"default":{"top":{"width":"1px","color":"#FFC1C1C2"},"bottom":{"width":"1px","color":"#FFC1C1C2"},"left":{"width":"1px","color":"#FFC1C1C2"},"right":{"width":"1px","color":"#FFC1C1C2"}},"mandatory":{"top":{"color":"#FFB60021","width":"1px"},"bottom":{"color":"#FFB60021","width":"1px"},"left":{"color":"#FFB60021","width":"1px"},"right":{"color":"#FFB60021","width":"1px"}}}},"txt":{"type":"text","data":{"default":{"color":"#FF111111"},"watermark":{"color":"#FF888888"},"mandWatermark":{"color":"#FFb60021"}}}},"dropdown":{"icn":{"type":"icon","data":{"default":{"type":"solid","color":"#FF2a2a2a"}}},"bg":{"type":"background","data":{"default":{"type":"solid","color":"#22000000"}}},"brdr":{"type":"border","data":{"default":{"left":{"color":"#FFC1C1C2","width":"1px"},"right":{"color":"#FFC1C1C2","width":"1px"}}}}},"input":{"bg":{"type":"background","data":{"default":{"type":"solid","color":"#FFFFFFFF"},"disabled":{"type":"solid","color":"#FFCCCCCC"},"mandatory":{"type":"solid","color":"#FFfff8f8","shadow":{"isInset":false,"x":"1px","y":"1px","blur":"5px","color":"#4cb60021"}}}},"brdr":{"type":"border","data":{"default":{"top":{"width":"1px","color":"#FFC1C1C2"},"bottom":{"width":"1px","color":"#FFC1C1C2"},"left":{"width":"1px","color":"#FFC1C1C2"},"right":{"width":"1px","color":"#FFC1C1C2"}},"diabled":{},"mandatory":{"top":{"color":"#FFB60021","width":"1px"},"bottom":{"color":"#FFB60021","width":"1px"},"left":{"color":"#FFB60021","width":"1px"},"right":{"color":"#FFB60021","width":"1px"}}}},"txt":{"type":"text","data":{"default":{"color":"#FF000000"},"watermark":{"color":"#FF8e8e8e"},"mandWatermark":{"color":"#FFb60021"}}},"icn":{"type":"icon","data":{"default":{"type":"solid","color":"#FFa8a8a8"},"selected":{"type":"solid","color":"#FF2a2a2a"},"clicked":{"type":"solid","color":"#FF626262"}}}},"checkBox":{"bg":{"type":"background","data":{"default":{"type":"solid","color":"#FFFFFFFF","shadow":{"isInset":true,"x":"1px","y":"1px","blur":"2px","color":"#33000000"}},"selected":{"type":"solid","color":"#FFFFFFFF","shadow":{"isInset":true,"x":"1px","y":"1px","blur":"2px","color":"#33000000"}},"mandatory":{"type":"solid","color":"#FFFFFFFF","shadow":{"isInset":true,"x":"1px","y":"1px","blur":"2px","color":"#33000000"}},"disabled":{"type":"solid","color":"#54d3d3d3","shadow":{"isInset":false,"x":"0px","y":"1px","blur":"0px","color":"#FFFFFFFF"}}}},"brdr":{"type":"border","data":{"default":{"top":{"width":"1px","color":{"_replace":[{"param":"contBbrdr"}]}},"bottom":{"width":"1px","color":{"_replace":[{"param":"contBbrdr"}]}},"left":{"width":"1px","color":{"_replace":[{"param":"contBbrdr"}]}},"right":{"width":"1px","color":{"_replace":[{"param":"contBbrdr"}]}}},"selected":{"top":{"width":"1px","color":{"_replace":[{"param":"contBbrdr"}]}},"bottom":{"width":"1px","color":{"_replace":[{"param":"contBbrdr"}]}},"left":{"width":"1px","color":{"_replace":[{"param":"contBbrdr"}]}},"right":{"width":"1px","color":{"_replace":[{"param":"contBbrdr"}]}}},"mandatory":{"top":{"color":"#FFB60021","width":"1px"},"bottom":{"color":"#FFB60021","width":"1px"},"left":{"color":"#FFB60021","width":"1px"},"right":{"color":"#FFB60021","width":"1px"}},"disabled":{"top":{"width":"1px","color":{"_replace":[{"param":"contBbrdr"}]}},"bottom":{"width":"1px","color":{"_replace":[{"param":"contBbrdr"}]}},"left":{"width":"1px","color":{"_replace":[{"param":"contBbrdr"}]}},"right":{"width":"1px","color":{"_replace":[{"param":"contBbrdr"}]}}}}},"icn":{"type":"icon","data":{"default":{"type":"solid","color":"#00FFFFFF"},"selected":{"type":"solid","color":"#FF2a2a2a"}}}},"radioBtn":{"bg":{"type":"background","data":{"default":{"type":"solid","color":"#FFFFFFFF","shadow":{"isInset":true,"x":"1px","y":"1px","blur":"2px","color":"#33000000"}},"selected":{"type":"solid","color":"#FFFFFFFF","shadow":{"isInset":true,"x":"1px","y":"1px","blur":"2px","color":"#33000000"}},"mandatory":{"type":"solid","color":"#FFFFFFFF","shadow":{"isInset":true,"x":"1px","y":"1px","blur":"2px","color":"#33000000"}},"disabled":{"type":"solid","color":"#54d3d3d3","shadow":{"isInset":false,"x":"0px","y":"1px","blur":"0px","color":"#FFFFFFFF"}}}},"brdr":{"type":"border","data":{"default":{"top":{"width":"1px","color":{"_replace":[{"param":"contBbrdr"}]}},"bottom":{"width":"1px","color":{"_replace":[{"param":"contBbrdr"}]}},"left":{"width":"1px","color":{"_replace":[{"param":"contBbrdr"}]}},"right":{"width":"1px","color":{"_replace":[{"param":"contBbrdr"}]}}},"selected":{"top":{"width":"1px","color":{"_replace":[{"param":"contBbrdr"}]}},"bottom":{"width":"1px","color":{"_replace":[{"param":"contBbrdr"}]}},"left":{"width":"1px","color":{"_replace":[{"param":"contBbrdr"}]}},"right":{"width":"1px","color":{"_replace":[{"param":"contBbrdr"}]}}},"mandatory":{"top":{"color":"#FFB60021","width":"1px"},"bottom":{"color":"#FFB60021","width":"1px"},"left":{"color":"#FFB60021","width":"1px"},"right":{"color":"#FFB60021","width":"1px"}},"disabled":{"top":{"width":"1px","color":{"_replace":[{"param":"contBbrdr"}]}},"bottom":{"width":"1px","color":{"_replace":[{"param":"contBbrdr"}]}},"left":{"width":"1px","color":{"_replace":[{"param":"contBbrdr"}]}},"right":{"width":"1px","color":{"_replace":[{"param":"contBbrdr"}]}}}}},"icn":{"type":"background","data":{"default":{},"selected":{"type":"solid","color":"#FF2a2a2a"},"disabled":{"type":"solid","color":"#FFd3d3d3"}}}}},"audioPlayer":{"hdlTxt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"hdrTxt"}]}}}},"txt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"hdrTxt","params":[{"a":{"mul":0.8}}]}]}}}},"icn":{"type":"icon","data":{"default":{"type":"solid","color":{"_replace":[{"param":"hdrTxt"}]}}}},"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"hdrBg","params":[{"l":{"mul":0.3}}]}]}}}},"bgMini":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"hdrBg","params":[{"l":{"mul":0.3}}]}]}}}},"brdr":{"type":"border","data":{"default":{"bottom":{"color":{"_replace":[{"param":"hdrBg","params":[{"s":{"mul":0.5},"l":{"mul":0.7},"a":{"mul":0.9},"if":0.5},{"s":{"mul":0.7},"l":{"mul":0.6},"a":{"mul":0.9}}]}]},"width":"1px"}}}},"seekBar":{"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"hdrBg","params":[{"s":{"mul":0.7},"l":{"mul":1.3},"if":0.5},{"s":{"mul":0.7},"l":{"mul":0.7}}]}]},"shadow":{"isInset":true,"x":"1px","y":"1px","blur":"2px","color":{"_replace":[{"param":"hdrBg","params":[{"s":{"mul":0.7},"l":{"mul":0.001},"if":0.5},{"s":{"mul":0.7},"l":{"mul":0.001}}]}]}}}}},"brdr":{"type":"border","data":{"default":{"top":{"color":{"_replace":[{"param":"hdrBg","params":[{"s":{"mul":0.7},"l":{"mul":1.1},"if":0.5},{"s":{"mul":0.7},"l":{"mul":0.7}}]}]},"width":"1px"},"bottom":{"color":{"_replace":[{"param":"hdrBg","params":[{"s":{"mul":0.7},"l":{"mul":1.8},"if":0.5},{"s":{"mul":0.7},"l":{"mul":0.7}}]}]},"width":"1px"},"right":{"color":{"_replace":[{"param":"hdrBg","params":[{"s":{"mul":0.7},"l":{"mul":1.8},"if":0.5},{"s":{"mul":0.7},"l":{"mul":0.7}}]}]},"width":"1px"},"left":{"color":{"_replace":[{"param":"hdrBg","params":[{"s":{"mul":0.7},"l":{"mul":1.8},"if":0.5},{"s":{"mul":0.7},"l":{"mul":0.7}}]}]},"width":"1px"}}}},"seekFill":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"hdrTxt"}]},"shadow":{"isInset":true,"x":"0px","y":"1px","blur":"1px","color":"#ff000000"}}}}}},"liveChat":{"bubbleMe":{"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contBbg","params":[{"a":{"mul":0.88}}]}]},"shadow":{"isInset":false,"x":"1px","y":"1px","blur":"3px","color":"#96000000"}}}},"triangle":{"type":"border","data":{"default":{"ltrLeft":{"color":{"_replace":[{"param":"contBbg","params":[{"a":{"mul":0.88}}]}]},"width":"10px"},"bottom":{"color":"#00000000","width":"10px"},"top":{"color":"#00000000","width":"10px"}}}},"txt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"contBhdlTxt"}]}}}},"subTxt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"contBsubTxt"}]}}}}},"bubbleOther":{"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contAbg"}]},"shadow":{"isInset":false,"x":"1px","y":"1px","blur":"3px","color":"#96000000"}}}},"triangle":{"type":"border","data":{"default":{"ltrRight":{"color":{"_replace":[{"param":"contAbg"}]},"width":"10px"},"bottom":{"color":"#00000000","width":"10px"},"top":{"color":"#00000000","width":"10px"}}}},"txt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"contAhdlTxt"}]}}}},"subTxt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"contBsubTxt"}]}}}}}},"facebook":{"txt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"lnkTxt"}]}}}},"bubble":{"bg":{"type":"background","data":{"default":{}}},"brdr":{"type":"border","data":{"default":{"left":{"color":"#66767676","width":"1px"},"right":{"color":"#66767676","width":"1px"},"bottom":{"color":"#66767676","width":"1px"},"top":{"color":"#66767676","width":"1px"}}}},"triangle":{"type":"border","data":{"default":{"left":{"color":"#00000000","width":"4px"},"right":{"color":"#00000000","width":"4px"},"bottom":{"color":"#00000000","width":"4px"}}}},"triangleBrdr":{"type":"border","data":{"default":{"left":{"color":"#00000000","width":"6px"},"right":{"color":"#00000000","width":"6px"},"bottom":{"color":"#66767676","width":"6px"}}}}},"btn":{"bg":{"type":"background","data":{"default":{}}},"brdr":{"type":"border","data":{"default":{}}},"hdlTxt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"lnkTxt"}]}},"selected":{"color":{"_replace":[{"param":"lnkTxt","params":[{"a":{"mul":0,"add":0.7}}]}]}},"disabled":{"color":"#CCCCCCCC"}}}},"socialBtnLike":{"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"actBtn"}]}},"selected":{"type":"solid","color":{"_replace":[{"param":"actBtn","params":[{"a":{"add":-0.2}}]}]}}}},"hdlTxt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"actBtn","params":[{"s":{"mul":0},"l":{"mul":0,"add":1},"a":{"mul":0,"add":1},"if":0.7},{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":1}}]}]}},"selected":{"color":{"_replace":[{"param":"actBtn","params":[{"s":{"mul":0},"l":{"mul":0,"add":1},"a":{"mul":0,"add":0.8},"if":0.7},{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":0.8}}]}]}},"disabled":{"color":"#ffCCCCCC"}}},"icn":{"type":"icon","data":{"default":{"type":"solid","color":{"_replace":[{"param":"actBtn","params":[{"s":{"mul":0},"l":{"mul":0,"add":1},"a":{"mul":0,"add":1},"if":0.7},{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":1}}]}]}},"selected":{"type":"solid","color":{"_replace":[{"param":"actBtn","params":[{"s":{"mul":0},"l":{"mul":0,"add":1},"a":{"mul":0,"add":0.8},"if":0.7},{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":0.8}}]}]}},"disabled":{"type":"solid","color":"#ffCCCCCC"}}}},"socialBtnA":{"bg":{"type":"background","data":{"default":{},"clicked":{"type":"solid","color":{"_replace":[{"param":"contAbg","params":[{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0,"add":1},"a":{"mul":0,"add":0.06},"if":0.3},{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":0.06}}]}]},"shadow":{"isInset":false,"x":"1px","y":"1px","blur":"3px","color":{"_replace":[{"param":"contBbg","params":[{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0},"if":0.3},{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":0.58}}]}]}}},"selected":{"type":"solid","color":{"_replace":[{"param":"contAbg","params":[{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0,"add":1},"a":{"mul":0,"add":0.02},"if":0.3},{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":0.02}}]}]}},"disabled":{}}},"left_bg":{"type":"background","data":{"default":{},"clicked":{"type":"solid","color":{"_replace":[{"param":"contAbg","params":[{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0,"add":1},"a":{"mul":0,"add":0.06},"if":0.3},{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":0.06}}]}]},"shadow":{"isInset":false,"x":"1px","y":"1px","blur":"3px","color":{"_replace":[{"param":"contBbg","params":[{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0},"if":0.3},{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":0.58}}]}]}}},"selected":{"type":"solid","color":{"_replace":[{"param":"contAbg","params":[{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0,"add":1},"a":{"mul":0,"add":0.02},"if":0.3},{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":0.02}}]}]}},"disabled":{}}},"right_bg":{"type":"background","data":{"default":{},"clicked":{"type":"solid","color":{"_replace":[{"param":"contAbg","params":[{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0,"add":1},"a":{"mul":0,"add":0.06},"if":0.3},{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":0.06}}]}]},"shadow":{"isInset":false,"x":"1px","y":"1px","blur":"3px","color":{"_replace":[{"param":"contBbg","params":[{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0},"if":0.3},{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":0.58}}]}]}}},"selected":{"type":"solid","color":{"_replace":[{"param":"contAbg","params":[{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0,"add":1},"a":{"mul":0,"add":0.02},"if":0.3},{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":0.02}}]}]}},"disabled":{}}},"sepLine":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contAbrdr"}]}}}},"sepBrdr":{"type":"border","data":{"default":{"top":{"color":{"_replace":[{"param":"contAbrdr"}]},"width":"1px"},"bottom":{"color":{"_replace":[{"param":"contAbrdr"}]},"width":"1px"},"left":{"color":{"_replace":[{"param":"contAbrdr"}]},"width":"1px"},"right":{"color":{"_replace":[{"param":"contAbrdr"}]},"width":"1px"}}}},"brdr":{"type":"border","data":{"default":{"top":{"color":{"_replace":[{"param":"contBbrdr"}]},"width":"1px"},"bottom":{"color":{"_replace":[{"param":"contBbrdr"}]},"width":"1px"},"left":{"color":{"_replace":[{"param":"contBbrdr"}]},"width":"1px"},"right":{"color":{"_replace":[{"param":"contBbrdr"}]},"width":"1px"}}}},"right_brdr":{"type":"border","data":{"default":{}}},"left_brdr":{"type":"border","data":{"default":{"right":{"color":{"_replace":[{"param":"contAbrdr"}]},"width":"1px"}}}},"left_hdlTxt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"contAhdlTxt"}]}},"selected":{"color":{"_replace":[{"param":"lnkTxt"}]}}}},"left_icn":{"type":"icon","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contAhdlTxt"}]},"isBlack":true,"isSimple":true},"clicked":{"type":"solid","color":{"_replace":[{"param":"lnkTxt"}]},"isBlack":true,"isSimple":true},"selected":{"type":"solid","color":{"_replace":[{"param":"lnkTxt"}]},"isBlack":true,"isSimple":true},"disabled":{"type":"solid","color":"#CCCCCCCC","isBlack":true,"isSimple":true}}},"right_hdlTxt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"contAhdlTxt"}]}},"selected":{"color":{"_replace":[{"param":"lnkTxt"}]}}}},"right_icn":{"type":"icon","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contAhdlTxt"}]},"isBlack":true,"isSimple":true},"clicked":{"type":"solid","color":{"_replace":[{"param":"lnkTxt"}]},"isBlack":true,"isSimple":true},"selected":{"type":"solid","color":{"_replace":[{"param":"lnkTxt"}]},"isBlack":true,"isSimple":true},"disabled":{"type":"solid","color":"#CCCCCCCC","isBlack":true,"isSimple":true}}},"hdlTxt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"contAhdlTxt"}]}}}},"icn":{"type":"icon","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contAhdlTxt"}]},"isBlack":true,"isSimple":true},"clicked":{"type":"solid","color":{"_replace":[{"param":"lnkTxt"}]},"isBlack":true,"isSimple":true},"selected":{"type":"solid","color":{"_replace":[{"param":"lnkTxt"}]},"isBlack":true,"isSimple":true},"disabled":{"type":"solid","color":"#CCCCCCCC","isBlack":true,"isSimple":true}}}},"socialBtnB":{"bg":{"type":"background","data":{"default":{"type":"solid","color":"#00000000"},"clicked":{"type":"solid","color":{"_replace":[{"param":"contBbg","params":[{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0,"add":1},"a":{"mul":0,"add":0.06},"if":0.3},{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":0.06}}]}]}},"selected":{"type":"solid","color":{"_replace":[{"param":"contBbg","params":[{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0,"add":1},"a":{"mul":0,"add":0.02},"if":0.3},{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":0.02}}]}]}},"disabled":{"type":"solid","color":"#00000000"}}},"left_bg":{"type":"background","data":{"default":{"type":"solid","color":"#00000000"},"clicked":{"type":"solid","color":{"_replace":[{"param":"contBbg","params":[{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0,"add":1},"a":{"mul":0,"add":0.06},"if":0.3},{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":0.06}}]}]}},"selected":{"type":"solid","color":{"_replace":[{"param":"contBbg","params":[{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0,"add":1},"a":{"mul":0,"add":0.02},"if":0.3},{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":0.02}}]}]}},"disabled":{"type":"solid","color":"#00000000"}}},"right_bg":{"type":"background","data":{"default":{"type":"solid","color":"#00000000"},"clicked":{"type":"solid","color":{"_replace":[{"param":"contBbg","params":[{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0,"add":1},"a":{"mul":0,"add":0.06},"if":0.3},{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":0.06}}]}]}},"selected":{"type":"solid","color":{"_replace":[{"param":"contBbg","params":[{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0,"add":1},"a":{"mul":0,"add":0.02},"if":0.3},{"h":{"mul":0},"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":0.02}}]}]}},"disabled":{"type":"solid","color":"#00000000"}}},"sepLine":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contBbrdr"}]}}}},"sepBrdr":{"type":"border","data":{"default":{"top":{"color":{"_replace":[{"param":"contBbrdr"}]},"width":"1px"},"bottom":{"color":{"_replace":[{"param":"contBbrdr"}]},"width":"1px"},"left":{"color":{"_replace":[{"param":"contBbrdr"}]},"width":"1px"},"right":{"color":{"_replace":[{"param":"contBbrdr"}]},"width":"1px"}}}},"brdr":{"type":"border","data":{"default":{"top":{"color":{"_replace":[{"param":"contBbrdr"}]},"width":"1px"},"bottom":{"color":{"_replace":[{"param":"contBbrdr"}]},"width":"1px"},"left":{"color":{"_replace":[{"param":"contBbrdr"}]},"width":"1px"},"right":{"color":{"_replace":[{"param":"contBbrdr"}]},"width":"1px"}}}},"right_brdr":{"type":"border","data":{"default":{"top":{"color":{"_replace":[{"param":"contBbrdr"}]},"width":"1px"}}}},"left_brdr":{"type":"border","data":{"default":{"top":{"color":{"_replace":[{"param":"contBbrdr"}]},"width":"1px"},"right":{"color":{"_replace":[{"param":"contBbrdr"}]},"width":"1px"}}}},"left_hdlTxt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"contAhdlTxt"}]}},"selected":{"color":{"_replace":[{"param":"lnkTxt"}]}}}},"left_icn":{"type":"icon","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contAhdlTxt"}]},"isBlack":true,"isSimple":true},"clicked":{"type":"solid","color":{"_replace":[{"param":"lnkTxt"}]},"isBlack":true,"isSimple":true},"selected":{"type":"solid","color":{"_replace":[{"param":"lnkTxt"}]},"isBlack":true,"isSimple":true},"disabled":{"type":"solid","color":"#CCCCCCCC","isBlack":true,"isSimple":true}}},"right_hdlTxt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"contAhdlTxt"}]}},"selected":{"color":{"_replace":[{"param":"lnkTxt"}]}}}},"right_icn":{"type":"icon","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contAhdlTxt"}]},"isBlack":true,"isSimple":true},"clicked":{"type":"solid","color":{"_replace":[{"param":"lnkTxt"}]},"isBlack":true,"isSimple":true},"selected":{"type":"solid","color":{"_replace":[{"param":"lnkTxt"}]},"isBlack":true,"isSimple":true},"disabled":{"type":"solid","color":"#CCCCCCCC","isBlack":true,"isSimple":true}}},"hdlTxt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"contBhdlTxt"}]}}}},"icn":{"type":"icon","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contBhdlTxt"}]},"isBlack":true,"isSimple":true},"clicked":{"type":"solid","color":{"_replace":[{"param":"lnkTxt"}]},"isBlack":true,"isSimple":true},"selected":{"type":"solid","color":{"_replace":[{"param":"lnkTxt"}]},"isBlack":true,"isSimple":true},"disabled":{"type":"solid","color":"#CCCCCCCC","isBlack":true,"isSimple":true}}}},"articleA":{"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contAbg","params":[{"s":{"add":-0.1},"l":{"add":0.05},"a":{"add":0.2},"if":0.2},{"s":{"add":-0.1},"l":{"add":-0.05},"a":{"add":0.2}}]}]},"shadow":{"isInset":false,"x":"1px","y":"1px","blur":"3px","color":{"_replace":[{"param":"contAbg","params":[{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0},"if":0.2},{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":0.58}}]}]}}}}},"brdr":{"type":"border","data":{"default":{"bottom":{"color":{"_replace":[{"param":"contAbrdr","params":[{"a":{"add":-0.3}}]}]},"width":"1px"}}}}},"articleB":{"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contBbg","params":[{"s":{"add":-0.1},"l":{"add":0.05},"a":{"add":0.2},"if":0.2},{"s":{"add":-0.1},"l":{"add":-0.05},"a":{"add":0.2}}]}]},"shadow":{"isInset":false,"x":"1px","y":"1px","blur":"1px","color":{"_replace":[{"param":"contBbg","params":[{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0},"if":0.2},{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":0.58}}]}]}}}}},"brdr":{"type":"border","data":{"default":{"bottom":{"color":{"_replace":[{"param":"contBbrdr","params":[{"a":{"add":-0.3}}]}]},"width":"1px"}}}}}},"twitter":{"btn":{"bg":{"type":"background","data":{"default":{}}},"brdr":{"type":"border","data":{"default":{}}},"hdlTxt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"lnkTxt"}]}},"selected":{"color":{"_replace":[{"param":"lnkTxt","params":[{"a":{"mul":0,"add":0.7}}]}]}},"disabled":{"color":"#CCCCCCCC"}}}},"articleA":{"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contAbg","params":[{"s":{"add":-0.1},"l":{"add":0.05},"a":{"add":0.2},"if":0.2},{"s":{"add":-0.1},"l":{"add":-0.05},"a":{"add":0.2}}]}]},"shadow":{"isInset":false,"x":"1px","y":"1px","blur":"3px","color":{"_replace":[{"param":"contAbg","params":[{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0},"if":0.2},{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":0.58}}]}]}}}}},"brdr":{"type":"border","data":{"default":{"bottom":{"color":{"_replace":[{"param":"contAbrdr","params":[{"a":{"add":-0.3}}]}]},"width":"1px"}}}},"shadowBrdr":{"type":"border","data":{"default":{"bottom":{"color":{"_replace":[{"param":"contAbrdr","params":[{"a":{"add":-0.3}}]}]},"width":"1dp"}}}}},"articleB":{"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contBbg","params":[{"s":{"add":-0.1},"l":{"add":0.05},"a":{"add":0.2},"if":0.2},{"s":{"add":-0.1},"l":{"add":-0.05},"a":{"add":0.2}}]}]},"shadow":{"isInset":false,"x":"1px","y":"1px","blur":"1px","color":{"_replace":[{"param":"contBbg","params":[{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0},"if":0.2},{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":0.58}}]}]}}}}},"brdr":{"type":"border","data":{"default":{"bottom":{"color":{"_replace":[{"param":"contBbrdr","params":[{"a":{"add":-0.3}}]}]},"width":"1px"}}}}}},"events":{"calPict":{"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contBbg","params":[{"a":{"mul":0.78}}]}]},"shadow":{"isInset":false,"x":"1px","y":"1px","blur":"2px","color":"#FF000000"}}}}}},"comment":{"bg":{"type":"background","data":{"default":{"type":"solid","color":"#FFFFFFFF"}}},"panel":{"bg":{"type":"background","data":{"default":{"type":"solid","color":"#FFF0F0F0"}}},"brdr":{"type":"border","data":{"default":{"bottom":{"color":"#FFCCCCCC","width":"1px"}}}}}},"images":{"image1":{"bg":{"type":"background","data":{"default":{"type":"solid","color":"#FFFFFFFF"}}},"brdr":{"type":"border","data":{"default":{"bottom":{"color":{"_replace":[{"param":"contBbg","params":[{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":1},"if":0.3},{"s":{"mul":0.2},"l":{"mul":0,"add":0.76},"a":{"mul":0,"add":1}}]}]},"width":"1px"},"top":{"color":{"_replace":[{"param":"contBbg","params":[{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":1},"if":0.3},{"s":{"mul":0.2},"l":{"mul":0,"add":0.76},"a":{"mul":0,"add":1}}]}]},"width":"1px"},"right":{"color":{"_replace":[{"param":"contBbg","params":[{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":1},"if":0.3},{"s":{"mul":0.2},"l":{"mul":0,"add":0.76},"a":{"mul":0,"add":1}}]}]},"width":"1px"},"left":{"color":{"_replace":[{"param":"contBbg","params":[{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":1},"if":0.3},{"s":{"mul":0.2},"l":{"mul":0,"add":0.76},"a":{"mul":0,"add":1}}]}]},"width":"1px"}}}}},"image2":{"bg":{"type":"background","data":{"default":{"type":"solid","color":"#FFFFFFFF"}}},"brdr":{"type":"border","data":{"default":{"bottom":{"color":"#FF000000","width":"1px"},"top":{"color":"#FF000000","width":"1px"},"right":{"color":"#FF000000","width":"1px"},"left":{"color":"#FF000000","width":"1px"}}}}},"image3":{"bg":{"type":"background","data":{"default":{"type":"solid","color":"#FF000000","shadow":{"isInset":false,"x":"0px","y":"2px","blur":"7px","color":"#b2000000"}}}},"brdr":{"type":"border","data":{"default":{"bottom":{"color":"#FFFFFFFF","width":"5px"},"top":{"color":"#FFFFFFFF","width":"5px"},"right":{"color":"#FFFFFFFF","width":"5px"},"left":{"color":"#FFFFFFFF","width":"5px"}}}}},"catImage":{"bg":{"type":"background","data":{"default":{"type":"solid","color":"#00000000","shadow":[{"isInset":false,"x":"0px","y":"0px","blur":"1px","color":"#FF000000"},{"isInset":true,"x":"0px","y":"0px","blur":"0px 3px","color":"#FFFFFFFF"},{"isInset":true,"x":"0px","y":"0px","blur":"1px 3px","color":"#66000000"}]},"clicked":{"type":"solid","color":"#00000000","shadow":{"isInset":true,"x":"1px","y":"1px","blur":"3px","color":"#CC000000"}},"selected":{"type":"solid","color":"#00000000","shadow":{"isInset":true,"x":"1px","y":"1px","blur":"3px","color":"#CC000000"}}}},"bgGrad":{"type":"background","data":{"default":{"type":"gradient","orientation":"vertical","color":[{"color":"#00000000","location":0},{"color":"#00000000","location":0.47},{"color":"#59000000","location":1}],"shadow":[{"isInset":false,"x":"0px","y":"0px","blur":"1px","color":"#FF000000"},{"isInset":true,"x":"0px","y":"0px","blur":"0px 3px","color":"#FFFFFFFF"},{"isInset":true,"x":"0px","y":"0px","blur":"1px 3px","color":"#66000000"}]}}},"txt":{"type":"text","data":{"default":{"color":"#FFFFFFFF","shadow":[{"x":"0px","y":"0px","blur":"1px","color":"#FF000000"},{"x":"1px","y":"1px","blur":"3px","color":"#CC000000"}]}}}},"imgBtn":{"bg":{"type":"background","data":{"default":{"type":"solid","color":"#FFFFFFFF","shadow":{"isInset":false,"x":"1px","y":"1px","blur":"3px","color":"#FF000000"}},"clicked":{"type":"solid","color":"#FFFFFFFF"},"selected":{"type":"solid","color":"#FFFFFFFF"}}},"overlayBg":{"type":"background","data":{"default":{"type":"solid","color":"#99000000"},"clicked":{"type":"solid","color":"#00000000"},"selected":{"type":"solid","color":"#00000000"}}},"brdr":{"type":"border","data":{"default":{"left":{"color":"#ffffffff","width":"3px"},"right":{"color":"#ffffffff","width":"3px"},"bottom":{"color":"#ffffffff","width":"3px"},"top":{"color":"#ffffffff","width":"3px"}},"clicked":{"bottom":{"color":"#00000000","width":"0px"},"right":{"color":"#00000000","width":"0px"},"left":{"color":"#00000000","width":"0px"},"top":{"color":"#00000000","width":"0px"}},"selected":{"bottom":{"color":"#00000000","width":"0px"},"right":{"color":"#00000000","width":"0px"},"left":{"color":"#00000000","width":"0px"},"top":{"color":"#00000000","width":"0px"}}}}}},"coupons":{"claimed":{"txt":{"type":"text","data":{"default":{"color":"#FFFFFFFF"}}},"bg":{"type":"background","data":{"default":{"type":"solid","color":"#FF9cba3e","shadow":{"isInset":true,"x":"0px","y":"-1px","blur":"3px","color":"#96000000"}}}},"icn":{"type":"icon","data":{"default":{"type":"solid","color":"#FFFFFFFF"}}},"brdr":{"type":"border","data":{"default":{"bottom":{"width":"1px","color":"#FF2a2a2a"}}}}},"notClaimed":{"bg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"hdrBg"}]},"shadow":{"isInset":true,"x":"0px","y":"-1px","blur":"3px","color":"#96000000"}}}},"brdr":{"type":"border","data":{"default":{"bottom":{"style":"dotted","width":"1px","color":"#FF2A2A2A"}}}}}},"inputLoyalty":{"bg":{"type":"background","data":{"default":{"type":"solid","color":"#00000000"},"disabled":{"type":"solid","color":"#FFCCCCCC"},"mandatory":{"type":"solid","color":"#FFb60021"},"selected":{"type":"solid","color":{"_replace":[{"param":"actBtn"}]}}}},"brdr":{"type":"border","data":{"default":{"top":{"width":"1px","color":{"_replace":[{"param":"actBtn"}]}},"bottom":{"width":"1px","color":{"_replace":[{"param":"actBtn"}]}},"left":{"width":"1px","color":{"_replace":[{"param":"actBtn"}]}},"right":{"width":"1px","color":{"_replace":[{"param":"actBtn"}]}}},"mandatory":{"top":{"color":"#FFb60021","width":"1px"},"bottom":{"color":"#FFb60021","width":"1px"},"left":{"color":"#FFb60021","width":"1px"},"right":{"color":"#FFb60021","width":"1px"}}}},"txt":{"type":"text","data":{"default":{"color":"#00000000"}}}},"inactiveLoyaltyBg":{"type":"background","data":{"default":{"type":"solid","color":"#33000000"}}},"inputLoyaltyError":{"bg":{"type":"background","data":{"default":{"type":"solid","color":"#FFb60021"},"disabled":{"type":"solid","color":"#FFCCCCCC"},"mandatory":{"type":"solid","color":"#FFb60021"}}},"brdr":{"type":"border","data":{"default":{"top":{"width":"1px","color":"#FFb60021"},"bottom":{"width":"1px","color":"#FFb60021"},"left":{"width":"1px","color":"#FFb60021"},"right":{"width":"1px","color":"#FFb60021"}}}},"txt":{"type":"text","data":{"default":{"color":"#00000000"}}}},"punch":{"wideBg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contBbg","params":[{"a":{"mul":0,"add":0.5}}]}]}}}},"bgImage":{"overlayBg":{"type":"background","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contBbg","params":[{"a":{"mul":0,"add":0.48}}]}]}}}}},"errTxt":{"type":"text","data":{"default":{"color":"#FFB60021"}}},"slot":{"whole":{"bg":{"type":"svg","data":{"default":{"type":"solid","color":{"_replace":[{"param":"contBbg","params":[{"s":{"mul":0.8},"l":{"add":0.15},"if":0.4},{"s":{"mul":0.8},"l":{"add":-0.1}}]}]}}}},"overlay":{"type":"svg","data":{"default":{"type":"solid","color":{"_replace":[{"param":"actBtn"}]}}}},"txt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"actBtn"}]}}}}},"punch":{"bg":{"type":"svg","data":{"default":{"type":"solid","color":{"_replace":[{"param":"actBtn"}]}}}},"overlay":{"type":"svg","data":{"default":{"type":"solid","color":{"_replace":[{"param":"actBtn","params":[{"s":{"mul":0},"l":{"mul":0,"add":1},"a":{"mul":0,"add":1},"if":0.7},{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":1}}]}]}}}},"txt":{"type":"text","data":{"default":{"color":{"_replace":[{"param":"actBtn","params":[{"s":{"mul":0},"l":{"mul":0,"add":1},"a":{"mul":0,"add":1},"if":0.7},{"s":{"mul":0},"l":{"mul":0},"a":{"mul":0,"add":1}}]}]}}}}}}},"sideTabletOverlay":{"bg":{"type":"background","data":{"default":{"type":"solid","color":"#33000000"},"clicked":{"type":"solid","color":"#00000000"},"selected":{"type":"solid","color":"#00000000"}}}}},"navigation":{"type":2}},"meta":{"bgImage":"http:\/\/storage.conduit.com\/Mobile\/fc\/60\/fc6facd0-e860-478b-9e11-69516f914666\/Images\/353a2150-d775-4ed3-8e0a-96cd1130df31.png","material":0,"isRtl":false,"culture":"IT","header":{"type":1,"content":"http:\/\/storage.conduit.com\/Mobile\/fc\/60\/fc6facd0-e860-478b-9e11-69516f914666\/Images\/66f5570f-435e-4b43-86fe-a5036191dc07.png"}},"settings":{"brand":{"name":null,"link":null,"showAppLinks":true},"ga":{"trckId":"UA-46674138-1"},"ads":{"enabled":false,"fullScreenAdEnabled":null,"bottomBarAdEnabled":null,"bottomBarSwitchInterval":null,"adBarCycles":null,"fullScreenAdDisplayDuration":null,"fullScreenAdTO":null,"fullScreenAdShowTimespan":null,"fullScreenAdSupportedPages":null,"providers":null},"overrideServices":[{"key":"CMS_TWITTER_QUERY_GET","version":3,"params":{}},{"key":"CMS_TWITTER_USER_GET","version":3,"params":{}}],"fbAccessToken":"AAACeZBZANVcJ0BALWdkZBkVMprgCHf89vvzV3bq47rmnXHXXRnFbOhtwvU0k0tbUcL1aEjCQgZCrZCOhldBPeaBZAymqaZAyZBUZD","env":3,"providers":[{"id":0,"settings":[{"key":"googleMapAPIVersion","value":"1"}]}]},"details":{"appHomeUrl":"http:\/\/VenusBridalItaly.4yourmobile.com"},"pages":[{"id":"8bee706a-8682-4300-b5d0-8c03c437fe8a","label":"Company","icon":"http:\/\/images.mobile.conduit-services.com\/icon\/external\/?src=http%3A%2F%2Fstorage.conduit.com%2FMobile%2Ffc%2F60%2Ffc6facd0-e860-478b-9e11-69516f914666%2FImages%2F21d53c6d-1f14-4c8b-9659-7abe881a5154.png","deviceIcon":null,"type":"5a8368df-6ebd-c0f2-2d82-e173c1f33d40","version":null,"minVersion":"2.0.0.0","devicesMeta":{"layouts":[],"layout":null,"pageLayout":-1,"items":[{"description":"Con una produzione di circa 500mila abiti da sposa e otto milioni di abiti da cerimonia l'anno, il Gruppo Venus è uno dei maggiori produttori di abiti da sposa e cerimonia al mondo. La distribuzione è curata direttamente dalle società del Gruppo Venus, grazie ad una capillare rete di esperti agenti di vendita, dall’Europa agli Usa, dal Giappone alla Nuova Zelanda, dalla Russia al Sud America e circa 4.300 clienti specializzati e fidelizzati in 80 paesi nel mondo. I prodotti Venus sono sinonimi di elevata qualità grazie ad uno staff di 100 disegnatori, 50 modellisti e 200 sarte coordinato dalla direzione artistica di Joanna Wu. La Venus propone  una qualità elevata, assecondando le tendenze ed i gusti dei clienti ad un prezzo competitivo.","buttons":{"webSite":"www.venusbridal.it","email":"info@venusbridal.it","facebook":"https:\/\/www.facebook.com\/SymphonyByVenus?fref=ts"},"list":[{"title":"{$HtmlTextAboutUsItemTitleProducts}","icon":"http:\/\/storage.conduit.com\/Images\/Mobile\/controlpanel\/AboutUs\/icons_white\/Product.png","iconBlack":"http:\/\/storage.conduit.com\/Images\/Mobile\/controlpanel\/AboutUs\/icons_black\/Product.png","dataType":"html","data":{"html":"<p>- Abiti da sposa<\/p>\u000a<p>- Abiti da cerimonia<\/p>"}}],"title":"Qualità elevata e prezzo competitivo","imgUrl":"http:\/\/storage.conduit.com\/Mobile\/fc\/60\/fc6facd0-e860-478b-9e11-69516f914666\/Images\/5f1ca175-e1b3-45e5-b116-ae26c9768a68.png"}]},"meta":{"layout":null,"pageLayout":-1,"items":[{"description":"Con una produzione di circa 500mila abiti da sposa e otto milioni di abiti da cerimonia l'anno, il Gruppo Venus è uno dei maggiori produttori di abiti da sposa e cerimonia al mondo. La distribuzione è curata direttamente dalle società del Gruppo Venus, grazie ad una capillare rete di esperti agenti di vendita, dall’Europa agli Usa, dal Giappone alla Nuova Zelanda, dalla Russia al Sud America e circa 4.300 clienti specializzati e fidelizzati in 80 paesi nel mondo. I prodotti Venus sono sinonimi di elevata qualità grazie ad uno staff di 100 disegnatori, 50 modellisti e 200 sarte coordinato dalla direzione artistica di Joanna Wu. La Venus propone  una qualità elevata, assecondando le tendenze ed i gusti dei clienti ad un prezzo competitivo.","buttons":{"webSite":"www.venusbridal.it","email":"info@venusbridal.it","facebook":"https:\/\/www.facebook.com\/SymphonyByVenus?fref=ts"},"list":[{"title":"{$HtmlTextAboutUsItemTitleProducts}","icon":"http:\/\/storage.conduit.com\/Images\/Mobile\/controlpanel\/AboutUs\/icons_white\/Product.png","iconBlack":"http:\/\/storage.conduit.com\/Images\/Mobile\/controlpanel\/AboutUs\/icons_black\/Product.png","dataType":"html","data":{"html":"<p>- Abiti da sposa<\/p>\u000a<p>- Abiti da cerimonia<\/p>"}}],"title":"Qualità elevata e prezzo competitivo","imgUrl":"http:\/\/storage.conduit.com\/Mobile\/fc\/60\/fc6facd0-e860-478b-9e11-69516f914666\/Images\/5f1ca175-e1b3-45e5-b116-ae26c9768a68.png"}]},"displayDevices":0,"alias":"company"},{"id":"6238bf8d-c57f-4e20-a4fb-8ffefaf4752d","label":"Collezioni","icon":"http:\/\/images.mobile.conduit-services.com\/icon\/external\/?src=http%3A%2F%2Fstorage.conduit.com%2FMobile%2Ffc%2F60%2Ffc6facd0-e860-478b-9e11-69516f914666%2FImages%2F4a8ab788-14b8-42dd-871f-3929c263ad3c.png","deviceIcon":null,"type":"6181507a-fdf4-4b90-a270-cbd286603443","version":null,"minVersion":"3.2.0.0","devicesMeta":{"layouts":[{"deviceType":-1,"meta":{"bgImage":"http:\/\/s.conduit.com\/Mobile\/fc\/60\/fc6facd0-e860-478b-9e11-69516f914666\/Images\/8df006e0-b2aa-4b57-b8c8-bc4bca535858.png"}},{"deviceType":129,"meta":{"bgImage":"http:\/\/s.conduit.com\/Mobile\/fc\/60\/fc6facd0-e860-478b-9e11-69516f914666\/Images\/e69a6006-9a6f-4cb5-8f08-6166ab161f43.png"}}],"layout":null,"pageLayout":-1,"items":[{"id":"a455f436-f673-caaa-1be9-ffbc8dba93e0","params":{"id":"574c9c65-73de-4abc-a78a-556fe83290df"},"meta":{"images":{"header":"http:\/\/storage.conduit.com\/Mobile\/fc\/60\/fc6facd0-e860-478b-9e11-69516f914666\/Images\/c6cd28fc-f3a7-4a31-bbf4-dbf8ff90f602.png"}},"description":null,"name":null}]},"meta":{"layout":{"meta":{"bgImage":"http:\/\/s.conduit.com\/Mobile\/fc\/60\/fc6facd0-e860-478b-9e11-69516f914666\/Images\/8df006e0-b2aa-4b57-b8c8-bc4bca535858.png"}},"pageLayout":-1,"items":[{"id":"a455f436-f673-caaa-1be9-ffbc8dba93e0","params":{"id":"574c9c65-73de-4abc-a78a-556fe83290df"},"meta":{"images":{"header":"http:\/\/storage.conduit.com\/Mobile\/fc\/60\/fc6facd0-e860-478b-9e11-69516f914666\/Images\/c6cd28fc-f3a7-4a31-bbf4-dbf8ff90f602.png"}},"description":null,"name":null}]},"displayDevices":0,"alias":"collezioni"},{"id":"50ab9542-3798-4a59-8c9e-7417d6c1213a","label":"Appuntamenti","icon":"http:\/\/images.mobile.conduit-services.com\/icon\/external\/?src=http%3A%2F%2Fstorage.conduit.com%2FMobile%2Ffc%2F60%2Ffc6facd0-e860-478b-9e11-69516f914666%2FImages%2F2f2798bf-520c-43c1-904e-e6854685cf0b.png","deviceIcon":null,"type":"38ab2b78-a1ad-42f8-8cb7-9475498c0f30","version":null,"minVersion":"3.4.0.0","devicesMeta":{"layouts":[{"deviceType":-1,"meta":{"bgImage":"http:\/\/s.conduit.com\/Mobile\/fc\/60\/fc6facd0-e860-478b-9e11-69516f914666\/Images\/c0ef6b3c-377e-4f90-85bc-7418dfe18a21.png"}},{"deviceType":129,"meta":{"bgImage":"http:\/\/s.conduit.com\/Mobile\/fc\/60\/fc6facd0-e860-478b-9e11-69516f914666\/Images\/fe945f4e-4452-46b5-aed0-56955953f4d7.png"}}],"layout":null,"pageLayout":-1,"items":[{"title":"form","params":{"extraInfo":{},"type":2},"id":"b043ae3d-dcf7-9956-a586-8c88f33d34eb","reportId":"1d02f54b-15ee-4c48-b4de-36942bdcd6a6","name":"Prenota appuntamento","reportVersion":"15","controls":[{"caption":"Data","type":"date","type_name":"date","id":"_66ab4d02-09a0-e591-0a90-7e23378af78a","isMandatory":false,"isActive":true},{"caption":"Nome","type":"inputtext","type_name":"name","id":"_98f8a94f-19fb-6ec8-dfce-f4b7f8c11d01","isMandatory":true,"isActive":true},{"caption":"Email","type":"inputtext","type_name":"email","id":"_1eabde5b-01be-1c15-e8af-fb2316c4a1b2","isMandatory":true,"isActive":true,"subType":"email"},{"caption":"Città","type":"textarea","type_name":"multiline","id":"_d9a048d4-437f-ffd5-7f63-8b500e148b83","isMandatory":true,"isActive":true},{"caption":"Cap","type":"inputtext","type_name":"phone","id":"_b02e0a9a-a41c-7bbf-17b0-160d0e60e300","isMandatory":true,"isActive":true,"subType":"tel"},{"caption":"Telefono","type":"inputtext","type_name":"phone","id":"_765a08c0-943e-1ba5-a18f-560e82612175","isMandatory":true,"isActive":true,"subType":"tel"},{"caption":"Note","type":"inputtext","type_name":"text","id":"_d5909abe-f208-7032-e785-6cee3d126a0d","isMandatory":true,"isActive":true}],"desc":"Vogliamo condividere l'attimo in cui proverai l'abito da sposa perfetto per te. Prenotare un appuntamento presso uno dei nostri \"Premium Dealer\" è facile: compila i campi del modulo sottostante, invia la richiesta ed il gioco è fatto! \u000d\u000aTi risponderemo nel minor tempo possibile indicandoti il punto vendita più vicino a te.","logoImgUrl":"http:\/\/storage.conduit.com\/Mobile\/fc\/60\/fc6facd0-e860-478b-9e11-69516f914666\/Images\/d9cf909c-743f-4ad2-8d71-679a40534b45.png","success":{"message":"Abbiamo preso in carico la tua richiesta. Ti contatteremo prima possibile."},"sendButton":{"caption":"Prenota"},"description":null}]},"meta":{"layout":{"meta":{"bgImage":"http:\/\/s.conduit.com\/Mobile\/fc\/60\/fc6facd0-e860-478b-9e11-69516f914666\/Images\/c0ef6b3c-377e-4f90-85bc-7418dfe18a21.png"}},"pageLayout":-1,"items":[{"title":"form","params":{"extraInfo":{},"type":2},"id":"b043ae3d-dcf7-9956-a586-8c88f33d34eb","reportId":"1d02f54b-15ee-4c48-b4de-36942bdcd6a6","name":"Prenota appuntamento","reportVersion":"15","controls":[{"caption":"Data","type":"date","type_name":"date","id":"_66ab4d02-09a0-e591-0a90-7e23378af78a","isMandatory":false,"isActive":true},{"caption":"Nome","type":"inputtext","type_name":"name","id":"_98f8a94f-19fb-6ec8-dfce-f4b7f8c11d01","isMandatory":true,"isActive":true},{"caption":"Email","type":"inputtext","type_name":"email","id":"_1eabde5b-01be-1c15-e8af-fb2316c4a1b2","isMandatory":true,"isActive":true,"subType":"email"},{"caption":"Città","type":"textarea","type_name":"multiline","id":"_d9a048d4-437f-ffd5-7f63-8b500e148b83","isMandatory":true,"isActive":true},{"caption":"Cap","type":"inputtext","type_name":"phone","id":"_b02e0a9a-a41c-7bbf-17b0-160d0e60e300","isMandatory":true,"isActive":true,"subType":"tel"},{"caption":"Telefono","type":"inputtext","type_name":"phone","id":"_765a08c0-943e-1ba5-a18f-560e82612175","isMandatory":true,"isActive":true,"subType":"tel"},{"caption":"Note","type":"inputtext","type_name":"text","id":"_d5909abe-f208-7032-e785-6cee3d126a0d","isMandatory":true,"isActive":true}],"desc":"Vogliamo condividere l'attimo in cui proverai l'abito da sposa perfetto per te. Prenotare un appuntamento presso uno dei nostri \"Premium Dealer\" è facile: compila i campi del modulo sottostante, invia la richiesta ed il gioco è fatto! \u000d\u000aTi risponderemo nel minor tempo possibile indicandoti il punto vendita più vicino a te.","logoImgUrl":"http:\/\/storage.conduit.com\/Mobile\/fc\/60\/fc6facd0-e860-478b-9e11-69516f914666\/Images\/d9cf909c-743f-4ad2-8d71-679a40534b45.png","success":{"message":"Abbiamo preso in carico la tua richiesta. Ti contatteremo prima possibile."},"sendButton":{"caption":"Prenota"},"description":null}]},"displayDevices":0,"alias":"appuntamenti"},{"id":"2136458f-8cbc-4c31-8aed-2ed2e98b32ea","label":"Contatti","icon":"http:\/\/images.mobile.conduit-services.com\/icon\/external\/?src=http%3A%2F%2Fstorage.conduit.com%2FMobile%2Ffc%2F60%2Ffc6facd0-e860-478b-9e11-69516f914666%2FImages%2Ff0768ed2-095e-43cc-af29-db4371e75d24.png","deviceIcon":null,"type":"083e52df-721d-4ca4-efa3-25161d344f40","version":null,"minVersion":"1.9.0.0","devicesMeta":{"layouts":[{"deviceType":-1,"meta":{"bgImage":"http:\/\/s.conduit.com\/Mobile\/fc\/60\/fc6facd0-e860-478b-9e11-69516f914666\/Images\/95e3d71b-b17c-40d6-8460-e6af4b073428.png"}},{"deviceType":129,"meta":{"bgImage":"http:\/\/s.conduit.com\/Mobile\/fc\/60\/fc6facd0-e860-478b-9e11-69516f914666\/Images\/af2134d7-22c0-49a8-a3da-1ce381f193a6.png"}}],"layout":null,"pageLayout":1,"items":[{"id":"d523f926-6128-5ede-05fe-fb900654ec4d","phone":"(+39) 099 8295050","fax":"(+39) 099 8293704","mail":"info@venusbridal.it","url":"http:\/\/www.venusbridal.it","description":null,"logoImgUrl":"http:\/\/s.conduit.com\/mobile\/fc\/60\/fc6facd0-e860-478b-9e11-69516f914666\/Images\/e422ee45-8c4e-4231-89cf-76be67b7810d.Png"}]},"meta":{"layout":{"meta":{"bgImage":"http:\/\/s.conduit.com\/Mobile\/fc\/60\/fc6facd0-e860-478b-9e11-69516f914666\/Images\/95e3d71b-b17c-40d6-8460-e6af4b073428.png"}},"pageLayout":1,"items":[{"id":"d523f926-6128-5ede-05fe-fb900654ec4d","phone":"(+39) 099 8295050","fax":"(+39) 099 8293704","mail":"info@venusbridal.it","url":"http:\/\/www.venusbridal.it","description":null,"logoImgUrl":"http:\/\/s.conduit.com\/mobile\/fc\/60\/fc6facd0-e860-478b-9e11-69516f914666\/Images\/e422ee45-8c4e-4231-89cf-76be67b7810d.Png"}]},"displayDevices":0,"alias":"contatti"},{"id":"f4a84d61-f5c0-41fc-9dd7-fd952fa8123c","label":"Venus nel mondo","icon":"http:\/\/images.mobile.conduit-services.com\/icon\/external\/?src=http%3A%2F%2Fstorage.conduit.com%2FMobile%2Ffc%2F60%2Ffc6facd0-e860-478b-9e11-69516f914666%2FImages%2F41673b56-eeef-4deb-ab3e-a259be21c7ce.png","deviceIcon":null,"type":"fc6700a7-a11e-de90-93f8-7357f9f0037f","version":null,"minVersion":"2.7.0.5","devicesMeta":{"layouts":[],"layout":null,"pageLayout":-1,"items":[{"links":[{"url":"http:\/\/www.venusbridal.it\/","imageUrl":"http:\/\/storage.conduit.com\/Mobile\/fc\/60\/fc6facd0-e860-478b-9e11-69516f914666\/Images\/227b92e5-1903-4767-affc-3ca670b4693f.png"},{"url":"http:\/\/www.venusbridal.com\/","imageUrl":"http:\/\/storage.conduit.com\/Mobile\/fc\/60\/fc6facd0-e860-478b-9e11-69516f914666\/Images\/d2a47fff-90ef-485a-9596-27137d893b7a.png"},{"url":"http:\/\/www.venusgowns.co.nz\/","imageUrl":"http:\/\/storage.conduit.com\/Mobile\/fc\/60\/fc6facd0-e860-478b-9e11-69516f914666\/Images\/61db9fb3-aab1-43ad-8f73-78057281f32e.png"},{"url":"http:\/\/www.venusbridal.de\/#\/home","imageUrl":"http:\/\/storage.conduit.com\/Mobile\/fc\/60\/fc6facd0-e860-478b-9e11-69516f914666\/Images\/56221ab3-70d3-4e87-ad3c-83c4b9778cff.png"},{"url":"http:\/\/www.venusbridaluk.com\/","imageUrl":"http:\/\/storage.conduit.com\/Mobile\/fc\/60\/fc6facd0-e860-478b-9e11-69516f914666\/Images\/5730d864-7f55-4040-bcea-ac5a8f291327.png"}],"text":"Worldwide Venus","logoImgUrl":"http:\/\/storage.conduit.com\/Mobile\/fc\/60\/fc6facd0-e860-478b-9e11-69516f914666\/Images\/ca74b10b-ba82-4b29-a927-60bbf4432e42.png","description":null}]},"meta":{"layout":null,"pageLayout":-1,"items":[{"links":[{"url":"http:\/\/www.venusbridal.it\/","imageUrl":"http:\/\/storage.conduit.com\/Mobile\/fc\/60\/fc6facd0-e860-478b-9e11-69516f914666\/Images\/227b92e5-1903-4767-affc-3ca670b4693f.png"},{"url":"http:\/\/www.venusbridal.com\/","imageUrl":"http:\/\/storage.conduit.com\/Mobile\/fc\/60\/fc6facd0-e860-478b-9e11-69516f914666\/Images\/d2a47fff-90ef-485a-9596-27137d893b7a.png"},{"url":"http:\/\/www.venusgowns.co.nz\/","imageUrl":"http:\/\/storage.conduit.com\/Mobile\/fc\/60\/fc6facd0-e860-478b-9e11-69516f914666\/Images\/61db9fb3-aab1-43ad-8f73-78057281f32e.png"},{"url":"http:\/\/www.venusbridal.de\/#\/home","imageUrl":"http:\/\/storage.conduit.com\/Mobile\/fc\/60\/fc6facd0-e860-478b-9e11-69516f914666\/Images\/56221ab3-70d3-4e87-ad3c-83c4b9778cff.png"},{"url":"http:\/\/www.venusbridaluk.com\/","imageUrl":"http:\/\/storage.conduit.com\/Mobile\/fc\/60\/fc6facd0-e860-478b-9e11-69516f914666\/Images\/5730d864-7f55-4040-bcea-ac5a8f291327.png"}],"text":"Worldwide Venus","logoImgUrl":"http:\/\/storage.conduit.com\/Mobile\/fc\/60\/fc6facd0-e860-478b-9e11-69516f914666\/Images\/ca74b10b-ba82-4b29-a927-60bbf4432e42.png","description":null}]},"displayDevices":0,"alias":"venus-nel-mondo"},{"id":"018c6ecb-a0a5-4b65-8829-1a26bfedb156","label":"Facebook","icon":"http:\/\/images.mobile.conduit-services.com\/icon\/external\/?src=http%3A%2F%2Fstorage.conduit.com%2FMobile%2Ffc%2F60%2Ffc6facd0-e860-478b-9e11-69516f914666%2FImages%2F02fcbc5d-d9b0-4164-a4b0-b087391db0a2.png","deviceIcon":null,"type":"df7d11f3-233c-4d49-8f2a-d1886e07c641","version":null,"minVersion":"0.0.0.0","devicesMeta":{"layouts":[{"deviceType":-1,"meta":{"bgImage":"http:\/\/s.conduit.com\/Mobile\/fc\/60\/fc6facd0-e860-478b-9e11-69516f914666\/Images\/332fc8ac-7c73-4947-8941-c1d5ef3d4ee1.png"}},{"deviceType":129,"meta":{"bgImage":"http:\/\/s.conduit.com\/Mobile\/fc\/60\/fc6facd0-e860-478b-9e11-69516f914666\/Images\/c20a9689-5a81-42db-9fc8-501afeb57a2d.png"}}],"layout":null,"pageLayout":1,"channels":[{"id":"1dcfa480-4af8-c49e-29dc-ac1d9821fe95","user":"SymphonyByVenus ","postsSource":"posts","title":"Channel"}]},"meta":{"layout":{"meta":{"bgImage":"http:\/\/s.conduit.com\/Mobile\/fc\/60\/fc6facd0-e860-478b-9e11-69516f914666\/Images\/332fc8ac-7c73-4947-8941-c1d5ef3d4ee1.png"}},"pageLayout":1,"channels":[{"id":"1dcfa480-4af8-c49e-29dc-ac1d9821fe95","user":"SymphonyByVenus ","postsSource":"posts","title":"Channel"}]},"displayDevices":0,"alias":"facebook"}],"modules":[],"version":"1.38.141.1231","social":{"facebook":{"appId":"375757265883286"}},"globalAppId":"fc6facd0-e860-478b-9e11-69516f914666"},"maxAge":1800,"serviceUrl":"http:\/\/app.como-services.com\/api\/app\/d2a0c539-3724-42e6-a21a-cc8bbe8738c9\/2?appVersion={appVersion}"},{"data":{"isRtl":false,"items":{"ButtonOk":"OK","ButtonCancel":"Annulla","ButtonClose":"Chiudi","ButtonRetry":"Riprova","DialogMessageFailGetFeeds":"Impossibile caricare i dati dell'applicazione. Per accedere ai dati, è necessario connettersi a una rete dati per telefoni cellulari o Wi-Fi.","DialogMessageFailGetAppExperience":"Impossibile caricare i dati dell'applicazione. Per accedere ai dati, è necessario connettersi a una rete dati per telefoni cellulari o Wi-Fi.","DialogMessageFailGetAppNormal":"Impossibile caricare i dati dell'applicazione. Per accedere ai dati, è necessario connettersi a una rete dati per telefoni cellulari o Wi-Fi.","DialogMessageFailLoadPage":"Impossibile caricare la pagina,.","DialogMessageFailGetAppId":"Controllare il  codice dell'applicazione e riprovare.","DialogMessageEmailAddressInvalid":"Indirizzo e-mail non valido","DialogMessageAppCodeInvalid":"Codice app non valido","DialogMessageFailGetServiceMap":"Impossibile inizializzare le comunicazioni di rete","DialogMessageFacebookLogoutFail":"Impossibile disconnettersi da Facebook al momento. Riprovare in seguito.","DialogCaptionError":"Errore","DialogCaptionFailGetFeeds":"Errore di rete","DialogCaptionFacebookLogout":"Disconnessione da Facebook","SSecondsAgo":"secondi fa","SSecondAgo":"un secondo fa","SNumberSecondsAgo":"{number} secondi fa","SMinuteAgo":"un minuto fa","SNumberMinutesAgo":"{number} minuti fa","SHourAgo":"un'ora fa","SNumberHoursAgo":"{number} ore fa","SDayAgo":"un giorno fa","SNumberDaysAgo":"{number} giorni fa","SWeekAgo":"una settimana fa","SNumberWeeksAgo":"{number} settimane fa","SMonthAgo":"un mese fa","SNumberMonthsAgo":"{number} mesi fa","SYearAgo":"un anno fa","SNumberYearsAgo":"{number} anni fa","IndicatorLoading":"Caricamento in corso…","HtmlTextLoadingPagination":"Caricamento in corso…","HtmlTextShowMorePagination":"Mostra altro","HtmlTextMorePages":"Altro","DialogMessageLeaveWarning":"Si sta per uscire dall'app. Premere OK per continuare.","DialogCaptionNavigate":"Naviga","DialogMessageFailConnectTwitter":"Impossibile connettersi a Twitter","DialogMessageFailLoginTwitter":"Impossibile accedere a Twitter","DialogMessageShareNotSupportedInSimulator":"La condivisione non è supportata in modalità Simulatore.","DialogCaptionTwitter":"Twitter","DialogCaptionShare":"Condividi","DialogCaptionFacebook":"Facebook","IndicatorShareTwitterSigningIn":"Accesso in corso...","IndicatorShareLogOut":"Disconnessione in corso...","IndicatorSharePublishing":"Pubblicazione in corso...","IndicatorShareTweeting":"Tweet in corso...","HtmlTextShareOnTwitter":"Condividi su Twitter","HtmlTextShareOnFacebook":"Condividi su Facebook","HtmlTextShareTwitterPostButton":"Twitta","HtmlTextShareFacebookPostButton":"Pubblica","HtmlTextShareTwitterChangeUserButton":"Cambia utente","HtmlTextShareFacebookChangeUserButton":"Cambia utente","HtmlTextShareTwitterLoginCaption":"Accedi","HtmlTextShareTwitterUserNameCaption":"Nome utente o e-mail","HtmlTextShareTwitterPasswordCaption":"Password","HtmlTextShareTwitterLoginButton":"Accedi","SShareTweetedFromLink":"Twittato da {appLink}","SShareMobileApp":"app mobile","SShareMailApplinkHtml":"Condiviso dal mio: {htmlLink}","SShareMailApplinkSimple":"Condiviso dalla mia app mobile: {appLink}","SShareFromMobile":"Condiviso dalla mia app mobile","SShareFromMobileWithLink":"Condiviso dalla mia app mobile {appLink}","SShareConduitMobile":"Conduit Mobile","SShareMailPowerByConduitHtml":"Gestito da: {htmlLink}","SShareMailPowerByConduitSimple":"Gestito da Conduit Mobile: {conduitLink}","DialogMessageShareFailConectTwitter":"Impossibile connettersi al servizio Twitter, riprovare tra poco.","DialogMessageShareFailConectFacebook":"Impossibile connettersi al servizio Facebook, riprovare tra poco.","DialogMessageShareFailPostFacebook":"Impossibile pubblicare. Facebook non risponde.","DialogMessageShareFailTweet":"Impossibile twittare","HtmlTextRevuShakeToReload":"(scuotere per ricaricare l'app)","HtmlTextRevuReopenToReview":"(riaprire l'app per esaminare le modifiche)","HtmlTextContactUsWeb":"Web:","HtmlTextContactUsMail":"Posta:","HtmlTextContactUsPhone":"Telefono:","HtmlTextContactUsFax":"Fax:","HtmlTextContactUsAddress":"Indirizzo:","HtmlTextContactUsShowOnMap":"Mostra sulla mappa","HtmlTextContactUsGetDirections":"Ottieni indicazioni","HtmlTextFacebookLikesCount":"{number} apprezzamenti","HtmlTextFacebookReadMore":"Altre info","SFacebookShareEmailSubject":"Leggi il post dalla pagina Facebook di {user}","SFacebookShareTwitterFrom":"Dalla bacheca Facebook di {user}","IndicatorLiveAlbumPostingImage":"Pubblicazione dell'immagine in corso...","SLivePersonUserName":"io","DialogMessageLivePersonNoAnswer":"Nessuna risposta. Riprovare in seguito.","DialogMessageLivePersonErrorClosing":"Errore durante la chiusura della chat","DialogMessageLivePersonNoAvailability":"Account offline","HtmlTextLivePersonStart":"AVVIO","HtmlTextLivePersonEnd":"FINE","HtmlTextLivePersonSend":"Invia","HtmlTextLivePersonStatusInit":"Per iniziare una sessione di chat, fare clic su:","HtmlTextLivePersonStatusChatting":"Chat in corso con {agentName}","HtmlTextLivePersonStatusCheckingAvailability":"Verifica della disponibilità in corso...","HtmlTextLivePersonStatusClosingChat":"Chiusura della chat in corso...","HtmlTextLivePersonStatusWaitingAgent":"In attesa di un agente...","HtmlTextLivePersonStatusAgentTyping":"{agentName} sta digitando...","DialogCaptionLivePersonChatEnded":"Chat terminata","DialogCaptionLivePersonNoAvailability":"Non disponibile","DialogCaptionLivePersonTimeOut":"Scadenza","HtmlTextRadioLoading":"Caricamento in corso…","HtmlTextRssShowOnMap":"Mostra sulla mappa","HtmlTextRssReadMore":"Altre info","SRssShareComment":"leggi il post da {link}","SRssShareEmailSubject":"Leggi l'articolo da {title}","SRssShareTwitterFrom":"da {title}","HtmlTextSlicerUnableLoading":"Impossibile caricare il contenuto del sito","HtmlTextTwitterFollowersCount":"{number} seguaci","HtmlTextTwitterStatusesCount":"{number} stati","STwitterShareEmailSubject":"Leggi il tweet da @{name}","HtmlTextYoutubeViewsCount":"{number} visualizzazioni","HtmlTextYoutubeByAuthor":"di {author}","HtmlTextYoutubeRatings":"{ratings} Punti | {views} Visualizzazioni","HtmlTextYoutubeLikes":"{likes} Mi piace | {dislikes} Non mi piace","SYoutubeShareTitle":"Visualizza il video - {title}","DialogMessageAudioNoUrl":"Nessuna risorsa audio disponibile.","DialogMessageAudioNoFeeds":"Il tuo dispositivo non è in grado di riprodurre questo tipo di file audio","DialogMessageAudioNotSupportedDevice":"Il tuo dispositivo non supporta file audio HTML5","DialogMessageAudioNotSupportedSimulator":"Il browser (del tuo simulatore) non supporta file audio","DialogMessageAudioTypeNotSupportedDevice":"Il tuo dispositivo non è in grado di riprodurre questo tipo di file audio","DialogMessageAudioTypeNotSupportedSimulator":"Il browser (del tuo simulatore) non è in grado di riprodurre tipo di file audio","HtmlTextAudioLoading":"Caricamento in corso…","HtmlTextAudioSeeking":"Ricerca in corso…","HtmlTextAudioSeek":"Ricerca:","HtmlTextAudioLyricist":"Parole:","HtmlTextAudioComposer":"Musica:","HtmlTextAudioAlbum":"Album:","HtmlTextVideoByAuthor":"di {author}","DialogCaptionEmail":"Email","DialogMessageFailGetAppDisabled":"Siamo spiacenti ma l'applicazione è stata temporaneamente disabilitata per violazione dei contenuti.\\n\\nSi prega di verificare nuovamente nei prossimi giorni","DialogMessageFailGetServiceMapWinPhone":"Impossibile inizializzare la comunicazione di rete. Premere OK per riprovare o Annulla per annullare","DialogMessageMediaNotSupported":"Audio non supportato dal browser","DialogMessageLinkNotSupportedInSimulator":"Link non supportato in modalità di simulazione","DialogMessageAlbumAddedToFavorites":"Tracce album aggiunte ai preferiti","DialogCaptionShareControlDialog":"Condividi su","DialogCaptionFacebookLogin":"Accesso a Facebook","DialogCaptionTwitterLogout":"Chiudi sessione Twitter","DialogCaptionTwitterLogin":"Accesso a Twitter","DialogCaptionAddedToFavorites":"Aggiungi a preferiti","HtmlTextShareTwitterWriteCommentPlaceholder":"Inserisci un commento","HtmlTextShareFacebookWriteCommentPlaceholder":"Inserisci un commento","HtmlTextShareChangeUserName":"Non {nome}?","HtmlTextAddAlbumToFavorites":"Aggiungi ora tracce all'elenco dei preferiti","HtmlTextAddTrackToFavorites":"Aggiungi ora la traccia all'elenco dei preferiti","HtmlTextAudioDetails":"Dettagli","HtmlTextAudioTrackNumber":"Traccia {number}","HtmlTextAudioVocals":"Vocal","HtmlTextAudioWriters":"Autori","HtmlTextAudioLyrics":"Testo","HtmlTextBlogShowMorePosts":"Mostra altro","HtmlTextBlogLoadingPosts":"Caricamento in corso…","HtmlTextBlogViewOriginalPost":"visualizza post originale","HtmlTextBlogViewOriginalSite":"visualizza sito originale","HtmlTextBlogbyAuthor":"di {author}","ToastMessageBlogFailedGetPosts":"impossibile postare","HtmlTextFacebookPageLikesCount":"mi piace","HtmlTextFacebookShowMorePosts":"Mostra altri post","HtmlTextFacebookLoadingPosts":"Caricamento in corso…","HtmlTextFacebookPostCommentsCount":"{number} commenti","HtmlTextRemoveTrackFromFavorites":"Rimuovi ora la traccia dall'elenco dei preferiti","SShareEmailLink":"Altre info","HtmlTextViewOriginalPageBtnText":"Visualizza versione originale","HtmlTextMapLoading":"Caricamento in corso…","HtmlTextShareButtonText":"Condividi","HtmlTextPurchaseItemBuy":"Acquista","HtmlTextPurchaseItemBuyAlbum":"Acquista album","DialogCaptionPurchaseChooseMethod":"Acquista:","HtmlTextPaginationShowMoreItems":"Mostra altro...","HtmlTextPaginationRefreshItems":"Caricamento in corso…","HtmlTextPaginationRefreshButton":"Aggiorna","ToastMessagePaginationFailedGetItems":"impossibile ricevere dati","ToastMessageTrackAddedToFavorites":"Traccia aggiunta ai preferiti","ToastMessageTrackRemovedFromFavorites":"Traccia rimossa dai preferiti","ToastMessageAudioInitFail":"Impossibile inizializzare audio player","ToastMessageFacebookFailedGetComments":"impossibile ricevere dati","DialogMessageLiveAlbumCameraNotSupported":"Fotocamera non supportata","DialogMessageLiveAlbumCameraNotSupportedSimulator":"Fotocamera non supportata in modalità di simulazione","DialogMessageLiveAlbumTakePhotoFailed":"Impossibile scattare foto ({message})","DialogMessageLiveAlbumPostPhotoFailed":"Impossibile postare foto","ToastMessageLiveAlbumPublishingPhoto":"Immagine caricata con successo, stream aggiornato a breve","HtmlTextLiveAlbumByUploader":"da {name}","HtmlTextLiveAlbumPhotos":"foto","HtmlTextLiveAlbumShareCheckbox":"Condividi su Facebook","HtmlTextLiveAlbumNoImages":"DIVENTA IL PRIMO A POSTARE UNA FOTO","HtmlTextLiveAlbumLoadingAlbum":"Caricamento in corso…","HtmlTextLiveAlbumLoadingImage":"Caricamento in corso…","HtmlTextLiveAlbumLoadingShowMore":"Caricamento in corso…","HtmlTextLiveAlbumShowMore":"Mostra altro","HtmlTextLiveAlbumErrorLoadingImage":"Impossibile caricare l'immagine","HtmlTextLiveAlbumFacebookLoginLiveAlbum":"LiveAlbum","HtmlTextLiveAlbumFacebookLogin":"Condividi le foto con i tuoi amici su facebook","HtmlTextLiveAlbumFacebookLoginComment":"(richiede il collegamento al tuo account facebook)","HtmlTextLiveAlbumEula":"Termini di utilizzo","HtmlTextLiveAlbumAddComment":"aggiungi commento","DialogCaptionLiveAlbumPostPhoto":"Posta foto","DialogButtonLiveAlbumPostPhotoOk":"posta","DialogButtonLiveAlbumPostPhotoCancel":"annulla","DialogButtonLiveAlbumChoosePhotoChoose":"Seleziona foto","DialogButtonLiveAlbumChoosePhotoTake":"Scatta foto","DialogButtonLiveAlbumChoosePhotoCancel":"Annulla","HtmlTextLivePersonInputPlaceholder":"Scrivi un messaggio...","HtmlTextLivePersonStatusCheckingAvailabilityMinorText":"collegamento in corso","HtmlTextLivePersonStatusWaitingAgentMinorText":"chiamata in corso","HtmlTextPhotosImagesCount":"{number} foto","HtmlTextReviewsReviewsCount":"{numero} recensioni sul {provider}","HtmlTextReviewsByAuthor":"da {name}","HtmlTextReviewsLoadingProvider":"Caricamento in corso…","HtmlTextReviewsReadMoreLink":"Altre info","DialogMessageSubscribeSubscribeSuccess":"Grazie per la registrazione","DialogMessageSubscribeFailed":"Registrazione al momento non disponibile. Riprovare più tardi","HtmlTextSubscribeUnknownButton":"Sconosciuto","HtmlTextSubscribeFacebookButton":"Facebook","HtmlTextSubscribeTwitterButton":"Twitter","HtmlTextSubscribeLinkedInButton":"LinkedIn","HtmlTextSubscribeSubscribeButton":"Registrati","HtmlTextSubscribeFollowBlogTitle":"Segui {blogTitle}","HtmlTextSubscribeDiscoverString":"Scoprici su questi siti","HtmlTextSubscribeSubscribeString":"Registrati a {blogTitle}","HtmlTextSubscribeInsetYourEmail":"your@email.com","HtmlTextSubscribeLoading":"Registrazione in corso...","ToastMessageSubscribeInsetEmail":"Indirizzo email necessario","ToastMessageSubscribeInvalidEmail":"Inserire un indirizzo email valido","DialogCaptionSubscribeSuccess":"Successo","DialogCaptionSubscribeFail":"Errore","HtmlTextTwitterFollowers":"Seguaci","HtmlTextTwitterTweets":"Tweet","HtmlTextTwitterFollowButton":"Segui","HtmlTextTwitterRetweet":"da {retweeterName}","HtmlTextTwitterRetweetDetails":"retweettato da","HtmlTextTwitterShowMoreTweets":"Mostra altri tweet","HtmlTextTwitterLoadingTweets":"Caricamento in corso…","HtmlTextYoutubeViews":"{views} Visualizza","HtmlTextEventsPastEvents":"Eventi precedenti","HtmlTextEventsFutureEvents":"Prossimi eventi","HtmlTextEventsMonthJanuary":"Gennaio","HtmlTextEventsMonthFebruary":"Febbraio","HtmlTextEventsMonthMarch":"Marzo","HtmlTextEventsMonthApril":"Aprile","HtmlTextEventsMonthMay":"Maggio","HtmlTextEventsMonthJune":"Giugno","HtmlTextEventsMonthJuly":"Luglio","HtmlTextEventsMonthAugust":"Agosto","HtmlTextEventsMonthSeptember":"Settembre","HtmlTextEventsMonthOctober":"Ottobre","HtmlTextEventsMonthNovember":"Novembre","HtmlTextEventsMonthDecember":"Dicembre","HtmlTextEventsDaySunday":"Domenica","HtmlTextEventsDayMonday":"Lunedì","HtmlTextEventsDayTuesday":"Martedì","HtmlTextEventsDayWednesday":"Mercoledì","HtmlTextEventsDayThursday":"Giovedì","HtmlTextEventsDayFriday":"Venerdì","HtmlTextEventsDaySaturday":"Sabato","HtmlTextEventsVenueStr":"Posizione","HtmlTextEventsLocationStr":"Localizzazione","HtmlTextEventsPhoneNumberStr":"Numero telefono","HtmlTextEventsTicketStr":"Biglietto","HtmlTextShowOnMapButtonStr":"Mappa","HtmlTextContactUsSignUpStr":"Iscriviti","HtmlTextContactUsAddressStr":"Indirizzo","HtmlTextContactUsPhoneNumberStr":"Numero telefono","HtmlTextContactUsFaxNumberStr":"Numero fax","HtmlTextContactUsCallNowStr":"Chiama","HtmlTextContactUsCallStr":"Chiama","HtmlTextContactUsFaxStr":"Fax","HtmlTextContactUsEmailStr":"Email","HtmlTextContactUsLinkStr":"Link","HtmlTextContactUsMapStr":"Mappa","HtmlTextContactUsContactUsStr":"Contatti","HtmlTextFavoritesEditButton":"Modifica","HtmlTextFavoritesDoneButton":"Fatto","HtmlTextFavoritesCancelButton":"Annulla","HtmlTextFavoritesBuyButton":"Acquista","DialogCaptionPhotosManagerDeviceNotSupported":"Il dispositivo non supporta la visualizzazione della galleria fotografica","DialogCaptionPhotosManagerSimulatorNotSupported":"La visualizzazione della galleria fotografica non è supportata in modalità simulatore","HtmlTextPaginationLoadingItems":"Caricamento in corso…","DialogMessagePurchaseFail":"Acquisto non riuscito.Ti preghiamo di riprovare più tardi.Se riscontri ulteriori problemi, non esitare a contattarci.","HtmlTextEventsNoEventsStr":"Al momento non ci sono eventi da visualizzare.","HtmlTextFavoritesNoFavsStr1":"Non è stata aggiunta nessuna traccia.","HtmlTextFavoritesNoFavsStr2":"Aggiungi la traccia alla tua lista dei preferiti.","PushNotificationTitle":"Notifica","DialogMessageFacebookRequiresPermissions":"Quest'azione richiede dei permessi","DialogCaptionFacebookRequiresPermissions":"Facebook","SShareAppMailBody":"Hey,<br>Dai un'occhiata alla app mobile {appName} che ho appena usato!","SShareAppMailSubject":"Dai un'occhiata a questa nuova fantastica app!","SSharePhotoSubject":"Guarda questa fantastica immagine!","SSharePhotoTitle":"Immagine fantastica","SSharePhotoText":"Dai un'occhiata a questa fantastica immagine!","HtmlTextCommentDialogButtonOk":"Posta su Facebook","HtmlTextCommentDialogButtonCancel":"Annulla","HtmlTextCommentDialogPlaceholder":"Scrivi qualcosa...","HtmlTextShareAppButtonText":"Condividi app","SShareApp":"Dai un'occhiata alla app mobile {appName} che ho appena usato!","HtmlTextFacebookAddCommentButton":"Commenta","HtmlTextFacebookLikePostButton":"Mi piace","HtmlTextFacebookUnikePostButton":"Non mi piace più","HtmlTextFacebookLikeComment":"Mi piace","HtmlTextFacebookUnikeComment":"Non mi piace più","HtmlTextFacebookPostLikesCount":"A {number} persone piace questo elemento","HtmlTextFacebookPostLikesCountIncludeYou":"A te e ad altre {number} persone piace questo elemento","HtmlTextPhotosNoImages":"Album vuoto","HtmlTextTwitterUnfollowButton":"Smetti di seguire","TitleShareVia":"Condividi via","HtmlTextFacebookPostLikesOnlyYou":"Ti piace","HtmlTextSpeakersBioTitle":"Biografia del relatore","DialogMessageFormSendFail":"Impossibile inviare dati","DialogMessageFormSendSuccess":"Dati inviati","HtmlTextAboutUsDescriptionTitle":"Descrizione","HtmlTextAboutUsInfoVersion":"Versione {versionName}","HtmlTextAboutUsItemHoursAlwaysOpen":"Aperto 24 su 24, 7 giorni su 7","HtmlTextAboutUsItemHoursNoHours":"Nessun'ora disponibile","HtmlTextAboutUsItemTitleAwards":"Premi","HtmlTextAboutUsItemTitleBiography":"Biografia","HtmlTextAboutUsItemTitleBookingAgent":"Agente di prenotazione","HtmlTextAboutUsItemTitleCompanyOverview":"Panoramica Società","HtmlTextAboutUsItemTitleCulinaryTeam":"Team gastronomico","HtmlTextAboutUsItemTitleFounded":"Fondazione","HtmlTextAboutUsItemTitleGeneralInfo":"Info generali","HtmlTextAboutUsItemTitleGenre":"Genere","HtmlTextAboutUsItemTitleHometown":"Città natale","HtmlTextAboutUsItemTitleHours":"Ore","HtmlTextAboutUsItemTitleManager":"Manager","HtmlTextAboutUsItemTitleMembers":"Membri","HtmlTextAboutUsItemTitleMission":"Missione","HtmlTextAboutUsItemTitleParking":"Parcheggio","HtmlTextAboutUsItemTitleProducts":"Prodotti","HtmlTextAboutUsItemTitleRecordLabel":"Etichetta di registrazione","HtmlTextAboutUsItemTitleServices":"Servizi","HtmlTextAboutUsItemTitleSpecialties":"Specialità","HtmlTextAboutUsListItemReadMore":"Leggi ancora","HtmlTextAboutUsReadMore":"Leggi ancora","HtmlTextEventsAdd2CalStr":"Calendario","HtmlTextEventsRsvpAttending":"Presente","HtmlTextEventsRsvpButton":"Iscriviti","HtmlTextEventsRsvpDecline":"Rifiuta","HtmlTextEventsRsvpMaybe":"Forse","HtmlTextInstagramUserLikePhoto":"Ti piace","HtmlTextInstagramPhotosCount":"foto","HtmlTextInstagramFollowersCount":"follower","HtmlTextInstagramFollowingCount":"following","HtmlTextFormSendButton":"Invia","ToastMessageFormFieldMandatory":"Il campo {fieldName} non può rimanere vuoto","HtmlTextCouponsTitleOffer":"Offerta","HtmlTextCouponsTitleSpecialDiscount":"Sconto speciale","HtmlTextCouponsTitleOriginalPrice":"Prezzo originale","HtmlTextCouponsTitleDiscount":"Sconto","HtmlTextCouponsTitleSaving":"Risparmiati","HtmlTextCouponsTitleDealDetails":"Dettagli dell'accordo","HtmlTextCouponsPriceOff":"DI SCONTO","HtmlTextCouponsTitleNewPrice":"Nuovo prezzo","HtmlTextCouponsValidFrom":"Valido dal","HtmlTextCouponsValidUntil":"al","HtmlTextCouponsTermsTitle":"Termini e condizioni","HtmlTextCouponsTitleValidity":"Scadenza","ToastMessageCouponsClaimSuccess":"Congratulazioni! Hai richiesto quest'offerta.","HtmlTextCouponsClaimButton":"Ottieni il coupon","HtmlTextCouponsCouponClaimed":"Coupon richiesto","HtmlTextCouponsExpired":"SCADUTA","CouponsNoResultsFound":"Nessun coupon disponibile","CouponsNoResultsFoundSubtitle":"Ricontrolla presto!","HtmlTextCouponsShareDefaultOfferTitle":"Compri 1 ne ottieni 1 GRATIS","HtmlTextCouponsShareTitle":"Hey, dovresti prendere al volo anche questo affare!","HtmlTextCouponsShareDescription":"Dai un'occhiata al fantastico affare che ho trovato nell'app per dispositivo mobile {appName}: \"{offerTitle}\"","HtmlTextPhotosImagesCountTitle":"foto","HtmlTextAboutUsInfoPrivacyPolicy":"Scaricando, utilizzando e\/o accedendo all'App in qualsiasi modo, si acconsente ai <a href='http:\/\/www.como.com\/mobile-apps-terms-of-use\/'>Termini e condizioni<\/a> e all'<a href='http:\/\/www.como.com\/app-privacypolicy\/'>Informativa sulla privacy<\/a>","ReportsSavedSuccessfullyMessage":"Inviato correttamente","ReportsSavedSuccessfullySubtitleMessage":"Grazie. Il tuo messaggio è stato inviato con successo.","ReportsSaveFailedMessage":"Invio non riuscito","ReportsSaveFailedSubtitleMessage":"Attenzione. Impossibile salvare il report. Riprovare.","DialogCaptionSuccess":"Successo","DialogCaptionConfirm":"Conferma","DialogMessagePollAreYouSureVote":"Vuoi votare per \"{text}\" ?","DialogMessagePollVoteFail":"Voto non pervenuto. Riprovare più tardi.","DialogMessagePollVoteSuccess":"Voto pervenuto.","HtmlTextPollVoteButton":"Vota","HtmlTextLinksDescriptionTitle":"Descrizione","HtmlTextDatePickerDialogButtonOk":"OK","HtmlTextDatePickerDialogButtonCancel":"Annulla","HtmlTextDatePickerDialogButtonClear":"Cancella","HtmlTextInstagramLikes":"Ti piace","HtmlTextInstagramComments":"Commenti","HtmlTextInstagramPrivateUserMainText":"L'utente non condivide informazioni pubblicamente.","HtmlTextInstagramPrivateUserSecondaryText":"Impossibile visualizzare la pagina.","HtmlTextLiveAlbumUploadingImage":"Caricamento immagine in corso...","HtmlTextLiveAlbumUploadingFailed":"Impossibile caricare l'immagine.","HtmlTextLiveAlbumUploadedByYou":"Tu","HtmlTextAgendaSpeakersCount":"{number} partecipanti:","HtmlTextAgendaOneSpeaker":"Partecipante:","HtmlTextAgendaSessionDetails":"Dettagli","HtmlTextAgendaAddToFav":"Aggiungi a Preferiti","HtmlTextAgendaRemoveFromFav":"Rimuovi da Preferiti","DialogMessageAgendaNoFav":"Nessuna sessione nell'elenco dei Preferiti.","DialogCaptionAgendaNoFav":"Preferiti","SShareFavoritesPlaylistTitle":"Dai un'occhiata alla playlist che ho creato!","HtmlTextCommentDialogButtonOkShort":"Pubblica","HtmlTextCommentDialogTitle":"Commento","HtmlTextQuizStartQuizButton":"Inizia il quiz","HtmlTextQuizQuestionPosition":"{index} di {total}","HtmlTextQuizHowManyCorrect":"Hai risposto a {count} correttamente.","HtmlTextQuizRetryButton":"Rigioca al quiz","SQuizShareTitle":"Ho giocato al quiz: {title}","SQuizShareBody":"Ho giocato al quiz: {title}. Il mio punteggio è: {grade}","UploadStatusLiveAlbumImageUploading":"Caricamento immagine in corso","UploadStatusLiveAlbumImageSent":"Immagine inviata ","UploadStatusLiveAlbumProcessFailed":"Qualcosa è andato storto. Riprovare.","SAgendaShareSession":"Sono nella sessione: {sessionTitle}","HtmlTextLinkStaticTextIfCantOpenSafari":"Premere i pulsanti per iniziare a utilizzare la app","HtmlTextFavoritesShareButton":"Condividi","PhotoGalleryPreparingToShare":"Preparazione di condivisione in corso...","ErrorHandleTitle":"Impossibile recuperare i dati","ErrorHandleSubTitle":"Potrebbe esserci un problema con la connessione al server","ErrorHandleReloadButtonTitle":"Ricarica","CollectionsSearchPlaceholder":"Cerca {category}","CollectionsBuyNow":"Acquista","CollectionsCurrentPrice":"Prezzo attuale","CollectionsItemDetails":"Dettagli elemento","CollectionsContactUs":"Contatti","CollectionsVisitUs":"Facci visita","CollectionsContactItem-Email":"Email","CollectionsContactItem-Facebook":"Pagina Facebook","CollectionsContactItem-Linkedin":"LinkedIn","CollectionsContactItem-Twitter":"Twitter","CollectionsContactItem-Website":"Sito web","SShareMailPowerByBrand":"Powered by {brand}","ReportsInvalidFormPopupTitle":"Impossibile inviare il modulo","ReportsInvalidInputMessage":"{name} è un campo obbligatorio","ReportsTemplateDefaultSubmitCaption":"Invia","ReportsInvalidEmail":"Email non valida","ReportsSavingMessage":"Invio in corso...","ReportsShowMyLocationMessage":"Mostra la mia posizione","ReportsFailedToDetermineLocation":"Impossibile determinare la posizione corretta. Assicurarsi che il dispositivo GPS sia acceso.","CollectionsSearchNoResultsFound":"Nessun risultato trovato","CollectionsSearchNoResultsFoundSubtitle":"Non abbiamo trovato risultati per: <b>{query_string}<\/b> su <b>{node_name}<\/b>","CollectionsSearchNoItemsFound":"Nessun elemento trovato","CollectionsSearchNoItemsFoundSubtitle":"{node_name} non contiene elementi","HtmlTextInputPanelButtonSendMessage":"Invia","HtmlTextInputPanelPlaceholder":"Scrivi qualcosa...","HtmlTextChatHeaderChattingWith":"Conversazione con","HtmlTextLoginOverlayTitle":"Login per avviare il collegamento","HtmlTextLoginOverlayLogin":"Login","HtmlTextMyProfileLogoutFromLinkedin":"Esci da LinkedIn","HtmlTextMyProfileLogoutButton":"Esci","HtmlTextInboxNoMessagesStr":"Nessun messaggio","ReportsMandatoryMessage":"Alcuni campi sono obbligatori","SUnknownUserName":"[Sconosciuto]","ReportsInvalidValueMessage":"{name} non valido. Inserire nel formato corretto.","SUserJobTitleFull":"{job_title} presso {company}","UserSearchNoResultsFound":"Nessun risultato trovato","UserSearchNoResultsFoundSubtitle":"Nessuna corrispondenza trovata","UserSayHelloTo":"Saluta {user_caption}","UserGoogle":"Google {user_caption}","AppsfireNotifications":"Notifiche","SmartBannerInAppStore":"App disponibile su App Store","SmartBannerInGooglePlay":"App disponibile su Google Play","SmartBannerButtonText":"Scaricala","SSharePhotoSubjectWithTitle":"Guarda quest'immagine fantastica: {title}","HtmlTextContactUsWebSiteStr":"Sito web","HtmlTextLoyaltyCardsDefaultFreebieName":"regalo","HtmlTextLoyaltyCardsTitleOffer":"Offerta speciale","HtmlTextLoyaltyCardsValidFrom":"Inizio","HtmlTextLoyaltyCardsValidUntil":"Fine","HtmlTextLoyaltyCardsShowMoreButton":"Info","HtmlTextLoyaltyCardsExpired":"SCADUTA","HtmlTextLoyaltyCardsComingSoon":"IN ARRIVO","HtmlTextLoyaltyCardsShareWinTitle":"Ho appena completato la mia tessera fedeltà {cardName} e ottenuto un {freebieName} GRATUITO! Scarica l'app {appName} inizia a raccogliere bollini per i tuoi regali!","HtmlTextLoyaltyCardsShareWinTwitterTitle":"Ho appena completato la mia tessera fedeltà sull'app {appName} e ottenuto un regalo! Dai un'occhiata","HtmlTextLoyaltyCardsShareWinEmailTitle":"Vuoi ottenere prodotti gratuiti?","HtmlTextLoyaltyCardsShareWinEmailText":"Salve,\u000aHo appena completato la mia tessera fedeltà {cardName} e ottenuto un {freebieName} GRATUITO! Scarica l'app {appName} e inizia a raccogliere bollini sulla tessera fedeltà e vincere premi. Essere un cliente fedele conviene! :)","HtmlTextLoyaltyCardsShareTitle":"Sto per ottenere alcuni prodotti gratuiti grazie alla mia tessera fedeltà {cardName}. Scarica l'app {appName} e anche tu potrai iniziare a raccogliere punti premi!","HtmlTextLoyaltyCardsShareTwitterTitle":"Sto per ottenere prodotti gratuiti con la mia app {appName}! Scaricala e inizia anche tu a vincere premi!","HtmlTextLoyaltyCardsShareEmailTitle":"Vuoi ottenere anche prodotti gratuiti?","HtmlTextLoyaltyCardsShareEmailText":"Salve,\u000aSto utilizzando questa tessera fedeltà veramente eccezionale e sto per ottenere un {freebieName} GRATUITO!","HtmlTextLoyaltyCardsValidityTitle":"Validità","HtmlTextLoyaltyCardsInfoTitle":"Info tessera","HtmlTextLoyaltyCardsInfoButtonCancel":"Chiudi","HtmlTextLoyaltyCardsOnlyNativeTitle":"Ottieni il tuo regalo!","HtmlTextLoyaltyCardsOnlyNativeText":"Scarica la nostra app per iniziare a raccogliere bollini e vincere premi","HtmlTextLoyaltyCardsOnlyNativeDownloadButton":"Scarica ora!","HtmlTextLoyaltyCardsNoItemsTitle":"Nessuna tessera fedeltà disponibile","HtmlTextLoyaltyCardsNoItemsText":"Ricontrolla presto!","HtmlTextLoyaltyCardsDialogButtonOk":"Tessera bollini","HtmlTextLoyaltyCardsDialogButtonCancel":"Annulla","HtmlTextLoyaltyCardsDialogPlaceholder":"Inserisci il codice","HtmlTextLoyaltyCardsDialogPlaceholderLocked":"Bloccato","HtmlTextLoyaltyCardsDialogStampCaption":"Tessera bollini","HtmlTextLoyaltyCardsDialogCongratsCaption":"Congratulazioni!","HtmlTextLoyaltyCardsDialogCongratsSuccessCaption":"Congratulazioni!","HtmlTextLoyaltyCardsDialogNormalText":"Fornisci il dispositivo al cassiere per mettere un bollino sul dispositivo","HtmlTextLoyaltyCardsDialogMidFreebieText":"Fornisci il dispositivo al cassiere per mettere un bollino sul dispositivo e ottenere un {freebie} gratuito","HtmlTextLoyaltyCardsDialogFreebieText":"Ti sei aggiudicato il tuo regalo {freebie}","HtmlTextLoyaltyCardsDialogFreebieSuccessText":"Hai ottenuto il tuo regalo {freebie}","HtmlTextLoyaltyCardsDialogServiceCoolDownText":"Ops! Troppi tentativi effettuati. Per motivi di sicurezza, la tessera verrà bloccata per {hours} ore","HtmlTextLoyaltyCardsDialogLoading":"Verifica codice in corso...","HtmlTextLoyaltyCardsDialogServiceFailText":"Servizio non disponibile. Riprova più tardi.","HtmlTextLoyaltyCardsDialogWrongCodeText":"Codice errato","HtmlTextLoyaltyCardsDialogLimitPerDayText":"Ci dispiace, il limite di bollini giornalieri è {punchesPerDay}. Riprova domani!","CollectionsCategoryItemsCount":"{count} elementi","CollectionsCategoryUnknownItemsCount":" ","CollectionsSearchPlaceholder2":"Inserisci qui la tua ricerca","HtmlTextVideoShowAllChannelItems":"Guarda tutti","HtmlTextVideoChannelItemsCount":"{number} video","HtmlTextVideoMoreFromChannelTitle":"Altri video di {title}","HtmlTextNoCouponsText":"Torna a trovarci spesso, così non ti perderai le nostre fantastiche promozioni.","HtmlTextNoCouponsTitle":"Nessun coupon disponibile","HtmlTextCouponsCouponClaimedLongText":"Coupon richiesto e già in uso","HtmlTextAboutUsInfoTermsTitle":"Termini e condizioni","HtmlTextAboutUsItemTitleDescription":"Descrizione","HtmlTextAboutUsItemTitleFoodStyle":"Tipo di cibo","HtmlTextVideoNoItems":"Nessun video","ReportsImageUploadAddPhoto":"Aggiungi una foto","ReportsImageUploaded":"Caricati","ReportsImageUploadFailed":"Caricamento non riuscito","ReportsImageUploadingFailedForImageByIndex":"Impossibile caricare l'immagine {number}","ReportsImageUploadingStartedForImageByIndex":"Caricamento immagine {number} in corso","ReportsImageUploadingSucceededForImageByIndex":"Caricamento immagine {number} riuscito","ReportsUploadingImage":"Caricamento in corso...","UserMessageTextHello":"Ciao! me la sto spassando a SXSW, e tu?","HtmlTextBadPermalinkButtonText":"Vai a {alias}","HtmlTextErrorViewFacebookRestrictionTitle":"Questa pagina è riservata","HtmlTextFacebookRestrictedText":"Per accedere a questa pagina, collegati al tuo account di Facebook","HtmlTextFailItemsButtonText":"Riprova","HtmlTextFailItemsText":"Mancano alcune informazioni.","HtmlTextFailItemsTitle":"Attenzione.","HtmlTextInvalidGetItemsText":"Per visualizzare questa pagina, compilare tutti i campi obbligatori.","HtmlTextInvalidGetItemsTitle":"Hai quasi finito","HtmlTextItemNotFoundText":"Qualcosa è andato storto.","HtmlTextItemNotFoundTitle":"Attenzione.","HtmlTextLiveAlbumHeaderHelper":"Inizia a scattare e a condividere foto","HtmlTextLiveAlbumListHeaderHelper":"Seleziona un album per iniziare","HtmlTextLiveAlbumOverlayButtonText":"Inizia a condividere","HtmlTextLiveAlbumOverlayText":"Scatta foto e condividile subito con i tuoi amici tramite e-mail e canali sociali. L’album condiviso sarà aggiornato costantemente, così tu e i tuoi amici potrete scattare, condividere e vedere le foto in tempo reale direttamente dall’app.","HtmlTextNoEventsSubTitle":"(Non preoccuparti, non ti stai perdendo niente.)","HtmlTextNoEventsText":"Vieni a trovarci presto","HtmlTextNoEventsTitle":"Nessun evento","HtmlTextNoItemsText":"Adesso non c’è niente da vedere qui. Riprova più tardi.","HtmlTextNoItemsTitle":"Attenzione.","HtmlTextNoTabsSubTitleUser":"Adesso non c’è niente da vedere qui.","HtmlTextNoTabsTextPublisher":"Per completare questa pagina, aggiungi altri contenuti.","HtmlTextNoTabsTextUser":"Riprova più tardi.","HtmlTextNoTabsTitlePublisher":"Aggiungi contenuto","HtmlTextNoTabsTitleUser":"Attenzione.","HtmlTextPageNotFoundBackButtonText":"Vai all’app","HtmlTextLiveAlbumOverlayTitle":"Condivi le foto con i tuoi amici in un istante","_shortDateUNI":"d\/MM\/yyyy","_shortTimeUNI":"h:mm a","HtmlTextMapNavigateWith":"Esplora con:","HtmlTextMapTypeGoogleMaps":"Google Maps","HtmlTextMapTypeMaps":"Maps","HtmlTextMapTypeWaze":"Waze","HtmlTextQRScanBeforeScanningButtonTitle":"Avvia scansione","HtmlTextQRScanBottomBarScanningTitle":"Ricerca collegamento in corso","HtmlTextQRScanCopyToastMessage":"Collegamento copiato","HtmlTextQRScanDiscardButton":"Cancella","HtmlTextQRScanFoundLinkButtonTitle":"Apri","HtmlTextQRScanLinkFoundTitle":"Collegamento trovato","HtmlTextQRScanSubTitle":"Per scansionare un codice QR, premere “Avvia scansione”, quindi puntare la fotocamera del dispositivo mobile sul codice.","HtmlTextQRScanTitle":"Scanner collegamento QR","SShareQRScanBodyTxt":"Guarda cosa ho trovato sullo scanner del codice QR di {appName}.","HtmlTextErrorViewCmsFailButtonTitle":"Riprova","HtmlTextFacebookPostLikesCountBtnTitle":"{number} apprezzamenti","HtmlTextReportsDoneButton":"Fine","HtmlTextReportsNextButton":"Avanti","HtmlTextNoVideosInChannelTitle":"Questo canale sembra vuoto. Ricontrolla presto.","HtmlTextNoVideosSubTitle":"Ancora nessun video qui","HtmlTextNoVideosTitle":"VIENI A TROVARCI PRESTO.","HtmlTextEmptyOption":"--","HtmlTextVideoItemReadMore":"Leggi ancora","ReportsMultiSelectAll":"Tutti","ReportsMultiSelectDone":"Fine","HtmlTextEventsReadMoreStr":"Leggi ancora","HtmlTextVideoItemReadLess":"Leggi meno","ReportsMultiSelectItemsSelected":"articoli selezionati","ReportsMultiSelectSelected":"Selezionati","ReportsRatingControlTitle":"Che voto ci dai?","DialogMessageCannotDetermineLocationText":"Per riattivarlo, vai a Impostazioni e attiva il Servizio di localizzazione per questa app.","DialogMessageCannotDetermineLocationTitle":"Servizio di localizzazione disattivato","HtmlTextFacebookRestrictedTitle":"L'accesso a questa pagina è ristretto","HtmlTextTabUntitled":"Senza titolo","HtmlTextVideoChannelItemsCountSingleItem":"{numero} video","AndroidBackToExitApp":"Premi Back nuovamente per uscire","HtmlTextCouponsShareDescriptionNoTitle":"Scopri l'eccezionale affare che ho fatto con l'app mobile {appName}!","HtmlTextLoyaltyCardsDialogMidFreebieSuccessText":"Hai appena guadagnato {freebieName} gratuito","HtmlTextLoyaltyCardsDialogNormalCongratsCaption":"Buon divertimento!","HtmlTextLoyaltyCardsDialogNormalSuccessText":"Stai per ricevere un omaggio","HtmlTextPageNotSupportedInCp":"This page is not supported in simulator mode.","HtmlTextPageNotSupportedInCp2":"To test it on your device, please install our ReVu app.","DialogMessageEventsRsvpNotSupportedInSimulator":"This action is not supported in simulator mode.","HtmlTextLoyaltyCardsDialogServiceErrorText":"Service not available. Please try again.","HtmlTextLoyaltyCardsShareMidFreebieEmailTitle":"Have you checked out the {appName} app?","HtmlTextLoyaltyCardsProductDisclaimer":"If you delete this app, clear its data, or switch to a different device, all loyalty card stamps will be lost.","QRScannerLiveWebHeader":"QR Scanner","QRScannerLiveWebText":"Click below to scan a QR code.","QRScannerButtonText":"Start Scan","QRScannerActionNotSupportedInSimulator":"This functionality doesn’t work in the App Simulator.","QRScannerWebAppHeader":"QR Scanner","QRScannerWebAppText":"Download our app to use the QR Scanner.","_day1":"Domenica","_day2":"Lunedì","_day3":"Martedì","_day4":"Mercoledì","_day5":"Giovedì","_day6":"Venerdì","_day7":"Sabato","_month1":"Gennaio","_month10":"Ottobre","_month11":"Novembre","_month12":"Dicembre","_month2":"Febbraio","_month3":"Marzo","_month4":"Aprile","_month5":"Maggio","_month6":"Giugno","_month7":"Luglio","_month8":"Agosto","_month9":"Settembre","_day1s":"Dom","_day2s":"Lun","_day3s":"Mar","_day4s":"Mer","_day5s":"Gio","_day6s":"Ven","_day7s":"Sab","_month10s":"Ott","_month11s":"Nov","_month12s":"Dic","_month1s":"Gen","_month2s":"Feb","_month3s":"Mar","_month4s":"Apr","_month5s":"Mag","_month6s":"Giu","_month7s":"Lug","_month8s":"Ago","_month9s":"Set","_longDate":"d-mmm-yy","_dateTime":"dd\/mm\/yyyy HH:MM:ss","_shortDate":"dd\/mm\/yyyy","_shortTime":"HH:MM","_longTime":"HH:MM:ss","_fullDate":"dddd d mmmm yyyy","_decimalSymbol":",","_digitGroupingSymbol":",","StateAlabama":"Alabama","StateAlaska":"Alaska","StateArizona":"Arizona","StateArkansas":"Arkansas","StateCalifornia":"California","StateColorado":"Colorado","StateConnecticut":"Connecticut","StateDelaware":"Delaware","StateFlorida":"Florida","StateGeorgia":"Georgia","StateHawaii":"Hawaii","StateIdaho":"Idaho","StateIllinois":"Illinois","StateIndiana":"Indiana","StateIowa":"Iowa","StateKansas":"Kansas","StateKentucky":"Kentucky","StateLouisiana":"Louisiana","StateMaine":"Maine","StateMaryland":"Maryland","StateMassachusetts":"Massachusetts","StateMichigan":"Michigan","StateMinnesota":"Minnesota","StateMississippi":"Mississippi","StateMissouri":"Missouri","StateMontana":"Montana","StateNebraska":"Nebraska","StateNotSpecified":"Stato","StateNevada":"Nevada","StateNonUS":"Non in USA","StateNewHampshire":"New Hampshire","StateNewJersey":"New Jersey","StateNewMexico":"Nuovo Messico","StateNewYork":"New York","StateNorthCarolina":"Nord Carolina","StateNorthDakota":"North Dakota","StateOhio":"Ohio","StateOklahoma":"Oklahoma","StateOregon":"Oregon","StatePennsylvania":"Pennsylvania","StateRhodeIsland":"Rhode Island","StateSouthCarolina":"Carolina del Sud","StateSouthDakota":"South Dakota","StateTennessee":"Tennessee","StateTexas":"Texas","StateUtah":"Utah","StateVermont":"Vermont","StateVirginia":"Virginia","StateWashington":"Washington","StateWestVirginia":"West Virginia","StateWisconsin":"Wisconsin","StateWyoming":"Wyoming","CountryNotSpecified":"Nazione","CountryAfghanistan":"Afghanistan","CountryAlbania":"Albania","CountryAlgeria":"Algeria","CountryAndorra":"Andorra","CountryAngola":"Angola","CountryAntiguaandBarbuda":"Antigua e Barbuda","CountryArgentina":"Argentina","CountryArmenia":"Armenia","CountryAustralia":"L'Australia","CountryAustria":"Austria","CountryAzerbaijan":"Azerbaijan","CountryBahamas":"Bahamas","CountryBahrain":"Bahrain","CountryBangladesh":"Bangladesh","CountryBarbados":"Barbados","CountryBelarus":"Bielorussia","CountryBelgium":"Belgio","CountryBelize":"Belize","CountryBenin":"Benin","CountryBhutan":"Bhutan","CountryBolivia":"Bolivia","CountryBosniaHerzegovina":"Bosnia-Erzegovina","CountryBotswana":"Botswana","CountryBrazil":"Brasile","CountryBrunei":"Brunei","CountryBulgaria":"Bulgaria","CountryBurkina":"Burkina Faso","CountryBurundi":"Burundi","CountryCambodia":"Cambogia","CountryCameroon":"Camerun","CountryCanada":"Canada","CountryCapeVerde":"Capo Verde","CountryCentralAfricanRep":"Repubblica Centrafricana","CountryChad":"Ciad","CountryChile":"Cile","CountryChina":"Cina","CountryColombia":"Colombia","CountryComoros":"Comore","CountryCongo":"Congo","CountryCostaRica":"Costa Rica","CountryCroatia":"Croazia","CountryCuba":"Cuba","CountryCyprus":"Cipro","CountryCzechRepublic":"Repubblica Ceca","CountryDenmark":"Danimarca","CountryDjibouti":"Gibuti","CountryDominica":"Dominica","CountryDominicanRepublic":"Repubblica Dominicana","CountryEastTimor":"Timor Est","CountryEcuador":"Ecuador","CountryEgypt":"Egitto","CountryElSalvador":"El Salvador","CountryEquatorialGuinea":"Guinea Equatoriale","CountryEritrea":"Eritrea","CountryEstonia":"Estonia","CountryEthiopia":"Etiopia","CountryFiji":"Fiji","CountryFinland":"Finlandia","CountryFrance":"Francia","CountryGabon":"Gabon","CountryGambia":"Gambia","CountryGeorgia":"Georgia","CountryGermany":"Germania","CountryGhana":"Ghana","CountryGreece":"Grecia","CountryGrenada":"Grenada","CountryGuatemala":"Guatemala","CountryGuinea":"Guinea","CountryGuyana":"Guyana","CountryHaiti":"Haiti","CountryHonduras":"Honduras","CountryHungary":"Ungheria","CountryIceland":"Islanda","CountryIndia":"India","CountryIndonesia":"Indonesia","CountryIran":"Iran","CountryIraq":"Iraq","CountryIreland":"Irlanda","CountryIsrael":"Israele","CountryItaly":"Italia","CountryIvoryCoast":"Costa d'Avorio","CountryJamaica":"Giamaica","CountryJapan":"Giappone","CountryJordan":"Giordania","CountryKazakhstan":"Kazakhstan","CountryKenya":"Kenya","CountryKiribati":"Kiribati","CountryKoreaNorth":"Corea del Nord","CountryKoreaSouth":"Corea del Sud","CountryKosovo":"Kosovo","CountryKuwait":"Kuwait","CountryKyrgyzstan":"Kirghizistan","CountryLaos":"Laos","CountryLatvia":"Lettonia","CountryLebanon":"Libano","CountryLesotho":"Lesotho","CountryLiberia":"Liberia","CountryLibya":"Libia","CountryLiechtenstein":"Liechtenstein","CountryLithuania":"Lituania","CountryLuxembourg":"Lussemburgo","CountryMacedonia":"Macedonia","CountryMadagascar":"Madagascar","CountryMalawi":"Malawi","CountryMalaysia":"Malesia","CountryMaldives":"Maldive","CountryMali":"Mali","CountryMalta":"Malta","CountryMarshallIslands":"Isole Marshall","CountryMauritania":"Mauritania","CountryMauritius":"Mauritius","CountryMexico":"Messico","CountryMicronesia":"Micronesia","CountryMoldova":"Moldova","CountryMonaco":"Monaco","CountryMongolia":"Mongolia","CountryMontenegro":"Montenegro","CountryMorocco":"Marocco","CountryMozambique":"Mozambico","CountryMyanmar":"Myanmar","CountryNamibia":"Namibia","CountryNauru":"Nauru","CountryNepal":"Nepal","CountryNetherlands":"Paesi Bassi","CountryNewZealand":"Nuova Zelanda","CountryNicaragua":"Nicaragua","CountryNiger":"Niger","CountryNigeria":"Nigeria","CountryNorway":"Norvegia","CountryOman":"Oman","CountryPakistan":"Pakistan","CountryPalau":"Palau","CountryPanama":"Panama","CountryPapuaNewGuinea":"Papua Nuova Guinea","CountryParaguay":"Paraguay","CountryPeru":"Perù","CountryPhilippines":"Filippine","CountryPoland":"Polonia","CountryPortugal":"Portogallo","CountryQatar":"Qatar","CountryRomania":"Romania","CountryRussianFederation":"Federazione Russa","CountryRwanda":"Ruanda","CountryStLucia":"St Lucia","CountrySaintVincent":"Saint Vincent e Grenadine","CountrySamoa":"Samoa","CountrySanMarino":"San Marino","CountrySaoTome":"Sao Tome","CountrySaudiArabia":"Arabia Saudita","CountrySenegal":"Senegal","CountrySerbia":"Serbia","CountrySeychelles":"Seychelles","CountrySierraLeone":"Sierra Leone","CountrySingapore":"Singapore","CountrySlovakia":"Slovacchia","CountrySlovenia":"Slovenia","CountrySolomonIslands":"Isole Salomone","CountrySomalia":"Somalia","CountrySouthAfrica":"Sud Africa","CountrySouthSudan":"Sud Sudan","CountrySpain":"Spagna","CountrySriLanka":"Sri Lanka","CountrySudan":"Sudan","CountrySuriname":"Suriname","CountrySwaziland":"Swaziland","CountrySweden":"Svezia","CountrySwitzerland":"Svizzera","CountrySyria":"Siria","CountryTaiwan":"Taiwan","CountryTajikistan":"Tagikistan","CountryTanzania":"Tanzania","CountryThailand":"Tailandia","CountryTogo":"Togo","CountryTonga":"Tonga","CountryTunisia":"Tunisia","CountryTurkey":"Turchia","CountryTurkmenistan":"Turkmenistan","CountryTuvalu":"Tuvalu","CountryUganda":"Uganda","CountryUkraine":"Ucraina","CountryUnitedArabEmirates":"Emirati Arabi Uniti","CountryUnitedKingdom":"Regno Unito","CountryUnitedStates":"Stati Uniti","CountryUruguay":"Uruguay","CountryUzbekistan":"Uzbekistan","CountryVanuatu":"Vanuatu","CountryVaticanCity":"Città del Vaticano","CountryVenezuela":"Venezuela","CountryVietnam":"Vietnam","CountryYemen":"Yemen","CountryZambia":"Zambia","CountryZimbabwe":"Zimbabwe","CountryStKittsNevis":"St. Kitts e Nevis","CountryTrinidadTobago":"Trinidad e Tobago","GenderFemale":"Femminile","GenderMale":"Maschio","GenderNotSpecified":"Sesso","_firstDayOfWeek":"1"}},"maxAge":1800,"serviceUrl":"http:\/\/app.como-services.com\/api\/translate\/mobile.client%2Cmobile.localeFormat\/IT\/2"}],"timestamp":1412590943};
DEBUG = 0
var DeviceDetector=(function(){var d=false,a=null;var g={};g.isDesktop=function(){return d};g.device=function(){return DEVICE};g.layout=function(){return LAYOUT};var h={"(ipad)":{device:deviceTypeEnum.iphone,layout:layoutFormat.wide},"(ipod|iphone)":{device:deviceTypeEnum.iphone,layout:layoutFormat.narrow},"(gt-p1000|mz604|mz606|xoom)":{device:deviceTypeEnum.android,layout:layoutFormat.wide},"(android.+mobile)":{device:deviceTypeEnum.android,layout:layoutFormat.narrow},"(android|Mobile Safari)":{device:deviceTypeEnum.android,layout:layoutFormat.wide},"(windows phone os|iemobile|zunewp7)":{device:deviceTypeEnum.winPhone,layout:layoutFormat.narrow},"(silk|kindle)":{device:deviceTypeEnum.android,layout:layoutFormat.wide,variant:deviceVariantEnum.amazon},"(SCH-I800|NOOK|GT-P7510)":{device:deviceTypeEnum.android,layout:layoutFormat.wide}};var e=function(k){var j=[];for(var l in k){if(k.hasOwnProperty(l)){j.push(l)}}return j};var i=function(k,j){if(j){for(var l in j){k[l]=j[l]}}};var f=function(o){if(!a){a=e(h)}var n=new RegExp(a.join("|"),"i"),k=null;if(n.test(o)){for(var m=0;m<a.length;m++){var p=a[m];var l=new RegExp(p,"i");if(l.test(o)){k=h[p];break}}}if(!k){k={};var j=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(o)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(o.substr(0,4));if(j){k.layout=layoutFormat.narrow}else{k.layout=layoutFormat.wide;d=true}}return k};g.detectDevice=function(){var j=(g.testUserAgent||navigator.userAgent||navigator.vendor||window.opera);return f(j)};var b=function(j,k){if(typeof(j)!=="undefined"){k(j)}};var c=g.detectDevice();if(PREVENT_DEVICE_DETECT||PLATFORM===platformEnum.nativeApp||window!==top){return g}b(c.device,function(j){DEVICE=j});b(c.layout,function(j){LAYOUT=j});b(c.variant,function(j){DEVICE_VARIANT=j});return g}());
(new Image()).src = 'app/interface/web/img/ajax-loader.png';
var WebAppPreloader=(function(){var y={};var e=null,k=null,A=null,b=true,j=false,f=null;var p={background_color:"#222222",splash_timeout:5000};var c=function(B,D){var C;return function(){if(C){return}C=setTimeout(function(){C=null;B.apply(this)},D);B.apply(this)}};var i=function(){return(typeof window.orientation!=="undefined")};var g=function(){var D=window.screen.width;var C=window.screen.height;if(C<D){C=window.screen.width;D=window.screen.height}var B=window.devicePixelRatio;if((window.innerWidth*B===window.screen.width)&&(DEVICE===deviceTypeEnum.android)){C=Math.ceil(C/B);D=Math.ceil(D/B)}return[D,C]};var r=function(){var B=g();if(o()!==0){return[B[1],B[0]]}else{return B}};var l=function(){var D=null;if(typeof WebViewportSizeManager!=="undefined"){D=WebViewportSizeManager.getViewportHeight()}var C=window.innerWidth;var B=D?D:window.innerHeight;if(B<C){B=window.innerWidth;C=window.innerHeight}return[C,B]};var z=function(){var B=l();if(o()!==0){return[B[1],B[0]]}else{return B}};var n=function(){if(i()){return window.orientation}var C=window.innerWidth;var B=window.innerHeight;if(B<C){return 90}return 0};var o=function(){if(LAYOUT===layoutFormat.wide){return 90}else{return 0}};var w=function(){return p.background_color};var d=function(){if(typeof PRELOADER_OPTIONS==="undefined"||typeof PRELOADER_OPTIONS.splash==="undefined"||typeof PRELOADER_OPTIONS.splash.img==="undefined"){return null}var P=PRELOADER_OPTIONS.splash.img;var G=window==top?r():z(),I=G[1]/G[0],N=G[1]*G[0]*window.devicePixelRatio*window.devicePixelRatio,C=null,D=999,J=999999999;var H=/^\d+x\d+$/;for(var F in P){if(!P.hasOwnProperty(F)||!H.test(F)){continue}var L=F.split("x");var B=L[0];var O=L[1];var K=(O/B);var M=Math.abs(I-K);if(M<=D){var E=Math.abs(N-B*O);if(M<D||E<J){D=M;J=E;C=P[F]}}}if(!C){return null}return{path:C,timeout:typeof PRELOADER_OPTIONS.splash.timeout!=="undefined"?PRELOADER_OPTIONS.splash.timeout:p.splash_timeout}};var a=function(C){var G=false;b=false;var E=function(){if(G){return}G=true;b=true;clearTimeout(D);u()};var F=function(){clearTimeout(D);setTimeout(function(){b=true;u()},C.timeout)};var D=setTimeout(E,C.image_load_timeout?C.image_load_timeout:6000);var B=(new Image());B.src=C.path;B.onload=F;B.onerror=E};var m=function(){var C=(window.innerHeight?window.innerHeight:document.documentElement.clientHeight)+"px";var D=(window.innerWidth?window.innerWidth:document.documentElement.clientWidth)+"px";e.style.height=C;e.style.width=D;if(k!=null){var E=z();var F=(o()-n())%180;var B="rotate("+F+"deg)";k.style.display="block";k.style.left=Math.ceil(window.innerWidth/2-E[0]/2)+"px";k.style.top=Math.ceil(window.innerHeight/2-E[1]/2)+"px";k.style.width=E[0]+"px";k.style.height=E[1]+"px";k.style.transform=B;k.style["-ms-transform"]=B;k.style["-webkit-transform"]=B;k.style["-o-transform"]=B;k.style["-moz-transform"]=B}};var q=function(D,B,C){if(D.addEventListener){D.addEventListener(B,C,false)}else{if(D.attachEvent){D.attachEvent("on"+B,C)}}};var x=function(D,B,C){if(D.addEventListener){D.removeEventListener(B,C,false)}else{if(D.detachEvent){D.detachEvent("on"+B,C)}}};var v=function(C){if(!window.addEventListener){return}q(window,"orientationchange",C);q(window,"scroll",C);q(window,"resize",C);var B=t;t=function(){B(C)}};var t=function(B){if(!window.removeEventListener){return}x(window,"orientationchange",B);x(window,"scroll",B);x(window,"resize",B)};var u=function(){if(!j||!b){return}t();if(e){document.body.removeChild(e);e=null}if(k){document.body.removeChild(k);k=null}$("#app").addClass("visible");if(Scrolling){setTimeout(Scrolling.triggerWrapperResize,100)}if(f){f()}};var s=function(){A=d();e=document.createElement("div");e.className="web_preloader";e.style["background-color"]=w();var C=document.createElement("div");C.className="web_preloader_animation spinner";C.innerHTML='<div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div>';var B=document.createElement("p");B.className="web_preloader_caption";B.innerHTML="Loading...";e.appendChild(C);e.appendChild(B);if(A!==null){k=document.createElement("div");k.className="web_preloader_splash";k.style["background-image"]="url("+A.path+")";a(A);document.body.appendChild(k)}document.body.appendChild(e)};y.onAppReady=function(B){f=B;j=true;u()};s();var h=c(m,100);v(m);setTimeout(m,0);return y})();
/*! jQuery v1.11.1 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */
;!function(d,c){"object"==typeof module&&"object"==typeof module.exports?module.exports=d.document?c(d,!0):function(b){if(!b.document){throw new Error("jQuery requires a window with a document")}return c(b)}:c(d)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l="1.11.1",m=function(a,b){return new m.fn.init(a,b)},n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,o=/^-ms-/,p=/-([\da-z])/gi,q=function(a,b){return b.toUpperCase()};m.fn=m.prototype={jquery:l,constructor:m,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=m.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return m.each(this,a,b)},map:function(a){return this.pushStack(m.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},m.extend=m.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||m.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++){if(null!=(e=arguments[h])){for(d in e){a=g[d],c=e[d],g!==c&&(j&&c&&(m.isPlainObject(c)||(b=m.isArray(c)))?(b?(b=!1,f=a&&m.isArray(a)?a:[]):f=a&&m.isPlainObject(a)?a:{},g[d]=m.extend(j,f,c)):void 0!==c&&(g[d]=c))}}}return g},m.extend({expando:"jQuery"+(l+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===m.type(a)},isArray:Array.isArray||function(a){return"array"===m.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return !m.isArray(a)&&a-parseFloat(a)>=0},isEmptyObject:function(a){var b;for(b in a){return !1}return !0},isPlainObject:function(a){var b;if(!a||"object"!==m.type(a)||a.nodeType||m.isWindow(a)){return !1}try{if(a.constructor&&!j.call(a,"constructor")&&!j.call(a.constructor.prototype,"isPrototypeOf")){return !1}}catch(c){return !1}if(k.ownLast){for(b in a){return j.call(a,b)}}for(b in a){}return void 0===b||j.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(b){b&&m.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(o,"ms-").replace(p,q)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=r(a);if(c){if(g){for(;f>e;e++){if(d=b.apply(a[e],c),d===!1){break}}}else{for(e in a){if(d=b.apply(a[e],c),d===!1){break}}}}else{if(g){for(;f>e;e++){if(d=b.call(a[e],e,a[e]),d===!1){break}}}else{for(e in a){if(d=b.call(a[e],e,a[e]),d===!1){break}}}}return a},trim:function(a){return null==a?"":(a+"").replace(n,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(r(Object(a))?m.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g){return g.call(b,a,c)}for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++){if(c in b&&b[c]===a){return c}}}return -1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c>d){a[e++]=b[d++]}if(c!==c){while(void 0!==b[d]){a[e++]=b[d++]}}return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++){d=!b(a[f],f),d!==h&&e.push(a[f])}return e},map:function(a,b,c){var d,f=0,g=a.length,h=r(a),i=[];if(h){for(;g>f;f++){d=b(a[f],f,c),null!=d&&i.push(d)}}else{for(f in a){d=b(a[f],f,c),null!=d&&i.push(d)}}return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(f=a[b],b=a,a=f),m.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||m.guid++,e):void 0},now:function(){return +new Date},support:k}),m.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function r(a){var b=a.length,c=m.type(a);return"function"===c||m.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var s=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+-new Date,v=a.document,w=0,x=0,y=gb(),z=gb(),A=gb(),B=function(a,b){return a===b&&(l=!0),0},C="undefined",D=1<<31,E={}.hasOwnProperty,F=[],G=F.pop,H=F.push,I=F.push,J=F.slice,K=F.indexOf||function(a){for(var b=0,c=this.length;c>b;b++){if(this[b]===a){return b}}return -1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",N="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",O=N.replace("w","w#"),P="\\["+M+"*("+N+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+O+"))|)"+M+"*\\]",Q=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+P+")*)|.*)\\)|)",R=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),S=new RegExp("^"+M+"*,"+M+"*"),T=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp("="+M+"*([^\\]'\"]*?)"+M+"*\\]","g"),V=new RegExp(Q),W=new RegExp("^"+O+"$"),X={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N.replace("w","w*")+")"),ATTR:new RegExp("^"+P),PSEUDO:new RegExp("^"+Q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ab=/[+~]/,bb=/'|\\/g,cb=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),db=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{I.apply(F=J.call(v.childNodes),v.childNodes),F[v.childNodes.length].nodeType}catch(eb){I={apply:F.length?function(a,b){H.apply(a,J.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]){}a.length=c-1}}}function fb(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],!a||"string"!=typeof a){return d}if(1!==(k=b.nodeType)&&9!==k){return[]}if(p&&!e){if(f=_.exec(a)){if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode){return d}if(h.id===j){return d.push(h),d}}else{if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j){return d.push(h),d}}}else{if(f[2]){return I.apply(d,b.getElementsByTagName(a)),d}if((j=f[3])&&c.getElementsByClassName&&b.getElementsByClassName){return I.apply(d,b.getElementsByClassName(j)),d}}}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=9===k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute("id"))?s=r.replace(bb,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--){o[l]=s+qb(o[l])}w=ab.test(a)&&ob(b.parentNode)||b,x=o.join(",")}if(x){try{return I.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}}return i(a.replace(R,"$1"),b,d,e)}function gb(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function hb(a){return a[u]=!0,a}function ib(a){var b=n.createElement("div");try{return !!a(b)}catch(c){return !1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function jb(a,b){var c=a.split("|"),e=a.length;while(e--){d.attrHandle[c[e]]=b}}function kb(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||D)-(~a.sourceIndex||D);if(d){return d}if(c){while(c=c.nextSibling){if(c===b){return -1}}}return a?1:-1}function lb(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function mb(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function nb(a){return hb(function(b){return b=+b,hb(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--){c[e=f[g]]&&(c[e]=!(d[e]=c[e]))}})})}function ob(a){return a&&typeof a.getElementsByTagName!==C&&a}c=fb.support={},f=fb.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=fb.setDocument=function(a){var b,e=a?a.ownerDocument||a:v,g=e.defaultView;return e!==n&&9===e.nodeType&&e.documentElement?(n=e,o=e.documentElement,p=!f(e),g&&g!==g.top&&(g.addEventListener?g.addEventListener("unload",function(){m()},!1):g.attachEvent&&g.attachEvent("onunload",function(){m()})),c.attributes=ib(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ib(function(a){return a.appendChild(e.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(e.getElementsByClassName)&&ib(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),c.getById=ib(function(a){return o.appendChild(a).id=u,!e.getElementsByName||!e.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if(typeof b.getElementById!==C&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){var c=typeof a.getAttributeNode!==C&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==C?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++]){1===c.nodeType&&d.push(c)}return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==C&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(e.querySelectorAll))&&(ib(function(a){a.innerHTML="<select msallowclip=''><option selected=''></option></select>",a.querySelectorAll("[msallowclip^='']").length&&q.push("[*^$]="+M+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+M+"*(?:value|"+L+")"),a.querySelectorAll(":checked").length||q.push(":checked")}),ib(function(a){var b=e.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+M+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ib(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",Q)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b){while(b=b.parentNode){if(b===a){return !0}}}return !1},B=b?function(a,b){if(a===b){return l=!0,0}var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===e||a.ownerDocument===v&&t(v,a)?-1:b===e||b.ownerDocument===v&&t(v,b)?1:k?K.call(k,a)-K.call(k,b):0:4&d?-1:1)}:function(a,b){if(a===b){return l=!0,0}var c,d=0,f=a.parentNode,g=b.parentNode,h=[a],i=[b];if(!f||!g){return a===e?-1:b===e?1:f?-1:g?1:k?K.call(k,a)-K.call(k,b):0}if(f===g){return kb(a,b)}c=a;while(c=c.parentNode){h.unshift(c)}c=b;while(c=c.parentNode){i.unshift(c)}while(h[d]===i[d]){d++}return d?kb(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},e):n},fb.matches=function(a,b){return fb(a,null,null,b)},fb.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b))){try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType){return d}}catch(e){}}return fb(b,n,null,[a]).length>0},fb.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fb.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&E.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fb.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fb.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++]){b===a[f]&&(e=d.push(f))}while(e--){a.splice(d[e],1)}}return k=null,a},e=fb.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent){return a.textContent}for(a=a.firstChild;a;a=a.nextSibling){c+=e(a)}}else{if(3===f||4===f){return a.nodeValue}}}else{while(b=a[d++]){c+=e(b)}}return c},d=fb.selectors={cacheLength:50,createPseudo:hb,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(cb,db),a[3]=(a[3]||a[4]||a[5]||"").replace(cb,db),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fb.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fb.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(cb,db).toLowerCase();return"*"===a?function(){return !0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+M+")"+a+"("+M+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==C&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fb.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return !!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p]){if(h?l.nodeName.toLowerCase()===r:1===l.nodeType){return !1}}o=p="only"===a&&!o&&"nextSibling"}return !0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop()){if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}}else{if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w){m=j[1]}else{while(l=++n&&l&&l[p]||(m=n=0)||o.pop()){if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b)){break}}}}return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fb.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?hb(function(a,c){var d,f=e(a,b),g=f.length;while(g--){d=K.call(a,f[g]),a[d]=!(c[d]=f[g])}}):function(a){return e(a,0,c)}):e}},pseudos:{not:hb(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?hb(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--){(f=g[h])&&(a[h]=!(b[h]=f))}}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:hb(function(a){return function(b){return fb(a,b).length>0}}),contains:hb(function(a){return function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:hb(function(a){return W.test(a||"")||fb.error("unsupported lang: "+a),a=a.replace(cb,db).toLowerCase(),function(b){var c;do{if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang")){return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-")}}while((b=b.parentNode)&&1===b.nodeType);return !1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling){if(a.nodeType<6){return !1}}return !0},parent:function(a){return !d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:nb(function(){return[0]}),last:nb(function(a,b){return[b-1]}),eq:nb(function(a,b,c){return[0>c?c+b:c]}),even:nb(function(a,b){for(var c=0;b>c;c+=2){a.push(c)}return a}),odd:nb(function(a,b){for(var c=1;b>c;c+=2){a.push(c)}return a}),lt:nb(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;){a.push(d)}return a}),gt:nb(function(a,b,c){for(var d=0>c?c+b:c;++d<b;){a.push(d)}return a})}},d.pseudos.nth=d.pseudos.eq;for(b in {radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){d.pseudos[b]=lb(b)}for(b in {submit:!0,reset:!0}){d.pseudos[b]=mb(b)}function pb(){}pb.prototype=d.filters=d.pseudos,d.setFilters=new pb,g=fb.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k){return b?0:k.slice(0)}h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter){!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length))}if(!c){break}}return b?h.length:h?fb.error(a):z(a,i).slice(0)};function qb(a){for(var b=0,c=a.length,d="";c>b;b++){d+=a[b].value}return d}function rb(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d]){if(1===b.nodeType||e){return a(b,c,f)}}}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d]){if((1===b.nodeType||e)&&a(b,c,g)){return !0}}}else{while(b=b[d]){if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f){return j[2]=h[2]}if(i[d]=j,j[2]=a(b,c,g)){return !0}}}}}}function sb(a){return a.length>1?function(b,c,d){var e=a.length;while(e--){if(!a[e](b,c,d)){return !1}}return !0}:a[0]}function tb(a,b,c){for(var d=0,e=b.length;e>d;d++){fb(a,b[d],c)}return c}function ub(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++){(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h))}return g}function vb(a,b,c,d,e,f){return d&&!d[u]&&(d=vb(d)),e&&!e[u]&&(e=vb(e,f)),hb(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||tb(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ub(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ub(r,n),d(j,[],h,i),k=j.length;while(k--){(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}}if(f){if(e||a){if(e){j=[],k=r.length;while(k--){(l=r[k])&&j.push(q[k]=l)}e(null,r=[],j,i)}k=r.length;while(k--){(l=r[k])&&(j=e?K.call(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}}else{r=ub(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):I.apply(g,r)}})}function wb(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=rb(function(a){return a===b},h,!0),l=rb(function(a){return K.call(b,a)>-1},h,!0),m=[function(a,c,d){return !g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d))}];f>i;i++){if(c=d.relative[a[i].type]){m=[rb(sb(m),c)]}else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++){if(d.relative[a[e].type]){break}}return vb(i>1&&sb(m),i>1&&qb(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&wb(a.slice(i,e)),f>e&&wb(a=a.slice(e)),f>e&&qb(a))}m.push(c)}}return sb(m)}function xb(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||0.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++]){if(o(l,g,h)){i.push(l);break}}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++]){o(r,s,g,h)}if(f){if(p>0){while(q--){r[q]||s[q]||(s[q]=G.call(i))}}s=ub(s)}I.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&fb.uniqueSort(i)}return k&&(w=v,j=t),r};return c?hb(f):f}return h=fb.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--){f=wb(b[c]),f[u]?d.push(f):e.push(f)}f=A(a,xb(e,d)),f.selector=a}return f},i=fb.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(cb,db),b)||[])[0],!b){return e}n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type]){break}if((m=d.find[l])&&(f=m(k.matches[0].replace(cb,db),ab.test(j[0].type)&&ob(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qb(j),!a){return I.apply(e,f),e}break}}}return(n||h(a,o))(f,b,!p,e,ab.test(a)&&ob(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ib(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ib(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||jb("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ib(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||jb("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ib(function(a){return null==a.getAttribute("disabled")})||jb(L,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fb}(a);m.find=s,m.expr=s.selectors,m.expr[":"]=m.expr.pseudos,m.unique=s.uniqueSort,m.text=s.getText,m.isXMLDoc=s.isXML,m.contains=s.contains;var t=m.expr.match.needsContext,u=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,v=/^.[^:#\[\.,]*$/;function w(a,b,c){if(m.isFunction(b)){return m.grep(a,function(a,d){return !!b.call(a,d,a)!==c})}if(b.nodeType){return m.grep(a,function(a){return a===b!==c})}if("string"==typeof b){if(v.test(b)){return m.filter(b,a,c)}b=m.filter(b,a)}return m.grep(a,function(a){return m.inArray(a,b)>=0!==c})}m.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?m.find.matchesSelector(d,a)?[d]:[]:m.find.matches(a,m.grep(b,function(a){return 1===a.nodeType}))},m.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a){return this.pushStack(m(a).filter(function(){for(b=0;e>b;b++){if(m.contains(d[b],this)){return !0}}}))}for(b=0;e>b;b++){m.find(a,d[b],c)}return c=this.pushStack(e>1?m.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(w(this,a||[],!1))},not:function(a){return this.pushStack(w(this,a||[],!0))},is:function(a){return !!w(this,"string"==typeof a&&t.test(a)?m(a):a||[],!1).length}});var x,y=a.document,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=m.fn.init=function(a,b){var c,d;if(!a){return this}if("string"==typeof a){if(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b){return !b||b.jquery?(b||x).find(a):this.constructor(b).find(a)}if(c[1]){if(b=b instanceof m?b[0]:b,m.merge(this,m.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:y,!0)),u.test(c[1])&&m.isPlainObject(b)){for(c in b){m.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c])}}return this}if(d=y.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2]){return x.find(a)}this.length=1,this[0]=d}return this.context=y,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):m.isFunction(a)?"undefined"!=typeof x.ready?x.ready(a):a(m):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),m.makeArray(a,this))};A.prototype=m.fn,x=m(y);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};m.extend({dir:function(a,b,c){var d=[],e=a[b];while(e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!m(e).is(c))){1===e.nodeType&&d.push(e),e=e[b]}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling){1===a.nodeType&&a!==b&&c.push(a)}return c}}),m.fn.extend({has:function(a){var b,c=m(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++){if(m.contains(this,c[b])){return !0}}})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=t.test(a)||"string"!=typeof a?m(a,b||this.context):0;e>d;d++){for(c=this[d];c&&c!==b;c=c.parentNode){if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&m.find.matchesSelector(c,a))){f.push(c);break}}}return this.pushStack(f.length>1?m.unique(f):f)},index:function(a){return a?"string"==typeof a?m.inArray(this[0],m(a)):m.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(m.unique(m.merge(this.get(),m(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){do{a=a[b]}while(a&&1!==a.nodeType);return a}m.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return m.dir(a,"parentNode")},parentsUntil:function(a,b,c){return m.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return m.dir(a,"nextSibling")},prevAll:function(a){return m.dir(a,"previousSibling")},nextUntil:function(a,b,c){return m.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return m.dir(a,"previousSibling",c)},siblings:function(a){return m.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return m.sibling(a.firstChild)},contents:function(a){return m.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:m.merge([],a.childNodes)}},function(a,b){m.fn[a]=function(c,d){var e=m.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=m.filter(d,e)),this.length>1&&(C[a]||(e=m.unique(e)),B.test(a)&&(e=e.reverse())),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return m.each(a.match(E)||[],function(a,c){b[c]=!0}),b}m.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):m.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(c=a.memory&&l,d=!0,f=g||0,g=0,e=h.length,b=!0;h&&e>f;f++){if(h[f].apply(l[0],l[1])===!1&&a.stopOnFalse){c=!1;break}}b=!1,h&&(i?i.length&&j(i.shift()):c?h=[]:k.disable())},k={add:function(){if(h){var d=h.length;!function f(b){m.each(b,function(b,c){var d=m.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),b?e=h.length:c&&(g=d,j(c))}return this},remove:function(){return h&&m.each(arguments,function(a,c){var d;while((d=m.inArray(c,h,d))>-1){h.splice(d,1),b&&(e>=d&&e--,f>=d&&f--)}}),this},has:function(a){return a?m.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],e=0,this},disable:function(){return h=i=c=void 0,this},disabled:function(){return !h},lock:function(){return i=void 0,c||k.disable(),this},locked:function(){return !i},fireWith:function(a,c){return !h||d&&!i||(c=c||[],c=[a,c.slice?c.slice():c],b?i.push(c):j(c)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return !!d}};return k},m.extend({Deferred:function(a){var b=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return m.Deferred(function(c){m.each(b,function(b,f){var g=m.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&m.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?m.extend(a,d):d}},e={};return d.pipe=d.then,m.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&m.isFunction(a.promise)?e:0,g=1===f?a:m.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1){for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++){c[b]&&m.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f}}return f||g.resolveWith(k,c),g.promise()}});var H;m.fn.ready=function(a){return m.ready.promise().done(a),this},m.extend({isReady:!1,readyWait:1,holdReady:function(a){a?m.readyWait++:m.ready(!0)},ready:function(a){if(a===!0?!--m.readyWait:!m.isReady){if(!y.body){return setTimeout(m.ready)}m.isReady=!0,a!==!0&&--m.readyWait>0||(H.resolveWith(y,[m]),m.fn.triggerHandler&&(m(y).triggerHandler("ready"),m(y).off("ready")))}}});function I(){y.addEventListener?(y.removeEventListener("DOMContentLoaded",J,!1),a.removeEventListener("load",J,!1)):(y.detachEvent("onreadystatechange",J),a.detachEvent("onload",J))}function J(){(y.addEventListener||"load"===event.type||"complete"===y.readyState)&&(I(),m.ready())}m.ready.promise=function(b){if(!H){if(H=m.Deferred(),"complete"===y.readyState){setTimeout(m.ready)}else{if(y.addEventListener){y.addEventListener("DOMContentLoaded",J,!1),a.addEventListener("load",J,!1)}else{y.attachEvent("onreadystatechange",J),a.attachEvent("onload",J);var c=!1;try{c=null==a.frameElement&&y.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!m.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}I(),m.ready()}}()}}}return H.promise(b)};var K="undefined",L;for(L in m(k)){break}k.ownLast="0"!==L,k.inlineBlockNeedsLayout=!1,m(function(){var a,b,c,d;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",k.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(d))}),function(){var a=y.createElement("div");if(null==k.deleteExpando){k.deleteExpando=!0;try{delete a.test}catch(b){k.deleteExpando=!1}}a=null}(),m.acceptData=function(a){var b=m.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b};var M=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,N=/([A-Z])/g;function O(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(N,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:M.test(c)?m.parseJSON(c):c}catch(e){}m.data(a,b,c)}else{c=void 0}}return c}function P(a){var b;for(b in a){if(("data"!==b||!m.isEmptyObject(a[b]))&&"toJSON"!==b){return !1}}return !0}function Q(a,b,d,e){if(m.acceptData(a)){var f,g,h=m.expando,i=a.nodeType,j=i?m.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||void 0!==d||"string"!=typeof b){return k||(k=i?a[h]=c.pop()||m.guid++:h),j[k]||(j[k]=i?{}:{toJSON:m.noop}),("object"==typeof b||"function"==typeof b)&&(e?j[k]=m.extend(j[k],b):j[k].data=m.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[m.camelCase(b)]=d),"string"==typeof b?(f=g[b],null==f&&(f=g[m.camelCase(b)])):f=g,f}}}function R(a,b,c){if(m.acceptData(a)){var d,e,f=a.nodeType,g=f?m.cache:a,h=f?a[m.expando]:m.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){m.isArray(b)?b=b.concat(m.map(b,m.camelCase)):b in d?b=[b]:(b=m.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;while(e--){delete d[b[e]]}if(c?!P(d):!m.isEmptyObject(d)){return}}(c||(delete g[h].data,P(g[h])))&&(f?m.cleanData([a],!0):k.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}m.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?m.cache[a[m.expando]]:a[m.expando],!!a&&!P(a)},data:function(a,b,c){return Q(a,b,c)},removeData:function(a,b){return R(a,b)},_data:function(a,b,c){return Q(a,b,c,!0)},_removeData:function(a,b){return R(a,b,!0)}}),m.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=m.data(f),1===f.nodeType&&!m._data(f,"parsedAttrs"))){c=g.length;while(c--){g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=m.camelCase(d.slice(5)),O(f,d,e[d])))}m._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){m.data(this,a)}):arguments.length>1?this.each(function(){m.data(this,a,b)}):f?O(f,a,m.data(f,a)):void 0},removeData:function(a){return this.each(function(){m.removeData(this,a)})}}),m.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=m._data(a,b),c&&(!d||m.isArray(c)?d=m._data(a,b,m.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=m.queue(a,b),d=c.length,e=c.shift(),f=m._queueHooks(a,b),g=function(){m.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return m._data(a,c)||m._data(a,c,{empty:m.Callbacks("once memory").add(function(){m._removeData(a,b+"queue"),m._removeData(a,c)})})}}),m.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?m.queue(this[0],a):void 0===b?this:this.each(function(){var c=m.queue(this,a,b);m._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&m.dequeue(this,a)})},dequeue:function(a){return this.each(function(){m.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=m.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--){c=m._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h))}return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=["Top","Right","Bottom","Left"],U=function(a,b){return a=b||a,"none"===m.css(a,"display")||!m.contains(a.ownerDocument,a)},V=m.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===m.type(c)){e=!0;for(h in c){m.access(a,b,h,c[h],!0,f,g)}}else{if(void 0!==d&&(e=!0,m.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(m(a),c)})),b)){for(;i>h;h++){b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)))}}}return e?a:j?b.call(a):i?b(a[0],c):f},W=/^(?:checkbox|radio)$/i;!function(){var a=y.createElement("input"),b=y.createElement("div"),c=y.createDocumentFragment();if(b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",k.leadingWhitespace=3===b.firstChild.nodeType,k.tbody=!b.getElementsByTagName("tbody").length,k.htmlSerialize=!!b.getElementsByTagName("link").length,k.html5Clone="<:nav></:nav>"!==y.createElement("nav").cloneNode(!0).outerHTML,a.type="checkbox",a.checked=!0,c.appendChild(a),k.appendChecked=a.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,c.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,k.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){k.noCloneEvent=!1}),b.cloneNode(!0).click()),null==k.deleteExpando){k.deleteExpando=!0;try{delete b.test}catch(d){k.deleteExpando=!1}}}(),function(){var b,c,d=y.createElement("div");for(b in {submit:!0,change:!0,focusin:!0}){c="on"+b,(k[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),k[b+"Bubbles"]=d.attributes[c].expando===!1)}d=null}();var X=/^(?:input|select|textarea)$/i,Y=/^key/,Z=/^(?:mouse|pointer|contextmenu)|click/,$=/^(?:focusinfocus|focusoutblur)$/,_=/^([^.]*)(?:\.(.+)|)$/;function ab(){return !0}function bb(){return !1}function cb(){try{return y.activeElement}catch(a){}}m.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m._data(a);if(r){c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=m.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return typeof m===K||a&&m.event.triggered===a.type?void 0:m.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(E)||[""],h=b.length;while(h--){f=_.exec(b[h])||[],o=q=f[1],p=(f[2]||"").split(".").sort(),o&&(j=m.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=m.event.special[o]||{},l=m.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&m.expr.match.needsContext.test(e),namespace:p.join(".")},i),(n=g[o])||(n=g[o]=[],n.delegateCount=0,j.setup&&j.setup.call(a,d,p,k)!==!1||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent("on"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?n.splice(n.delegateCount++,0,l):n.push(l),m.event.global[o]=!0)}a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m.hasData(a)&&m._data(a);if(r&&(k=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--){if(h=_.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=m.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,n=k[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=n.length;while(f--){g=n[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(n.splice(f,1),g.selector&&n.delegateCount--,l.remove&&l.remove.call(a,g))}i&&!n.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||m.removeEvent(a,o,r.handle),delete k[o])}else{for(o in k){m.event.remove(a,o+b[j],c,d,!0)}}}m.isEmptyObject(k)&&(delete r.handle,m._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,l,n,o=[d||y],p=j.call(b,"type")?b.type:b,q=j.call(b,"namespace")?b.namespace.split("."):[];if(h=l=d=d||y,3!==d.nodeType&&8!==d.nodeType&&!$.test(p+m.event.triggered)&&(p.indexOf(".")>=0&&(q=p.split("."),p=q.shift(),q.sort()),g=p.indexOf(":")<0&&"on"+p,b=b[m.expando]?b:new m.Event(p,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=q.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:m.makeArray(c,[b]),k=m.event.special[p]||{},e||!k.trigger||k.trigger.apply(d,c)!==!1)){if(!e&&!k.noBubble&&!m.isWindow(d)){for(i=k.delegateType||p,$.test(i+p)||(h=h.parentNode);h;h=h.parentNode){o.push(h),l=h}l===(d.ownerDocument||y)&&o.push(l.defaultView||l.parentWindow||a)}n=0;while((h=o[n++])&&!b.isPropagationStopped()){b.type=n>1?i:k.bindType||p,f=(m._data(h,"events")||{})[b.type]&&m._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&m.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault())}if(b.type=p,!e&&!b.isDefaultPrevented()&&(!k._default||k._default.apply(o.pop(),c)===!1)&&m.acceptData(d)&&g&&d[p]&&!m.isWindow(d)){l=d[g],l&&(d[g]=null),m.event.triggered=p;try{d[p]()}catch(r){}m.event.triggered=void 0,l&&(d[g]=l)}return b.result}},dispatch:function(a){a=m.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(m._data(this,"events")||{})[a.type]||[],k=m.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=m.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,g=0;while((e=f.handlers[g++])&&!a.isImmediatePropagationStopped()){(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,c=((m.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()))}}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type)){for(;i!=this;i=i.parentNode||this){if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(e=[],f=0;h>f;f++){d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?m(c,this).index(i)>=0:m.find(c,this,null,[i]).length),e[c]&&e.push(d)}e.length&&g.push({elem:i,handlers:e})}}}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[m.expando]){return a}var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=Z.test(e)?this.mouseHooks:Y.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new m.Event(f),b=d.length;while(b--){c=d[b],a[c]=f[c]}return a.target||(a.target=f.srcElement||y),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||y,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==cb()&&this.focus){try{return this.focus(),!1}catch(a){}}},delegateType:"focusin"},blur:{trigger:function(){return this===cb()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return m.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return m.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=m.extend(new m.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?m.event.trigger(e,null,b):m.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},m.removeEvent=y.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===K&&(a[d]=null),a.detachEvent(d,c))},m.Event=function(a,b){return this instanceof m.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ab:bb):this.type=a,b&&m.extend(this,b),this.timeStamp=a&&a.timeStamp||m.now(),void (this[m.expando]=!0)):new m.Event(a,b)},m.Event.prototype={isDefaultPrevented:bb,isPropagationStopped:bb,isImmediatePropagationStopped:bb,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ab,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ab,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ab,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){m.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!m.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.submitBubbles||(m.event.special.submit={setup:function(){return m.nodeName(this,"form")?!1:void m.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=m.nodeName(b,"input")||m.nodeName(b,"button")?b.form:void 0;c&&!m._data(c,"submitBubbles")&&(m.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),m._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&m.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return m.nodeName(this,"form")?!1:void m.event.remove(this,"._submit")}}),k.changeBubbles||(m.event.special.change={setup:function(){return X.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(m.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),m.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),m.event.simulate("change",this,a,!0)})),!1):void m.event.add(this,"beforeactivate._change",function(a){var b=a.target;X.test(b.nodeName)&&!m._data(b,"changeBubbles")&&(m.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||m.event.simulate("change",this.parentNode,a,!0)}),m._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return m.event.remove(this,"._change"),!X.test(this.nodeName)}}),k.focusinBubbles||m.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){m.event.simulate(b,a.target,m.event.fix(a),!0)};m.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=m._data(d,b);e||d.addEventListener(a,c,!0),m._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=m._data(d,b)-1;e?m._data(d,b,e):(d.removeEventListener(a,c,!0),m._removeData(d,b))}}}),m.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a){this.on(f,b,c,a[f],e)}return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1){d=bb}else{if(!d){return this}}return 1===e&&(g=d,d=function(a){return m().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=m.guid++)),this.each(function(){m.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj){return d=a.handleObj,m(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this}if("object"==typeof a){for(e in a){this.off(e,b,a[e])}return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=bb),this.each(function(){m.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){m.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?m.event.trigger(a,b,c,!0):void 0}});function db(a){var b=eb.split("|"),c=a.createDocumentFragment();if(c.createElement){while(b.length){c.createElement(b.pop())}}return c}var eb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",fb=/ jQuery\d+="(?:null|\d+)"/g,gb=new RegExp("<(?:"+eb+")[\\s/>]","i"),hb=/^\s+/,ib=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,jb=/<([\w:]+)/,kb=/<tbody/i,lb=/<|&#?\w+;/,mb=/<(?:script|style|link)/i,nb=/checked\s*(?:[^=]|=\s*.checked.)/i,ob=/^$|\/(?:java|ecma)script/i,pb=/^true\/(.*)/,qb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,rb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:k.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},sb=db(y),tb=sb.appendChild(y.createElement("div"));rb.optgroup=rb.option,rb.tbody=rb.tfoot=rb.colgroup=rb.caption=rb.thead,rb.th=rb.td;function ub(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==K?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==K?a.querySelectorAll(b||"*"):void 0;if(!f){for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++){!b||m.nodeName(d,b)?f.push(d):m.merge(f,ub(d,b))}}return void 0===b||b&&m.nodeName(a,b)?m.merge([a],f):f}function vb(a){W.test(a.type)&&(a.defaultChecked=a.checked)}function wb(a,b){return m.nodeName(a,"table")&&m.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function xb(a){return a.type=(null!==m.find.attr(a,"type"))+"/"+a.type,a}function yb(a){var b=pb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function zb(a,b){for(var c,d=0;null!=(c=a[d]);d++){m._data(c,"globalEval",!b||m._data(b[d],"globalEval"))}}function Ab(a,b){if(1===b.nodeType&&m.hasData(a)){var c,d,e,f=m._data(a),g=m._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h){for(d=0,e=h[c].length;e>d;d++){m.event.add(b,c,h[c][d])}}}g.data&&(g.data=m.extend({},g.data))}}function Bb(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!k.noCloneEvent&&b[m.expando]){e=m._data(b);for(d in e.events){m.removeEvent(b,d,e.handle)}b.removeAttribute(m.expando)}"script"===c&&b.text!==a.text?(xb(b).text=a.text,yb(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),k.html5Clone&&a.innerHTML&&!m.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&W.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}m.extend({clone:function(a,b,c){var d,e,f,g,h,i=m.contains(a.ownerDocument,a);if(k.html5Clone||m.isXMLDoc(a)||!gb.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(tb.innerHTML=a.outerHTML,tb.removeChild(f=tb.firstChild)),!(k.noCloneEvent&&k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||m.isXMLDoc(a))){for(d=ub(f),h=ub(a),g=0;null!=(e=h[g]);++g){d[g]&&Bb(e,d[g])}}if(b){if(c){for(h=h||ub(a),d=d||ub(f),g=0;null!=(e=h[g]);g++){Ab(e,d[g])}}else{Ab(a,f)}}return d=ub(f,"script"),d.length>0&&zb(d,!i&&ub(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,l,n=a.length,o=db(b),p=[],q=0;n>q;q++){if(f=a[q],f||0===f){if("object"===m.type(f)){m.merge(p,f.nodeType?[f]:f)}else{if(lb.test(f)){h=h||o.appendChild(b.createElement("div")),i=(jb.exec(f)||["",""])[1].toLowerCase(),l=rb[i]||rb._default,h.innerHTML=l[1]+f.replace(ib,"<$1></$2>")+l[2],e=l[0];while(e--){h=h.lastChild}if(!k.leadingWhitespace&&hb.test(f)&&p.push(b.createTextNode(hb.exec(f)[0])),!k.tbody){f="table"!==i||kb.test(f)?"<table>"!==l[1]||kb.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;while(e--){m.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j)}}m.merge(p,h.childNodes),h.textContent="";while(h.firstChild){h.removeChild(h.firstChild)}h=o.lastChild}else{p.push(b.createTextNode(f))}}}}h&&o.removeChild(h),k.appendChecked||m.grep(ub(p,"input"),vb),q=0;while(f=p[q++]){if((!d||-1===m.inArray(f,d))&&(g=m.contains(f.ownerDocument,f),h=ub(o.appendChild(f),"script"),g&&zb(h),c)){e=0;while(f=h[e++]){ob.test(f.type||"")&&c.push(f)}}}return h=null,o},cleanData:function(a,b){for(var d,e,f,g,h=0,i=m.expando,j=m.cache,l=k.deleteExpando,n=m.event.special;null!=(d=a[h]);h++){if((b||m.acceptData(d))&&(f=d[i],g=f&&j[f])){if(g.events){for(e in g.events){n[e]?m.event.remove(d,e):m.removeEvent(d,e,g.handle)}}j[f]&&(delete j[f],l?delete d[i]:typeof d.removeAttribute!==K?d.removeAttribute(i):d[i]=null,c.push(f))}}}}),m.fn.extend({text:function(a){return V(this,function(a){return void 0===a?m.text(this):this.empty().append((this[0]&&this[0].ownerDocument||y).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wb(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?m.filter(a,this):this,e=0;null!=(c=d[e]);e++){b||1!==c.nodeType||m.cleanData(ub(c)),c.parentNode&&(b&&m.contains(c.ownerDocument,c)&&zb(ub(c,"script")),c.parentNode.removeChild(c))}return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&m.cleanData(ub(a,!1));while(a.firstChild){a.removeChild(a.firstChild)}a.options&&m.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return m.clone(this,a,b)})},html:function(a){return V(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a){return 1===b.nodeType?b.innerHTML.replace(fb,""):void 0}if(!("string"!=typeof a||mb.test(a)||!k.htmlSerialize&&gb.test(a)||!k.leadingWhitespace&&hb.test(a)||rb[(jb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(ib,"<$1></$2>");try{for(;d>c;c++){b=this[c]||{},1===b.nodeType&&(m.cleanData(ub(b,!1)),b.innerHTML=a)}b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,m.cleanData(ub(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,n=this,o=l-1,p=a[0],q=m.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&nb.test(p)){return this.each(function(c){var d=n.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)})}if(l&&(i=m.buildFragment(a,this[0].ownerDocument,!1,this),c=i.firstChild,1===i.childNodes.length&&(i=c),c)){for(g=m.map(ub(i,"script"),xb),f=g.length;l>j;j++){d=i,j!==o&&(d=m.clone(d,!0,!0),f&&m.merge(g,ub(d,"script"))),b.call(this[j],d,j)}if(f){for(h=g[g.length-1].ownerDocument,m.map(g,yb),j=0;f>j;j++){d=g[j],ob.test(d.type||"")&&!m._data(d,"globalEval")&&m.contains(h,d)&&(d.src?m._evalUrl&&m._evalUrl(d.src):m.globalEval((d.text||d.textContent||d.innerHTML||"").replace(qb,"")))}}i=c=null}return this}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){m.fn[a]=function(a){for(var c,d=0,e=[],g=m(a),h=g.length-1;h>=d;d++){c=d===h?this:this.clone(!0),m(g[d])[b](c),f.apply(e,c.get())}return this.pushStack(e)}});var Cb,Db={};function Eb(b,c){var d,e=m(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:m.css(e[0],"display");return e.detach(),f}function Fb(a){var b=y,c=Db[a];return c||(c=Eb(a,b),"none"!==c&&c||(Cb=(Cb||m("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(Cb[0].contentWindow||Cb[0].contentDocument).document,b.write(),b.close(),c=Eb(a,b),Cb.detach()),Db[a]=c),c}!function(){var a;k.shrinkWrapBlocks=function(){if(null!=a){return a}a=!1;var b,c,d;return c=y.getElementsByTagName("body")[0],c&&c.style?(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(y.createElement("div")).style.width="5px",a=3!==b.offsetWidth),c.removeChild(d),a):void 0}}();var Gb=/^margin/,Hb=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ib,Jb,Kb=/^(top|right|bottom|left)$/;a.getComputedStyle?(Ib=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)},Jb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ib(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||m.contains(a.ownerDocument,a)||(g=m.style(a,b)),Hb.test(g)&&Gb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):y.documentElement.currentStyle&&(Ib=function(a){return a.currentStyle},Jb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ib(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),Hb.test(g)&&!Kb.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"});function Lb(a,b){return{get:function(){var c=a();if(null!=c){return c?void delete this.get:(this.get=b).apply(this,arguments)}}}}!function(){var b,c,d,e,f,g,h;if(b=y.createElement("div"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=d&&d.style){c.cssText="float:left;opacity:.5",k.opacity="0.5"===c.opacity,k.cssFloat=!!c.cssFloat,b.style.backgroundClip="content-box",b.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===b.style.backgroundClip,k.boxSizing=""===c.boxSizing||""===c.MozBoxSizing||""===c.WebkitBoxSizing,m.extend(k,{reliableHiddenOffsets:function(){return null==g&&i(),g},boxSizingReliable:function(){return null==f&&i(),f},pixelPosition:function(){return null==e&&i(),e},reliableMarginRight:function(){return null==h&&i(),h}});function i(){var b,c,d,i;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),b.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",e=f=!1,h=!0,a.getComputedStyle&&(e="1%"!==(a.getComputedStyle(b,null)||{}).top,f="4px"===(a.getComputedStyle(b,null)||{width:"4px"}).width,i=b.appendChild(y.createElement("div")),i.style.cssText=b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",b.style.width="1px",h=!parseFloat((a.getComputedStyle(i,null)||{}).marginRight)),b.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=b.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",g=0===i[0].offsetHeight,g&&(i[0].style.display="",i[1].style.display="none",g=0===i[0].offsetHeight),c.removeChild(d))}}}(),m.swap=function(a,b,c,d){var e,f,g={};for(f in b){g[f]=a.style[f],a.style[f]=b[f]}e=c.apply(a,d||[]);for(f in b){a.style[f]=g[f]}return e};var Mb=/alpha\([^)]*\)/i,Nb=/opacity\s*=\s*([^)]*)/,Ob=/^(none|table(?!-c[ea]).+)/,Pb=new RegExp("^("+S+")(.*)$","i"),Qb=new RegExp("^([+-])=("+S+")","i"),Rb={position:"absolute",visibility:"hidden",display:"block"},Sb={letterSpacing:"0",fontWeight:"400"},Tb=["Webkit","O","Moz","ms"];function Ub(a,b){if(b in a){return b}var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=Tb.length;while(e--){if(b=Tb[e]+c,b in a){return b}}return d}function Vb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++){d=a[g],d.style&&(f[g]=m._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&U(d)&&(f[g]=m._data(d,"olddisplay",Fb(d.nodeName)))):(e=U(d),(c&&"none"!==c||!e)&&m._data(d,"olddisplay",e?c:m.css(d,"display"))))}for(g=0;h>g;g++){d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"))}return a}function Wb(a,b,c){var d=Pb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Xb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2){"margin"===c&&(g+=m.css(a,c+T[f],!0,e)),d?("content"===c&&(g-=m.css(a,"padding"+T[f],!0,e)),"margin"!==c&&(g-=m.css(a,"border"+T[f]+"Width",!0,e))):(g+=m.css(a,"padding"+T[f],!0,e),"padding"!==c&&(g+=m.css(a,"border"+T[f]+"Width",!0,e)))}return g}function Yb(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ib(a),g=k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Jb(a,b,f),(0>e||null==e)&&(e=a.style[b]),Hb.test(e)){return e}d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Xb(a,b,c||(g?"border":"content"),d,f)+"px"}m.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Jb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":k.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=m.camelCase(b),i=a.style;if(b=m.cssProps[h]||(m.cssProps[h]=Ub(i,h)),g=m.cssHooks[b]||m.cssHooks[h],void 0===c){return g&&"get" in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]}if(f=typeof c,"string"===f&&(e=Qb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(m.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||m.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set" in g&&void 0===(c=g.set(a,c,d))))){try{i[b]=c}catch(j){}}}},css:function(a,b,c,d){var e,f,g,h=m.camelCase(b);return b=m.cssProps[h]||(m.cssProps[h]=Ub(a.style,h)),g=m.cssHooks[b]||m.cssHooks[h],g&&"get" in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Jb(a,b,d)),"normal"===f&&b in Sb&&(f=Sb[b]),""===c||c?(e=parseFloat(f),c===!0||m.isNumeric(e)?e||0:f):f}}),m.each(["height","width"],function(a,b){m.cssHooks[b]={get:function(a,c,d){return c?Ob.test(m.css(a,"display"))&&0===a.offsetWidth?m.swap(a,Rb,function(){return Yb(a,b,d)}):Yb(a,b,d):void 0},set:function(a,c,d){var e=d&&Ib(a);return Wb(a,c,d?Xb(a,b,d,k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,e),e):0)}}}),k.opacity||(m.cssHooks.opacity={get:function(a,b){return Nb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=m.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===m.trim(f.replace(Mb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=Mb.test(f)?f.replace(Mb,e):f+" "+e)}}),m.cssHooks.marginRight=Lb(k.reliableMarginRight,function(a,b){return b?m.swap(a,{display:"inline-block"},Jb,[a,"marginRight"]):void 0}),m.each({margin:"",padding:"",border:"Width"},function(a,b){m.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++){e[a+T[d]+b]=f[d]||f[d-2]||f[0]}return e}},Gb.test(a)||(m.cssHooks[a+b].set=Wb)}),m.fn.extend({css:function(a,b){return V(this,function(a,b,c){var d,e,f={},g=0;if(m.isArray(b)){for(d=Ib(a),e=b.length;e>g;g++){f[b[g]]=m.css(a,b[g],!1,d)}return f}return void 0!==c?m.style(a,b,c):m.css(a,b)},a,b,arguments.length>1)},show:function(){return Vb(this,!0)},hide:function(){return Vb(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){U(this)?m(this).show():m(this).hide()})}});function Zb(a,b,c,d,e){return new Zb.prototype.init(a,b,c,d,e)}m.Tween=Zb,Zb.prototype={constructor:Zb,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(m.cssNumber[c]?"":"px")},cur:function(){var a=Zb.propHooks[this.prop];return a&&a.get?a.get(this):Zb.propHooks._default.get(this)},run:function(a){var b,c=Zb.propHooks[this.prop];return this.pos=b=this.options.duration?m.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Zb.propHooks._default.set(this),this}},Zb.prototype.init.prototype=Zb.prototype,Zb.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=m.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){m.fx.step[a.prop]?m.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[m.cssProps[a.prop]]||m.cssHooks[a.prop])?m.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Zb.propHooks.scrollTop=Zb.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},m.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}},m.fx=Zb.prototype.init,m.fx.step={};var $b,_b,ac=/^(?:toggle|show|hide)$/,bc=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),cc=/queueHooks$/,dc=[ic],ec={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=bc.exec(b),f=e&&e[3]||(m.cssNumber[a]?"":"px"),g=(m.cssNumber[a]||"px"!==f&&+d)&&bc.exec(m.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do{h=h||".5",g/=h,m.style(c.elem,a,g+f)}while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function fc(){return setTimeout(function(){$b=void 0}),$b=m.now()}function gc(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b){c=T[e],d["margin"+c]=d["padding"+c]=a}return b&&(d.opacity=d.width=a),d}function hc(a,b,c){for(var d,e=(ec[b]||[]).concat(ec["*"]),f=0,g=e.length;g>f;f++){if(d=e[f].call(c,b,a)){return d}}}function ic(a,b,c){var d,e,f,g,h,i,j,l,n=this,o={},p=a.style,q=a.nodeType&&U(a),r=m._data(a,"fxshow");c.queue||(h=m._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,n.always(function(){n.always(function(){h.unqueued--,m.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height" in b||"width" in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=m.css(a,"display"),l="none"===j?m._data(a,"olddisplay")||Fb(a.nodeName):j,"inline"===l&&"none"===m.css(a,"float")&&(k.inlineBlockNeedsLayout&&"inline"!==Fb(a.nodeName)?p.zoom=1:p.display="inline-block")),c.overflow&&(p.overflow="hidden",k.shrinkWrapBlocks()||n.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]}));for(d in b){if(e=b[d],ac.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(q?"hide":"show")){if("show"!==e||!r||void 0===r[d]){continue}q=!0}o[d]=r&&r[d]||m.style(a,d)}else{j=void 0}}if(m.isEmptyObject(o)){"inline"===("none"===j?Fb(a.nodeName):j)&&(p.display=j)}else{r?"hidden" in r&&(q=r.hidden):r=m._data(a,"fxshow",{}),f&&(r.hidden=!q),q?m(a).show():n.done(function(){m(a).hide()}),n.done(function(){var b;m._removeData(a,"fxshow");for(b in o){m.style(a,b,o[b])}});for(d in o){g=hc(q?r[d]:0,d,n),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}}function jc(a,b){var c,d,e,f,g;for(c in a){if(d=m.camelCase(c),e=b[d],f=a[c],m.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=m.cssHooks[d],g&&"expand" in g){f=g.expand(f),delete a[d];for(c in f){c in a||(a[c]=f[c],b[c]=e)}}else{b[d]=e}}}function kc(a,b,c){var d,e,f=0,g=dc.length,h=m.Deferred().always(function(){delete i.elem}),i=function(){if(e){return !1}for(var b=$b||fc(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++){j.tweens[g].run(f)}return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:m.extend({},b),opts:m.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:$b||fc(),duration:c.duration,tweens:[],createTween:function(b,c){var d=m.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e){return this}for(e=!0;d>c;c++){j.tweens[c].run(1)}return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(jc(k,j.opts.specialEasing);g>f;f++){if(d=dc[f].call(j,a,k,j.opts)){return d}}return m.map(k,hc,j),m.isFunction(j.opts.start)&&j.opts.start.call(a,j),m.fx.timer(m.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}m.Animation=m.extend(kc,{tweener:function(a,b){m.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++){c=a[d],ec[c]=ec[c]||[],ec[c].unshift(b)}},prefilter:function(a,b){b?dc.unshift(a):dc.push(a)}}),m.speed=function(a,b,c){var d=a&&"object"==typeof a?m.extend({},a):{complete:c||!c&&b||m.isFunction(a)&&a,duration:a,easing:c&&b||b&&!m.isFunction(b)&&b};return d.duration=m.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in m.fx.speeds?m.fx.speeds[d.duration]:m.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){m.isFunction(d.old)&&d.old.call(this),d.queue&&m.dequeue(this,d.queue)},d},m.fn.extend({fadeTo:function(a,b,c,d){return this.filter(U).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=m.isEmptyObject(a),f=m.speed(b,c,d),g=function(){var b=kc(this,m.extend({},a),f);(e||m._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=m.timers,g=m._data(this);if(e){g[e]&&g[e].stop&&d(g[e])}else{for(e in g){g[e]&&g[e].stop&&cc.test(e)&&d(g[e])}}for(e=f.length;e--;){f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1))}(b||!c)&&m.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=m._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=m.timers,g=d?d.length:0;for(c.finish=!0,m.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;){f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1))}for(b=0;g>b;b++){d[b]&&d[b].finish&&d[b].finish.call(this)}delete c.finish})}}),m.each(["toggle","show","hide"],function(a,b){var c=m.fn[b];m.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(gc(b,!0),a,d,e)}}),m.each({slideDown:gc("show"),slideUp:gc("hide"),slideToggle:gc("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){m.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),m.timers=[],m.fx.tick=function(){var a,b=m.timers,c=0;for($b=m.now();c<b.length;c++){a=b[c],a()||b[c]!==a||b.splice(c--,1)}b.length||m.fx.stop(),$b=void 0},m.fx.timer=function(a){m.timers.push(a),a()?m.fx.start():m.timers.pop()},m.fx.interval=13,m.fx.start=function(){_b||(_b=setInterval(m.fx.tick,m.fx.interval))},m.fx.stop=function(){clearInterval(_b),_b=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(a,b){return a=m.fx?m.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e;b=y.createElement("div"),b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=y.createElement("select"),e=c.appendChild(y.createElement("option")),a=b.getElementsByTagName("input")[0],d.style.cssText="top:1px",k.getSetAttribute="t"!==b.className,k.style=/top/.test(d.getAttribute("style")),k.hrefNormalized="/a"===d.getAttribute("href"),k.checkOn=!!a.value,k.optSelected=e.selected,k.enctype=!!y.createElement("form").enctype,c.disabled=!0,k.optDisabled=!e.disabled,a=y.createElement("input"),a.setAttribute("value",""),k.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),k.radioValue="t"===a.value}();var lc=/\r/g;m.fn.extend({val:function(a){var b,c,d,e=this[0];if(arguments.length){return d=m.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,m(this).val()):a,null==e?e="":"number"==typeof e?e+="":m.isArray(e)&&(e=m.map(e,function(a){return null==a?"":a+""})),b=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()],b&&"set" in b&&void 0!==b.set(this,e,"value")||(this.value=e))})}if(e){return b=m.valHooks[e.type]||m.valHooks[e.nodeName.toLowerCase()],b&&"get" in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(lc,""):null==c?"":c)}}}),m.extend({valHooks:{option:{get:function(a){var b=m.find.attr(a,"value");return null!=b?b:m.trim(m.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++){if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&m.nodeName(c.parentNode,"optgroup"))){if(b=m(c).val(),f){return b}g.push(b)}}return g},set:function(a,b){var c,d,e=a.options,f=m.makeArray(b),g=e.length;while(g--){if(d=e[g],m.inArray(m.valHooks.option.get(d),f)>=0){try{d.selected=c=!0}catch(h){d.scrollHeight}}else{d.selected=!1}}return c||(a.selectedIndex=-1),e}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(a,b){return m.isArray(b)?a.checked=m.inArray(m(a).val(),b)>=0:void 0}},k.checkOn||(m.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var mc,nc,oc=m.expr.attrHandle,pc=/^(?:checked|selected)$/i,qc=k.getSetAttribute,rc=k.input;m.fn.extend({attr:function(a,b){return V(this,m.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){m.removeAttr(this,a)})}}),m.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f){return typeof a.getAttribute===K?m.prop(a,b,c):(1===f&&m.isXMLDoc(a)||(b=b.toLowerCase(),d=m.attrHooks[b]||(m.expr.match.bool.test(b)?nc:mc)),void 0===c?d&&"get" in d&&null!==(e=d.get(a,b))?e:(e=m.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set" in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void m.removeAttr(a,b))}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType){while(c=f[e++]){d=m.propFix[c]||c,m.expr.match.bool.test(c)?rc&&qc||!pc.test(c)?a[d]=!1:a[m.camelCase("default-"+c)]=a[d]=!1:m.attr(a,c,""),a.removeAttribute(qc?c:d)}}},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&m.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),nc={set:function(a,b,c){return b===!1?m.removeAttr(a,c):rc&&qc||!pc.test(c)?a.setAttribute(!qc&&m.propFix[c]||c,c):a[m.camelCase("default-"+c)]=a[c]=!0,c}},m.each(m.expr.match.bool.source.match(/\w+/g),function(a,b){var c=oc[b]||m.find.attr;oc[b]=rc&&qc||!pc.test(b)?function(a,b,d){var e,f;return d||(f=oc[b],oc[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,oc[b]=f),e}:function(a,b,c){return c?void 0:a[m.camelCase("default-"+b)]?b.toLowerCase():null}}),rc&&qc||(m.attrHooks.value={set:function(a,b,c){return m.nodeName(a,"input")?void (a.defaultValue=b):mc&&mc.set(a,b,c)}}),qc||(mc={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},oc.id=oc.name=oc.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},m.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:mc.set},m.attrHooks.contenteditable={set:function(a,b,c){mc.set(a,""===b?!1:b,c)}},m.each(["width","height"],function(a,b){m.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),k.style||(m.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var sc=/^(?:input|select|textarea|button|object)$/i,tc=/^(?:a|area)$/i;m.fn.extend({prop:function(a,b){return V(this,m.prop,a,b,arguments.length>1)},removeProp:function(a){return a=m.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),m.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g){return f=1!==g||!m.isXMLDoc(a),f&&(b=m.propFix[b]||b,e=m.propHooks[b]),void 0!==c?e&&"set" in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get" in e&&null!==(d=e.get(a,b))?d:a[b]}},propHooks:{tabIndex:{get:function(a){var b=m.find.attr(a,"tabindex");return b?parseInt(b,10):sc.test(a.nodeName)||tc.test(a.nodeName)&&a.href?0:-1}}}}),k.hrefNormalized||m.each(["href","src"],function(a,b){m.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),k.optSelected||(m.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this}),k.enctype||(m.propFix.enctype="encoding");var uc=/[\t\r\n\f]/g;m.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(m.isFunction(a)){return this.each(function(b){m(this).addClass(a.call(this,b,this.className))})}if(j){for(b=(a||"").match(E)||[];i>h;h++){if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(uc," "):" ")){f=0;while(e=b[f++]){d.indexOf(" "+e+" ")<0&&(d+=e+" ")}g=m.trim(d),c.className!==g&&(c.className=g)}}}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(m.isFunction(a)){return this.each(function(b){m(this).removeClass(a.call(this,b,this.className))})}if(j){for(b=(a||"").match(E)||[];i>h;h++){if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(uc," "):"")){f=0;while(e=b[f++]){while(d.indexOf(" "+e+" ")>=0){d=d.replace(" "+e+" "," ")}}g=a?m.trim(d):"",c.className!==g&&(c.className=g)}}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(m.isFunction(a)?function(c){m(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=m(this),f=a.match(E)||[];while(b=f[d++]){e.hasClass(b)?e.removeClass(b):e.addClass(b)}}else{(c===K||"boolean"===c)&&(this.className&&m._data(this,"__className__",this.className),this.className=this.className||a===!1?"":m._data(this,"__className__")||"")}})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++){if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(uc," ").indexOf(b)>=0){return !0}}return !1}}),m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){m.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),m.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var vc=m.now(),wc=/\?/,xc=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;m.parseJSON=function(b){if(a.JSON&&a.JSON.parse){return a.JSON.parse(b+"")}var c,d=null,e=m.trim(b+"");return e&&!m.trim(e.replace(xc,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():m.error("Invalid JSON: "+b)},m.parseXML=function(b){var c,d;if(!b||"string"!=typeof b){return null}try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||m.error("Invalid XML: "+b),c};var yc,zc,Ac=/#.*$/,Bc=/([?&])_=[^&]*/,Cc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Dc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ec=/^(?:GET|HEAD)$/,Fc=/^\/\//,Gc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Hc={},Ic={},Jc="*/".concat("*");try{zc=location.href}catch(Kc){zc=y.createElement("a"),zc.href="",zc=zc.href}yc=Gc.exec(zc.toLowerCase())||[];function Lc(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(m.isFunction(c)){while(d=f[e++]){"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}}}function Mc(a,b,c,d){var e={},f=a===Ic;function g(h){var i;return e[h]=!0,m.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Nc(a,b){var c,d,e=m.ajaxSettings.flatOptions||{};for(d in b){void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d])}return c&&m.extend(!0,a,c),a}function Oc(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0]){i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"))}if(e){for(g in h){if(h[g]&&h[g].test(e)){i.unshift(g);break}}}if(i[0] in c){f=i[0]}else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Pc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1]){for(g in a.converters){j[g.toLowerCase()]=a.converters[g]}}f=k.shift();while(f){if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift()){if("*"===f){f=i}else{if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g){for(e in j){if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}}}if(g!==!0){if(g&&a["throws"]){b=g(b)}else{try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}}}}}}return{state:"success",data:b}}m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:zc,type:"GET",isLocal:Dc.test(yc[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":m.parseJSON,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Nc(Nc(a,m.ajaxSettings),b):Nc(m.ajaxSettings,a)},ajaxPrefilter:Lc(Hc),ajaxTransport:Lc(Ic),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=m.ajaxSetup({},b),l=k.context||k,n=k.context&&(l.nodeType||l.jquery)?m(l):m.event,o=m.Deferred(),p=m.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!j){j={};while(b=Cc.exec(f)){j[b[1].toLowerCase()]=b[2]}}b=j[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a){if(2>t){for(b in a){q[b]=[q[b],a[b]]}}else{v.always(a[v.status])}}return this},abort:function(a){var b=a||u;return i&&i.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||zc)+"").replace(Ac,"").replace(Fc,yc[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=m.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(c=Gc.exec(k.url.toLowerCase()),k.crossDomain=!(!c||c[1]===yc[1]&&c[2]===yc[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(yc[3]||("http:"===yc[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=m.param(k.data,k.traditional)),Mc(Hc,k,b,v),2===t){return v}h=k.global,h&&0===m.active++&&m.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!Ec.test(k.type),e=k.url,k.hasContent||(k.data&&(e=k.url+=(wc.test(e)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=Bc.test(e)?e.replace(Bc,"$1_="+vc++):e+(wc.test(e)?"&":"?")+"_="+vc++)),k.ifModified&&(m.lastModified[e]&&v.setRequestHeader("If-Modified-Since",m.lastModified[e]),m.etag[e]&&v.setRequestHeader("If-None-Match",m.etag[e])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+Jc+"; q=0.01":""):k.accepts["*"]);for(d in k.headers){v.setRequestHeader(d,k.headers[d])}if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t)){return v.abort()}u="abort";for(d in {success:1,error:1,complete:1}){v[d](k[d])}if(i=Mc(Ic,k,b,v)){v.readyState=1,h&&n.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,i.send(r,x)}catch(w){if(!(2>t)){throw w}x(-1,w)}}else{x(-1,"No Transport")}function x(a,b,c,d){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),i=void 0,f=d||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,c&&(u=Oc(k,v,c)),u=Pc(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(m.lastModified[e]=w),w=v.getResponseHeader("etag"),w&&(m.etag[e]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,h&&n.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),h&&(n.trigger("ajaxComplete",[v,k]),--m.active||m.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return m.get(a,b,c,"json")},getScript:function(a,b){return m.get(a,void 0,b,"script")}}),m.each(["get","post"],function(a,b){m[b]=function(a,c,d,e){return m.isFunction(c)&&(e=e||d,d=c,c=void 0),m.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){m.fn[b]=function(a){return this.on(b,a)}}),m._evalUrl=function(a){return m.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},m.fn.extend({wrapAll:function(a){if(m.isFunction(a)){return this.each(function(b){m(this).wrapAll(a.call(this,b))})}if(this[0]){var b=m(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&1===a.firstChild.nodeType){a=a.firstChild}return a}).append(this)}return this},wrapInner:function(a){return this.each(m.isFunction(a)?function(b){m(this).wrapInner(a.call(this,b))}:function(){var b=m(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=m.isFunction(a);return this.each(function(c){m(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){m.nodeName(this,"body")||m(this).replaceWith(this.childNodes)}).end()}}),m.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!k.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||m.css(a,"display"))},m.expr.filters.visible=function(a){return !m.expr.filters.hidden(a)};var Qc=/%20/g,Rc=/\[\]$/,Sc=/\r?\n/g,Tc=/^(?:submit|button|image|reset|file)$/i,Uc=/^(?:input|select|textarea|keygen)/i;function Vc(a,b,c,d){var e;if(m.isArray(b)){m.each(b,function(b,e){c||Rc.test(a)?d(a,e):Vc(a+"["+("object"==typeof e?b:"")+"]",e,c,d)})}else{if(c||"object"!==m.type(b)){d(a,b)}else{for(e in b){Vc(a+"["+e+"]",b[e],c,d)}}}}m.param=function(a,b){var c,d=[],e=function(a,b){b=m.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(a)||a.jquery&&!m.isPlainObject(a)){m.each(a,function(){e(this.name,this.value)})}else{for(c in a){Vc(c,a[c],b,e)}}return d.join("&").replace(Qc,"+")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=m.prop(this,"elements");return a?m.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!m(this).is(":disabled")&&Uc.test(this.nodeName)&&!Tc.test(a)&&(this.checked||!W.test(a))}).map(function(a,b){var c=m(this).val();return null==c?null:m.isArray(c)?m.map(c,function(a){return{name:b.name,value:a.replace(Sc,"\r\n")}}):{name:b.name,value:c.replace(Sc,"\r\n")}}).get()}}),m.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return !this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Zc()||$c()}:Zc;var Wc=0,Xc={},Yc=m.ajaxSettings.xhr();a.ActiveXObject&&m(a).on("unload",function(){for(var a in Xc){Xc[a](void 0,!0)}}),k.cors=!!Yc&&"withCredentials" in Yc,Yc=k.ajax=!!Yc,Yc&&m.ajaxTransport(function(a){if(!a.crossDomain||k.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++Wc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields){for(e in a.xhrFields){f[e]=a.xhrFields[e]}}a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c){void 0!==c[e]&&f.setRequestHeader(e,c[e]+"")}f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState)){if(delete Xc[g],b=void 0,f.onreadystatechange=m.noop,e){4!==f.readyState&&f.abort()}else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=Xc[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}});function Zc(){try{return new a.XMLHttpRequest}catch(b){}}function $c(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return m.globalEval(a),a}}}),m.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),m.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=y.head||m("head")[0]||y.documentElement;return{send:function(d,e){b=y.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var _c=[],ad=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=_c.pop()||m.expando+"_"+vc++;return this[a]=!0,a}}),m.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(ad.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&ad.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=m.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(ad,"$1"+e):b.jsonp!==!1&&(b.url+=(wc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||m.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,_c.push(e)),g&&m.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),m.parseHTML=function(a,b,c){if(!a||"string"!=typeof a){return null}"boolean"==typeof b&&(c=b,b=!1),b=b||y;var d=u.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=m.buildFragment([a],b,e),e&&e.length&&m(e).remove(),m.merge([],d.childNodes))};var bd=m.fn.load;m.fn.load=function(a,b,c){if("string"!=typeof a&&bd){return bd.apply(this,arguments)}var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=m.trim(a.slice(h,a.length)),a=a.slice(0,h)),m.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&m.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?m("<div>").append(m.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},m.expr.filters.animated=function(a){return m.grep(m.timers,function(b){return a===b.elem}).length};var cd=a.document.documentElement;function dd(a){return m.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}m.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=m.css(a,"position"),l=m(a),n={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=m.css(a,"top"),i=m.css(a,"left"),j=("absolute"===k||"fixed"===k)&&m.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),m.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(n.top=b.top-h.top+g),null!=b.left&&(n.left=b.left-h.left+e),"using" in b?b.using.call(a,n):l.css(n)}},m.fn.extend({offset:function(a){if(arguments.length){return void 0===a?this:this.each(function(b){m.offset.setOffset(this,a,b)})}var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f){return b=f.documentElement,m.contains(b,e)?(typeof e.getBoundingClientRect!==K&&(d=e.getBoundingClientRect()),c=dd(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d}},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===m.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),m.nodeName(a[0],"html")||(c=a.offset()),c.top+=m.css(a[0],"borderTopWidth",!0),c.left+=m.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-m.css(d,"marginTop",!0),left:b.left-c.left-m.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||cd;while(a&&!m.nodeName(a,"html")&&"static"===m.css(a,"position")){a=a.offsetParent}return a||cd})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);m.fn[a]=function(d){return V(this,function(a,d,e){var f=dd(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void (f?f.scrollTo(c?m(f).scrollLeft():e,c?e:m(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),m.each(["top","left"],function(a,b){m.cssHooks[b]=Lb(k.pixelPosition,function(a,c){return c?(c=Jb(a,b),Hb.test(c)?m(a).position()[b]+"px":c):void 0})}),m.each({Height:"height",Width:"width"},function(a,b){m.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){m.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return V(this,function(b,c,d){var e;return m.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?m.css(b,c,g):m.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),m.fn.size=function(){return this.length},m.fn.andSelf=m.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return m});var ed=a.jQuery,fd=a.$;return m.noConflict=function(b){return a.$===m&&(a.$=fd),b&&a.jQuery===m&&(a.jQuery=ed),m},typeof b===K&&(a.jQuery=a.$=m),m});
/*! jQuery Migrate v1.2.1 | (c) 2005, 2013 jQuery Foundation, Inc. and other contributors | jquery.org/license */
;jQuery.migrateMute===void 0&&(jQuery.migrateMute=!0),function(ah,O,Y){function U(b){var a=O.console;ad[b]||(ad[b]=!0,ah.migrateWarnings.push(b),a&&a.warn&&!ah.migrateMute&&(a.warn("JQMIGRATE: "+b),ah.migrateTrace&&a.trace&&a.trace()))}function al(d,b,c,f){if(Object.defineProperty){try{return Object.defineProperty(d,b,{configurable:!0,enumerable:!0,get:function(){return U(f),c},set:function(a){U(f),c=a}}),Y}catch(e){}}ah._definePropertyBroken=!0,d[b]=c}var ad={};ah.migrateWarnings=[],!ah.migrateMute&&O.console&&O.console.log&&O.console.log("JQMIGRATE: Logging is active"),ah.migrateTrace===Y&&(ah.migrateTrace=!0),ah.migrateReset=function(){ad={},ah.migrateWarnings.length=0},"BackCompat"===document.compatMode&&U("jQuery is not compatible with Quirks Mode");var X=ah("<input/>",{size:1}).attr("size")&&ah.attrFn,P=ah.attr,L=ah.attrHooks.value&&ah.attrHooks.value.get||function(){return null},aj=ah.attrHooks.value&&ah.attrHooks.value.set||function(){return Y},aa=/^(?:input|button)$/i,ai=/^[238]$/,W=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,ag=/^(?:checked|selected)$/i;al(ah,"attrFn",X||{},"jQuery.attrFn is deprecated"),ah.attr=function(f,b,e,d){var j=b.toLowerCase(),h=f&&f.nodeType;return d&&(4>P.length&&U("jQuery.fn.attr( props, pass ) is deprecated"),f&&!ai.test(h)&&(X?b in X:ah.isFunction(ah.fn[b])))?ah(f)[b](e):("type"===b&&e!==Y&&aa.test(f.nodeName)&&f.parentNode&&U("Can't change the 'type' of an input or button in IE 6/7/8"),!ah.attrHooks[j]&&W.test(j)&&(ah.attrHooks[j]={get:function(k,l){var c,g=ah.prop(k,l);return g===!0||"boolean"!=typeof g&&(c=k.getAttributeNode(l))&&c.nodeValue!==!1?l.toLowerCase():Y},set:function(g,k,i){var c;return k===!1?ah.removeAttr(g,i):(c=ah.propFix[i]||i,c in g&&(g[c]=!0),g.setAttribute(i,i.toLowerCase())),i}},ag.test(j)&&U("jQuery.fn.attr('"+j+"') may use property instead of attribute")),P.call(ah,f,b,e))},ah.attrHooks.value={get:function(b,a){var c=(b.nodeName||"").toLowerCase();return"button"===c?L.apply(this,arguments):("input"!==c&&"option"!==c&&U("jQuery.fn.attr('value') no longer gets properties"),a in b?b.value:null)},set:function(d,c){var b=(d.nodeName||"").toLowerCase();return"button"===b?aj.apply(this,arguments):("input"!==b&&"option"!==b&&U("jQuery.fn.attr('value', val) no longer sets properties"),d.value=c,Y)}};var af,ae,K=ah.fn.init,Z=ah.parseJSON,F=/^([^<]*)(<[\w\W]+>)([^>]*)$/;ah.fn.init=function(d,e,b){var c;return d&&"string"==typeof d&&!ah.isPlainObject(e)&&(c=F.exec(ah.trim(d)))&&c[0]&&("<"!==d.charAt(0)&&U("$(html) HTML strings must start with '<' character"),c[3]&&U("$(html) HTML text after last tag is ignored"),"#"===c[0].charAt(0)&&(U("HTML string cannot start with a '#' character"),ah.error("JQMIGRATE: Invalid selector string (XSS)")),e&&e.context&&(e=e.context),ah.parseHTML)?K.call(this,ah.parseHTML(c[2],e,!0),e,b):K.apply(this,arguments)},ah.fn.init.prototype=ah.fn,ah.parseJSON=function(a){return a||null===a?Z.apply(this,arguments):(U("jQuery.parseJSON requires a valid JSON string"),null)},ah.uaMatch=function(b){b=b.toLowerCase();var a=/(chrome)[ \/]([\w.]+)/.exec(b)||/(webkit)[ \/]([\w.]+)/.exec(b)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(b)||/(msie) ([\w.]+)/.exec(b)||0>b.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(b)||[];return{browser:a[1]||"",version:a[2]||"0"}},ah.browser||(af=ah.uaMatch(navigator.userAgent),ae={},af.browser&&(ae[af.browser]=!0,ae.version=af.version),ae.chrome?ae.webkit=!0:ae.webkit&&(ae.safari=!0),ah.browser=ae),al(ah,"browser",ah.browser,"jQuery.browser is deprecated"),ah.sub=function(){function a(c,d){return new a.fn.init(c,d)}ah.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(d,c){return c&&c instanceof ah&&!(c instanceof a)&&(c=a(c)),ah.fn.init.call(this,d,c,b)},a.fn.init.prototype=a.fn;var b=a(document);return U("jQuery.sub() is deprecated"),a},ah.ajaxSetup({converters:{"text json":ah.parseJSON}});var ak=ah.fn.data;ah.fn.data=function(d){var b,c,e=this[0];return !e||"events"!==d||1!==arguments.length||(b=ah.data(e,d),c=ah._data(e,d),b!==Y&&b!==c||c===Y)?ak.apply(this,arguments):(U("Use of jQuery.fn.data('events') is deprecated"),c)};var ac=/\/(java|ecma)script/i,J=ah.fn.andSelf||ah.fn.addBack;ah.fn.andSelf=function(){return U("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),J.apply(this,arguments)},ah.clean||(ah.clean=function(m,j,f,b){j=j||document,j=!j.nodeType&&j[0]||j,j=j.ownerDocument||j,U("jQuery.clean() is deprecated");var n,k,h,e,g=[];if(ah.merge(g,ah.buildFragment(m,j).childNodes),f){for(h=function(a){return !a.type||ac.test(a.type)?b?b.push(a.parentNode?a.parentNode.removeChild(a):a):f.appendChild(a):Y},n=0;null!=(k=g[n]);n++){ah.nodeName(k,"script")&&h(k)||(f.appendChild(k),k.getElementsByTagName!==Y&&(e=ah.grep(ah.merge([],k.getElementsByTagName("script")),h),g.splice.apply(g,[n+1,0].concat(e)),n+=e.length))}}return g});var B=ah.event.add,G=ah.event.remove,ab=ah.event.trigger,D=ah.fn.toggle,q=ah.fn.live,E=ah.fn.die,z="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",R=RegExp("\\b(?:"+z+")\\b"),I=/(?:^|\s)hover(\.\S+|)\b/,V=function(a){return"string"!=typeof a||ah.event.special.hover?a:(I.test(a)&&U("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),a&&a.replace(I,"mouseenter$1 mouseleave$1"))};ah.event.props&&"attrChange"!==ah.event.props[0]&&ah.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),ah.event.dispatch&&al(ah.event,"handle",ah.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),ah.event.add=function(f,d,g,b,c){f!==document&&R.test(d)&&U("AJAX events should be attached to document: "+d),B.call(this,f,V(d||""),g,b,c)},ah.event.remove=function(f,c,g,d,b){G.call(this,f,V(c)||"",g,d,b)},ah.fn.error=function(){var a=Array.prototype.slice.call(arguments,0);return U("jQuery.fn.error() is deprecated"),a.splice(0,0,"error"),arguments.length?this.bind.apply(this,a):(this.triggerHandler.apply(this,a),this)},ah.fn.toggle=function(d,g){if(!ah.isFunction(d)||!ah.isFunction(g)){return D.apply(this,arguments)}U("jQuery.fn.toggle(handler, handler...) is deprecated");var b=arguments,c=d.guid||ah.guid++,f=0,e=function(h){var a=(ah._data(this,"lastToggle"+d.guid)||0)%f;return ah._data(this,"lastToggle"+d.guid,a+1),h.preventDefault(),b[a].apply(this,arguments)||!1};for(e.guid=c;b.length>f;){b[f++].guid=c}return this.click(e)},ah.fn.live=function(c,d,b){return U("jQuery.fn.live() is deprecated"),q?q.apply(this,arguments):(ah(this.context).on(c,this.selector,d,b),this)},ah.fn.die=function(a,b){return U("jQuery.fn.die() is deprecated"),E?E.apply(this,arguments):(ah(this.context).off(a,this.selector||"**",b),this)},ah.event.trigger=function(d,c,f,b){return f||R.test(d)||U("Global events are undocumented and deprecated"),ab.call(this,d,c,f||document,b)},ah.each(z.split("|"),function(a,b){ah.event.special[b]={setup:function(){var c=this;return c!==document&&(ah.event.add(document,b+"."+ah.guid,function(){ah.event.trigger(b,null,c,!0)}),ah._data(this,b,ah.guid++)),!1},teardown:function(){return this!==document&&ah.event.remove(document,b+"."+ah._data(this,b)),!1}}})}(jQuery,window);
var __resources=[{packageName:"main",type:"css",name:"appbase.min.css"},{packageName:"audio",type:"css",name:"audio.min.css"},{packageName:"agenda",type:"css",name:"agenda.min.css"},{packageName:"blog",type:"css",name:"blog.min.css"},{packageName:"users",type:"css",name:"users.min.css"},{packageName:"poll",type:"css",name:"poll.min.css"},{packageName:"quiz",type:"css",name:"quiz.min.css"},{packageName:"contactUs",type:"css",name:"contactUs.min.css"},{packageName:"twitter",type:"css",name:"twitter.min.css"},{packageName:"video",type:"css",name:"video.min.css"},{packageName:"externalPage",type:"css",name:"externalPage.min.css"},{packageName:"facebook",type:"css",name:"facebook.min.css"},{packageName:"livePerson",type:"css",name:"livePerson.min.css"},{packageName:"loyaltyCards",type:"css",name:"loyaltyCards.min.css"},{packageName:"reviews",type:"css",name:"reviews.min.css"},{packageName:"subscribe",type:"css",name:"subscribe.min.css"},{packageName:"aboutUs",type:"css",name:"aboutUs.min.css"},{packageName:"webModule",type:"css",name:"webModule.min.css"},{packageName:"favorites",type:"css",name:"favorites.min.css"},{packageName:"events",type:"css",name:"events.min.css"},{packageName:"form",type:"css",name:"form.min.css"},{packageName:"links",type:"css",name:"links.min.css"},{packageName:"menu",type:"css",name:"menu.min.css"},{packageName:"coupons",type:"css",name:"coupons.min.css"},{packageName:"reports",type:"css",name:"reports.min.css"},{packageName:"inbox",type:"css",name:"inbox.min.css"},{packageName:"myProfile",type:"css",name:"myProfile.min.css"},{packageName:"collections",type:"css",name:"collections.min.css"},{packageName:"store",type:"css",name:"store.min.css"},{packageName:"photos",type:"css",name:"photos.min.css"},{packageName:"main",type:"js",name:"appbase.min.js"},{packageName:"audio",type:"js",name:"audio.min.js"},{packageName:"agenda",type:"js",name:"agenda.min.js"},{packageName:"blog",type:"js",name:"blog.min.js"},{packageName:"blog",type:"js",name:"blog.min.js"},{packageName:"users",type:"js",name:"users.min.js"},{packageName:"poll",type:"js",name:"poll.min.js"},{packageName:"quiz",type:"js",name:"quiz.min.js"},{packageName:"twitter",type:"js",name:"twitter.min.js"},{packageName:"photos",type:"js",name:"photos.min.js"},{packageName:"contactUs",type:"js",name:"contactUs.min.js"},{packageName:"externalPage",type:"js",name:"externalPage.min.js"},{packageName:"facebook",type:"js",name:"facebook.min.js"},{packageName:"livePerson",type:"js",name:"livePerson.min.js"},{packageName:"loyaltyCards",type:"js",name:"loyaltyCards.min.js"},{packageName:"reviews",type:"js",name:"reviews.min.js"},{packageName:"menu",type:"js",name:"menu.min.js"},{packageName:"coupons",type:"js",name:"coupons.min.js"},{packageName:"subscribe",type:"js",name:"subscribe.min.js"},{packageName:"video",type:"js",name:"video.min.js"},{packageName:"map",type:"js",name:"map.min.js"},{packageName:"aboutUs",type:"js",name:"aboutUs.min.js"},{packageName:"notForCp",type:"js",name:"notForCp.min.js"},{packageName:"staticHtml",type:"js",name:"staticHtml.min.js"},{packageName:"staticHtml",type:"js",name:"staticHtml.min.js"},{packageName:"events",type:"js",name:"events.min.js"},{packageName:"events",type:"js",name:"events.min.js"},{packageName:"links",type:"js",name:"links.min.js"},{packageName:"form",type:"js",name:"form.min.js"},{packageName:"webModule",type:"js",name:"webModule.min.js"},{packageName:"collections",type:"js",name:"collections.min.js"},{packageName:"store",type:"js",name:"store.min.js"},{packageName:"reports",type:"js",name:"reports.min.js"},{packageName:"myProfile",type:"js",name:"myProfile.min.js"},{packageName:"inbox",type:"js",name:"inbox.min.js"}];
var ResourceLoader=(function(){var d={};function e(h,k,i){if(k==="js"){var g=document.createElement("script"),l=false;g.type="text/javascript";g.src=h;g.onload=g.onreadystatechange=function(){if(!l&&(!this.readyState||this.readyState==="complete")){l=true;i&&i()}};document.body.appendChild(g)}else{if(k==="css"){$.get(h).done(function(){if(document.createStyleSheet){document.createStyleSheet(h)}else{$('<link rel="stylesheet" type="text/css" href="'+h+'" />').appendTo("head")}}).fail(function(o,m,n){console.log("loadResource : error !!! trying to load file "+h);console.log("loadResource : error was "+n);console.log("loadResource : this might be caused due to zero-byte target file - check www dir !")}).always(function(){i&&i()})}}}function f(h){if(h.length==0){return true}for(var k=0;k<h.length;k++){var l=h[k];var g=l.split("&");var n=true;for(j=0;j<g.length;j++){var m=g[j];if((typeof(platformEnum[m])!=="undefined"&&platformEnum[m]!=PLATFORM)||(typeof(deviceTypeEnum[m])!=="undefined"&&deviceTypeEnum[m]!=DEVICE)){n=false}}if(n){return true}}return false}d.isValidResource=function(h){var g=true;var l=false;if(h){var k=h.yeah||[];var m=h.nope||[];g=f(k);if(m.length>0){l=f(m)}}var i=g&&!l;return i};function c(m,r){var o=[];var q=null;for(q in m){var n=m[q];if(!r[n.packageName]){continue}var l=n.type;var t=false;try{if(typeof window.DEBUG!=="undefined"){t=window.DEBUG}else{if(typeof parent.DEBUG!=="undefined"){t=parent.DEBUG}}}catch(s){}if(!t){var k=n.name;o.push({file:k,type:l})}else{if(n.files){var h=n.files;for(var q=0;q<h.length;q++){var p=h[q];if(d.isValidResource(p)){var g=p.file;o.push({file:g,type:l})}}}}}return o}d.loadResources=function(l,k,h){var i=c(l,k);var g=i.length;var m=function(n){if(n>=g){h&&h();return}var o=i[n];e(o.file,o.type,function(){m(n+1)})};m(0)};function a(i,k){var h=0;this.countToReach=i;this.countReachedCb=k;this.boundIncreaseCount=function g(){h++;if(h>=i){if(typeof this.countReachedCb==="function"){this.countReachedCb()}}}.bind(this);if(i===0){k&&k()}}d.loadResourcesParallel=function b(p,n,l){var m=null,o=null,k=null,g=0,h=0;m=c(p,n);g=m.length;k=new a(g,l);for(h=0;h<g;h++){o=m[h];e(o.file,o.type,k.boundIncreaseCount)}};return d}());(function loadAllResources(){if(window.__resources){ResourceLoader.loadResources(window.__resources,{main:true})}})();

var loyaltyCardsEnums={verificationState:{NORMAL:"NORMAL",SUCCESS:"SUCCESS",VERIFYING:"LOADING",SERVER_FAIL:"SERVER_FAIL",INVALID_CODE:"INVALID_CODE"},slotType:{NORMAL:"punch",MID_FREEBIE:"mid-freebie",FREEBIE:"freebie"},slotColorType:{NORMAL:"normal",WATERMARK:"watermark"},stampLayoutType:{NORMAL:"punch",GET_FREE:"get-a-free",CONGRATS:"punch-congrats"},afterPunchType:{CLOSE:"close",CONGRATS:"congrats"},slotTextType:{NUMBERING:"$auto"}};var loyaltyCardsMaps={slotColorType:{},stampLayoutType:{},afterPunchType:{}};loyaltyCardsMaps.slotColorType[loyaltyCardsEnums.slotType.NORMAL]=loyaltyCardsEnums.slotColorType.WATERMARK;loyaltyCardsMaps.slotColorType[loyaltyCardsEnums.slotType.MID_FREEBIE]=loyaltyCardsEnums.slotColorType.WATERMARK;loyaltyCardsMaps.slotColorType[loyaltyCardsEnums.slotType.FREEBIE]=loyaltyCardsEnums.slotColorType.NORMAL;loyaltyCardsMaps.stampLayoutType[loyaltyCardsEnums.slotType.NORMAL]=loyaltyCardsEnums.stampLayoutType.NORMAL;loyaltyCardsMaps.stampLayoutType[loyaltyCardsEnums.slotType.MID_FREEBIE]=loyaltyCardsEnums.stampLayoutType.GET_FREE;loyaltyCardsMaps.stampLayoutType[loyaltyCardsEnums.slotType.FREEBIE]=loyaltyCardsEnums.stampLayoutType.CONGRATS;loyaltyCardsMaps.afterPunchType[loyaltyCardsEnums.slotType.NORMAL]=loyaltyCardsEnums.afterPunchType.CLOSE;loyaltyCardsMaps.afterPunchType[loyaltyCardsEnums.slotType.MID_FREEBIE]=loyaltyCardsEnums.afterPunchType.CLOSE;loyaltyCardsMaps.afterPunchType[loyaltyCardsEnums.slotType.FREEBIE]=loyaltyCardsEnums.afterPunchType.CONGRATS; var LoyaltyCardsModel=ItemsModel.extend({createItemsCollection:function(){var b=this.get("params");var a=new LoyaltyCardsCollection(null,b);return a}}); var LoyaltyCardModel=ItemModel.extend({initialize:function(){this.overrideTranslation=CurrentPageTracker.getCurrentPage().get("meta").overrideTranslation;var d={id:null,title:"",offerTitle:"",upperTitle:"{$HtmlTextLoyaltyCardsTitleOffer}",isHidden:false,isExpired:false,isComingSoon:false,icons:{"default":{whole:null,punched:null}},images:{header:null,background:null},disclaimer:"",description:"",validity:{validFrom:null,validUntil:null},totalSlots:0,limits:{punchesPerDay:3,codeAttempts:5,codeAttemptsCoolDown:86400000},defaults:{icon:"default",freebieName:_T("HtmlTextLoyaltyCardsDefaultFreebieName",[],this.overrideTranslation),punchLayout:null,afterPunchLayout:null,style:null,slotType:loyaltyCardsEnums.slotType.NORMAL,punchText:loyaltyCardsEnums.slotTextType.NUMBERING,afterPunchText:loyaltyCardsEnums.slotTextType.NUMBERING},defaultOverrides:{},overrides:[],userData:{currentPunches:0,lastPunchDate:null,punchesToday:0,currentCodeAttempts:0,blockUntil:0},verificationState:loyaltyCardsEnums.verificationState.NORMAL,slots:[]};var c=this.toJSON();$.extend(true,d,c);d.alias=Utils.Html.fixAlias(d.alias||d.id);this.set(d);this._updateUserDataFromStorage();var a=this.get("validity");if(a){var b=(new Date().getTime()/1000);var f=(a.validUntil&&a.validUntil<b);var e=(a.validFrom&&a.validFrom>b);this.set({isExpired:f,isComingSoon:e})}this._updateSlots()},_updateSlots:function(){var e=this.get("defaultOverrides");var b=this.get("defaults");$.extend(b,e);var f=[];var l=this.get("userData").currentPunches;var g=this.get("totalSlots");var o=this.get("icons");var n=this.get("overrides");var h=n.length;for(var d=0;d<g;d++){var m=$.extend({},b);for(var c=0;c<h;c++){var a=n[c];if($.inArray(d+1,a.at)>-1){$.extend(m,a)}}var k=o[m.icon];m.punched=d<l;if(m.punched){m.icon=k.punched;if(m.afterPunchText===loyaltyCardsEnums.slotTextType.NUMBERING){m.text=""+(d+1)}else{m.text=m.afterPunchText}}else{m.icon=k.whole;if(m.punchText===loyaltyCardsEnums.slotTextType.NUMBERING){m.text=""+(d+1)}else{m.text=m.punchText}}f[d]=m}this.set({slots:f})},getLastSlot:function(){var b=this.get("totalSlots"),a=this.get("slots");return a[b-1]},getActiveSlot:function(){var a=this.get("userData").currentPunches;if(this.get("verificationState")===loyaltyCardsEnums.verificationState.SUCCESS){a--}return this.get("slots")[a]},_updateUserDataFromStorage:function(){if(PLATFORM===platformEnum.simulator){return}var b=storageDriver.getItem(null,null,this.get("id"),true);if(b){var a=JSON.parse(b);this.set({userData:a});if(a.currentPunches>=this.get("totalSlots")){a.currentPunches=0;this._updateStorageFromUserData()}}},_updateStorageFromUserData:function(){if(PLATFORM===platformEnum.simulator){return}var a=JSON.stringify(this.get("userData"));storageDriver.setItem(null,null,this.get("id"),a,true)},initStampDialogState:function(){var a=this.get("userData");if(a.currentPunches>=this.get("totalSlots")){a.currentPunches=0;this._updateSlots();this._updateStorageFromUserData()}this.set({verificationState:loyaltyCardsEnums.verificationState.NORMAL})},closeStampDialog:function(){this.initStampDialogState();this.trigger("onDialogClose",this)},openStampDialog:function(){this.initStampDialogState();this.trigger("onDialogOpen",this)},punch:function(b){if(this.get("verificationState")===loyaltyCardsEnums.verificationState.VERIFYING){console.log("in progress...");return}this.set({verificationState:loyaltyCardsEnums.verificationState.VERIFYING});var c=this.getActiveSlot();var a=this.get("userData");this.usageData={status:analytics.actionStatus.Start,slotType:c.slotType,cardId:this.get("id"),slotIndex:a.currentPunches,slotsCount:this.get("totalSlots")};UsageManager.addEvent(analytics.usageEventTypeEnum.CardPunched,this.usageData);this._executeService(b)},_executeService:function(b){var c={cardId:this.get("id")},a={executeType:executeTypeEnum.FORCE_NETWORK,postParams:{code:b}};Services.executeService("CONTENTHOST_LOYALTYCARDS_VALIDATE_POST",c,this._onServiceSuccess.hitch(this),this._onServiceFail.hitch(this),a)},_onServiceFail:function(a){if(this.get("verificationState")!==loyaltyCardsEnums.verificationState.VERIFYING){return}this.set({verificationState:loyaltyCardsEnums.verificationState.SERVER_FAIL});this.usageData.status=analytics.actionStatus.Fail;UsageManager.addEvent(analytics.usageEventTypeEnum.CardPunched,this.usageData)},_onServiceSuccess:function(b){if(this.get("verificationState")!==loyaltyCardsEnums.verificationState.VERIFYING){return}var a=this.get("userData");if(b){a.currentCodeAttempts=0;this.getPunchesToday(true);this.usageData.status=analytics.actionStatus.Success;UsageManager.addEvent(analytics.usageEventTypeEnum.CardPunched,this.usageData);a.currentPunches++;this.set({verificationState:loyaltyCardsEnums.verificationState.SUCCESS});this._updateSlots()}else{a.currentCodeAttempts++;var d=this.get("limits");if(d&&(a.currentCodeAttempts%d.codeAttempts)===0){var c=new Date().getTime();a.blockUntil=c+d.codeAttemptsCoolDown}this.set({verificationState:loyaltyCardsEnums.verificationState.INVALID_CODE});this.usageData.status=analytics.actionStatus.Fail;UsageManager.addEvent(analytics.usageEventTypeEnum.CardPunched,this.usageData)}this._updateStorageFromUserData()},getPunchesToday:function(c){var a=this.get("userData");var b=new Date().format("dd-mm-yyyy");if(a.lastPunchDate!==b){a.punchesToday=0}if(c){a.punchesToday++;a.lastPunchDate=b}return a.punchesToday},getShareInfo:function(){var c=$.extend({},this.get("socialInfo"));if(typeof(c.url)==="undefined"||c.url==="$APP_LINK"){var b=AppManager.app().get("appLink");c.url=(b)?b:""}var a=AppManager.app().get("appLabel");var e=this.getLastSlot();var d={appName:a,cardName:this.get("title"),freebieName:e.freebieName};if(this.get("verificationState")===loyaltyCardsEnums.verificationState.SUCCESS){c.title=c.title||_T("HtmlTextLoyaltyCardsShareWinTitle",d,this.overrideTranslation);c.twitterTitle=c.twitterTitle||_T("HtmlTextLoyaltyCardsShareWinTwitterTitle",d,this.overrideTranslation);c.emailTitle=c.emailTitle||_T("HtmlTextLoyaltyCardsShareWinEmailTitle",d,this.overrideTranslation);c.emailDesc=c.emailDesc||_T("HtmlTextLoyaltyCardsShareWinEmailText",d,this.overrideTranslation)}else{c.title=c.title||_T("HtmlTextLoyaltyCardsShareTitle",d,this.overrideTranslation);c.twitterTitle=c.twitterTitle||_T("HtmlTextLoyaltyCardsShareTwitterTitle",d,this.overrideTranslation);c.emailTitle=c.emailTitle||_T("HtmlTextLoyaltyCardsShareEmailTitle",d,this.overrideTranslation);c.emailDesc=c.emailDesc||_T("HtmlTextLoyaltyCardsShareEmailText",d,this.overrideTranslation)}return c}}); var LoyaltyCardsCollection=ItemsCollection.extend({model:LoyaltyCardModel,initialize:function(b,a){ItemsCollection.prototype.initialize.apply(this);if(!a.listId||!a.type){this.invalid=true}this.params=a},getServiceName:function(){return"CMS_LOYALTYCARDS_GET"},parse:function(a){var b=$.map(a.items,function(e,d){if(!e.id){return null}var c=new LoyaltyCardModel(e);if(TEST_LOYALTY){return c}if(!c.get("userData").currentPunches&&(c.get("isExpired")||c.get("isComingSoon")||c.get("isHidden"))){return null}return c});return{models:b}},getParams:function(){return this.params}}); var LoyaltyCardsTemplateView=TemplateView.extend({_renderTab:function(f,a){var j=this.model.get("meta");var h=true;if(TEST_LOYALTY){h=false}var i=(typeof(j.onlyForNative)==="undefined")?h:j.onlyForNative;if(PLATFORM==platformEnum.webApp&&i){var b=Utils.Helpers.generateGUID();var c=ErrPagesManager.getErrPage(errorPages.errorPagesTypes.block,this.model.getArrContext());var e=new GenericPageView({model:c,id:b});this.$el.append(e.render().el);UN.onPageReady(b,a,1);return}var d=new LoyaltyCardsModel(j.items[f]);d.set({layoutId:j.pageLayout});var g=new LoyaltyCardsListView({model:d});this.renderListPage({navRequest:a,model:d,view:g,dividedScreenOptions:{minWidth:"320px"}})},getDefaultItemAlias:function(c){var b=c.model.get("items");if(b.length===1||(b.length&&c.dividedScreen)){var a=b.at(0);return a.get("alias")}return null},getDetailsView:function(a){return new LoyaltyCardDetailsPageView({model:a})}}); var LoyaltyCardsListView=ItemsView.extend({initialize:function(){this.$el.attr({"data-role":"page","data-buttons":"refresh"});this.$el.html(loyaltyCardsTemplates.scroller_tpl());Scrolling.init(this.$(".scroll_wrapper"));this.$scroller=this.$(".scroller");this.$el.bind("refresh",this.handleRefreshClick.hitch(this));this.$el.bind("silentRefresh",this.handleSilentRefresh.hitch(this));ItemsView.prototype.initialize.apply(this)},getRootView:function(){return this.$scroller},createItemView:function(a){return new LoyaltyCardItemView({model:a,layoutType:this.model.get("layoutId")})}}); var LoyaltyCardItemView=Backbone.View.extend({className:"LoyaltyCardItemView feed_bubble_item",tagName:"li",events:{tap:"itemClicked"},initialize:function(){this.model.bind("change:selected",this.onSelectedChange,this)},render:function(){var d=this.model.toJSON();this.$el.html(loyaltyCardsTemplates.list_item_tpl(d));var j=this.$(".item_container");var c=this.model.get("isExpired");var f=this.model.get("isComingSoon");var a=CurrentPageTracker.getCurrentPage().get("meta").overrideTranslation;if(c||f){var d={loyaltyCardExpired:_T(c?"HtmlTextLoyaltyCardsExpired":"HtmlTextLoyaltyCardsComingSoon",[],a)};this.$el.append(loyaltyCardsTemplates.loyaltyCardExpired(d));j.addClass("expired")}var g=this.model.get("description");if(g){var b=this.$(".description");var i=new HtmlContainerControl();i.renderHtml(b,g,{changeColors:false})}var h=this.model.get("validity").validFrom;var e=this.model.get("validity").validUntil;if(h||e){var d={startStr:"",endStr:"",formattedValidFrom:"",formattedValidUntil:""};if(h){d.formattedValidFrom=new Date(h*1000).format("shortDate");d.startStr=_T("HtmlTextLoyaltyCardsValidFrom",[],a)}if(e){d.formattedValidUntil=new Date(e*1000).format("shortDate");d.endStr=_T("HtmlTextLoyaltyCardsValidUntil",[],a)}j.append(loyaltyCardsTemplates.listItemDates(d))}return this},onSelectedChange:function(){if(LAYOUT===layoutFormat.wide){if(this.model.get("selected")){this.$el.children().addClass("selected")}else{this.$el.children().removeClass("selected")}}},itemClicked:function(a){a.preventDefault();UN.navTo(this.model.get("alias"),{level:2,isInner:(LAYOUT===layoutFormat.narrow)})}}); var LoyaltyCardDetailsPageView=Backbone.View.extend({className:"LoyaltyCardDetailsPageView",initialize:function(){this.$el.attr({"data-role":"page"});this.model.bind("onDialogClose",this.backFlip,this);this.model.bind("onInfoClose",this.backFlip,this);this.model.bind("onInfoOpen",this.changeToInfoView,this);this.model.bind("onDialogOpen",this.changeToDialogView,this)},render:function(){var b=this.model.toJSON();var a=loyaltyCardsTemplates.pageCardContainer;this.$el.html(a(b));this.$scroll_wrapper=this.$(".scroll_wrapper");Scrolling.init(this.$scroll_wrapper);this.showCardView();return this},flip:function(){this.animate({transition:"flip",reverse:IS_RTL})},backFlip:function(){this.animate({transition:"flip",reverse:!IS_RTL})},animate:function(k){var e={transition:"none",reverse:false};var d=$.extend({},e,k);var c=d.transition;var f=d.reverse?" reverse":"";var i=this.$(".active.animationContainer");var h=this.$(".inactive.animationContainer");i.removeClass("active");h.removeClass("inactive");var g=this;var j=function(){i.addClass("inactive");h.addClass("active");Scrolling.onContentChanged(g.$scroll_wrapper)};var b=function(){h.add(i).removeClass("animation out in reverse "+c);j()};var a=((c!=="none")&&($.support.cssTransitions));if(a){h.one("webkitAnimationEnd",b);h.add(i).addClass(c+" animation"+f);i.addClass("out");h.addClass("in")}else{j()}},showCardView:function(){var b=new LoyaltyCardsCardView({model:this.model});var a=this.$(".active .cardContainer");a.html(b.render().el);Scrolling.onContentChanged(this.$scroll_wrapper)},changeToDialogView:function(){var b=new LoyaltyCardsStampView({model:this.model});var a=this.$(".inactive .cardContainer");a.html(b.render().el);this.flip()},changeToInfoView:function(){var b=new LoyaltyCardInfoView({model:this.model});var a=this.$(".inactive .cardContainer");a.html(b.render().el);this.flip()}}); var LoyaltyCardInfoView=Backbone.View.extend({className:"LoyaltyCardInfoView",render:function(){var c=this.model.toJSON();var b=CurrentPageTracker.getCurrentPage().get("meta").overrideTranslation;c.infoTitle=_T("HtmlTextLoyaltyCardsInfoTitle",[],b);c.validFrom=null;c.validUntil=null;var a=this.model.get("validity");if(a.validFrom||a.validUntil){c.validityTitle=_T("HtmlTextLoyaltyCardsValidityTitle",[],b);if(a.validFrom){c.validFrom=new Date(a.validFrom*1000).format("shortDate");c.validFromTitle=_T("HtmlTextLoyaltyCardsValidFrom",[],b)}if(a.validUntil){c.validUntil=new Date(a.validUntil*1000).format("shortDate");c.validUntilTitle=_T("HtmlTextLoyaltyCardsValidUntil",[],b)}}c.cancel=_T("HtmlTextLoyaltyCardsInfoButtonCancel",[],b);this.$el.append(loyaltyCardsTemplates.info_tpl(c));this.$cancelButton=this.$(".cancelButton");this.$cancelButton.tap(this.cancelButtonClick.hitch(this));this.$("IMG").load(function(){this.$scrollWrapper=this.$scrollWrapper||Scrolling.getMyScrollerWrapper(this.$el);Scrolling.onContentChanged(this.$scrollWrapper)}.hitch(this)).error(function(){$(this).remove()});return this},cancelButtonClick:function(a){a.preventDefault();this.model.trigger("onInfoClose",this.model);return false}}); var LoyaltyCardsCardView=Backbone.View.extend({className:"LoyaltyCardsCardView",render:function(){var g=this.model.toJSON();this.$el.append(loyaltyCardsTemplates.loyaltyCard(g));var f=this.model.get("isExpired");var e=this.model.get("isComingSoon");this.overrideTranslation=CurrentPageTracker.getCurrentPage().get("meta").overrideTranslation;if(f||e){var g={loyaltyCardExpired:_T(f?"HtmlTextLoyaltyCardsExpired":"HtmlTextLoyaltyCardsComingSoon",[],this.overrideTranslation)};this.$el.append(loyaltyCardsTemplates.loyaltyCardExpired(g));var d=this.$(".item_container");d.addClass("expired")}var c=this.model.get("description");if(c){var a=this.$(".description");var b=new HtmlContainerControl();b.renderHtml(a,c,{changeColors:false})}this.$cardContainer=this.$(".card_container");this.$cardContainer.tap(this.punchCardClick.hitch(this));this.model.bind("change:slots",this.renderCard,this);this.addButtons();this.renderCard();this.$("IMG").load(function(){this.$scrollWrapper=this.$scrollWrapper||Scrolling.getMyScrollerWrapper(this.$el);Scrolling.onContentChanged(this.$scrollWrapper)}.hitch(this)).error(function(){$(this).remove()});return this},punchCardClick:function(a){a.preventDefault();var c=this.model.get("isExpired");var b=this.model.get("isComingSoon");if(!c&&!b){this.model.openStampDialog()}return false},renderCard:function(){this.$cardContainer.html("");var g=this.model.get("slots"),a=$('<div class="fallback circle">'),l=$('<div class="fallback star">');for(var e=0;e<g.length;e++){var j=g[e],h=j.icon||{},d=$("<div>").addClass("slot");d.appendTo(this.$cardContainer);var b=j.punched?"punch":"whole",c={bg:"clr_punch_slot_"+b+"_bg",overlay:"clr_punch_slot_"+b+"_overlay",text:"clr_punch_slot_"+b+"_txt"};var k=_.bind(function(o,n,i){if(o.text){var m=$("<div>").addClass("slot_text "+i.text).text(o.text);m.appendTo(n)}},this,j,d,c);var f=a.clone().addClass(c.bg+"_fallback");Utils.Html.appendLayeredImage(d,h.bg,c.bg,f,k,k);if(h.overlay){var f=l.clone().addClass(c.overlay+"_fallback_text");Utils.Html.appendLayeredImage(d,h.overlay,c.overlay,f)}}},addButtons:function(){var c=this.$(".buttons_container");ShareControlHelper.addShareControlButton(c,this.model);var a=this.model.get("validity");var d=(this.model.get("disclaimer")||a.validFrom||a.validUntil);if(d){var b=new FlatButtonView({text:_T("HtmlTextLoyaltyCardsShowMoreButton",[],this.overrideTranslation),icon:"info22"});b.bind("onButtonClicked",this._showMore,this);c.append(b.render().el)}},_showMore:function(){this.model.trigger("onInfoOpen",this.model)}}); var LoyaltyCardsStampView=Backbone.View.extend({className:"LoyaltyCardsStampView narrow_box",render:function(){this.overrideTranslation=CurrentPageTracker.getCurrentPage().get("meta").overrideTranslation;var a={ok:_T("HtmlTextLoyaltyCardsDialogButtonOk",[],this.overrideTranslation),cancel:_T("HtmlTextLoyaltyCardsDialogButtonCancel",[],this.overrideTranslation)};this.$el.append(loyaltyCardsTemplates.stamp_tpl(a));this.$header=this.$(".header");this.$okButton=this.$(".okButton");this.$cancelButton=this.$(".cancelButton");this.$status=this.$(".status");this.$input=this.$("INPUT");this.$okButton.tap(this.okButtonClick.hitch(this));this.$cancelButton.tap(this.cancelButtonClick.hitch(this));this.model.bind("change:verificationState",this.updateState,this);this.$input.focus(this.onInputEnter.hitch(this));this.renderHeader();this.updateState();this.$("IMG").load(function(){this.$scrollWrapper=this.$scrollWrapper||Scrolling.getMyScrollerWrapper(this.$el);Scrolling.onContentChanged(this.$scrollWrapper)}.hitch(this)).error(function(){$(this).remove()});return this},close:function(){this.model.unbind("change:verificationState");this.$input.blur();this.model.closeStampDialog()},onInputEnter:function(a){this.$input.val("").attr({placeholder:_T("HtmlTextLoyaltyCardsDialogPlaceholder",[],this.overrideTranslation)});this.$input.removeClass("mandatory");this.$status.html("")},okButtonClick:function(b){b.preventDefault();if(!$(b.target).hasClass("disabled")){var a=this.$input.val();this.model.punch(a)}return false},cancelButtonClick:function(a){a.preventDefault();this.close();return false},renderHeader:function(){var f=this.model.getActiveSlot();var e=f.punchLayout||loyaltyCardsMaps.stampLayoutType[f.slotType];if(e===loyaltyCardsEnums.stampLayoutType.CONGRATS){var d=f;var b=loyaltyCardsTemplates.stampFreebieHeader_tpl}else{if(e===loyaltyCardsEnums.stampLayoutType.GET_FREE){var d=f;var b=loyaltyCardsTemplates.stampMidFreebieHeader_tpl}else{var d=this.model.toJSON();var b=loyaltyCardsTemplates.stampNormalHeader_tpl}}d=_.extend(d,{CongratsCaption:_T("HtmlTextLoyaltyCardsDialogCongratsCaption",[],this.overrideTranslation),FreebieText:_T("HtmlTextLoyaltyCardsDialogFreebieText",{freebie:'<div class="freebie size_title_4 clr_contTypeB_hdlTxt">'+d.freebieName+"</div>"},this.overrideTranslation),DialogStampCaption:_T("HtmlTextLoyaltyCardsDialogStampCaption",[],this.overrideTranslation),MidFreebieText:_T("HtmlTextLoyaltyCardsDialogMidFreebieText",{freebie:'<span class="mid_freebie clr_contTypeB_hdlTxt">'+d.freebieName+"</span>"},this.overrideTranslation),StampCaption:_T("HtmlTextLoyaltyCardsDialogStampCaption",[],this.overrideTranslation),NormalText:_T("HtmlTextLoyaltyCardsDialogNormalText",[],this.overrideTranslation)});this.$header.html(b(d));var c=this.$(".slot_icon_header");if(c&&c.length===1){var a="clr_punch_slot_punch_bg";Utils.Html.appendLayeredImage(c,f.icon.overlay,a)}},updateState:function(){var b=this.model.get("userData");var a=this.model.get("limits");var j=new Date().getTime();var k=this.model.get("verificationState");if(b.blockUntil&&b.blockUntil>j){this._disableStamp();this.$input.val("").attr({placeholder:_T("HtmlTextLoyaltyCardsDialogPlaceholderLocked",[],this.overrideTranslation)});this.$input.addClass("mandatory");var i=b.blockUntil-j;var g=""+Math.ceil(i/1000/60/60);var m=_T("HtmlTextLoyaltyCardsDialogServiceCoolDownText",{hours:g},this.overrideTranslation);this.$status.html(m).removeClass("clr_contTypeB_txt").addClass("clr_punch_errTxt");return}else{if(k===loyaltyCardsEnums.verificationState.VERIFYING){this.$input.removeClass("mandatory");this._disableStamp();var m=_T("HtmlTextLoyaltyCardsDialogLoading",[],this.overrideTranslation);this.$status.html(m).removeClass("clr_punch_errTxt").addClass("clr_contTypeB_txt")}else{if(k===loyaltyCardsEnums.verificationState.SERVER_FAIL){this._enableStamp();var m=_T("HtmlTextLoyaltyCardsDialogServiceFailText",[],this.overrideTranslation);this.$status.html(m).removeClass("clr_contTypeB_txt").addClass("clr_punch_errTxt")}else{if(k===loyaltyCardsEnums.verificationState.INVALID_CODE){this.$input.addClass("mandatory");this._enableStamp();var m=_T("HtmlTextLoyaltyCardsDialogWrongCodeText",[],this.overrideTranslation);this.$status.html(m).removeClass("clr_contTypeB_txt").addClass("clr_punch_errTxt")}else{if(k===loyaltyCardsEnums.verificationState.SUCCESS){var h=this.model.getActiveSlot();var f=h.afterPunchType||loyaltyCardsMaps.afterPunchType[h.slotType];if(f===loyaltyCardsEnums.afterPunchType.CONGRATS){var l=this.$el.height();this.$el.css({height:"1px","min-height":l+"px"});this.$input.remove();this.$status.remove();this.$okButton.remove();this.$header.html(loyaltyCardsTemplates.successHeader_tpl(_.extend(h,{CongratsSuccessCaption:_T("HtmlTextLoyaltyCardsDialogCongratsSuccessCaption",[],this.overrideTranslation),FreebieSuccessText:_T("HtmlTextLoyaltyCardsDialogFreebieSuccessText",{freebie:'<div class="freebie size_title_4 clr_contTypeB_hdlTxt">'+h.freebieName+"</div>"},this.overrideTranslation)})));var d=this.$(".slot_icon_header");if(d&&d.length===1){var c="clr_punch_slot_punch_bg";Utils.Html.appendLayeredImage(d,h.icon.overlay,c)}var e=this.$(".buttonsContainer");ShareControlHelper.addShareControlButton(e,this.model,null,{big:true})}else{this.close()}}else{this.$input.val("");this.$input.focus();if(PLATFORM!==platformEnum.simulator&&a.punchesPerDay&&this.model.getPunchesToday()>=a.punchesPerDay){this._disableStamp();var m=_T("HtmlTextLoyaltyCardsDialogLimitPerDayText",{punchesPerDay:a.punchesPerDay},this.overrideTranslation);this.$status.html(m).removeClass("clr_contTypeB_txt").addClass("clr_punch_errTxt")}else{this._enableStamp();this.$status.html("")}}}}}}this.$scrollWrapper=this.$scrollWrapper||Scrolling.getMyScrollerWrapper(this.$el);Scrolling.onContentChanged(this.$scrollWrapper)},_disableStamp:function(){this.$input.addClass("disabled");this.$input.attr({disabled:"disabled"});this.$okButton.addClass("disabled")},_enableStamp:function(){this.$input.removeClass("disabled");this.$input.removeAttr("disabled");this.$input.attr({placeholder:_T("HtmlTextLoyaltyCardsDialogPlaceholder",[],this.overrideTranslation)});this.$okButton.removeClass("disabled")}}); var loyaltyCardsTemplates={pageCardContainer:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="black_bg clr_punch_wideBg"></div><div class="scroll_wrapper"><div class="scroller"><div class="active animationContainer"><div class="fullCardContainer sliced_image" style="background-image:url(\''+((__t=(images.background))==null?"":__t)+'\')"><div class="clr_punch_bgImage_overlayBg cardContainer"></div></div></div><div class="inactive animationContainer"><div class="fullCardContainer sliced_image" style="background-image:url(\''+((__t=(images.background))==null?"":__t)+'\')"><div class="clr_punch_bgImage_overlayBg cardContainer"></div></div></div><div class="clearfix"></div></div></div>'}return __p},scroller_tpl:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="scroll_wrapper"><div class="scroller"></div></div>'}return __p},info_tpl:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="box2">';if(images.header){__p+='<img class="header_image" src="'+((__t=(images.header))==null?"":__t)+'" />'}__p+='<div class="not_responsive card_info_title size_title_3 _1_line clr_contTypeB_hdlTxt ellipsis">'+((__t=(infoTitle))==null?"":__t)+"</div>";if(disclaimer){__p+='<div class="disclaimer size_1 clr_contTypeB_txt">'+((__t=(disclaimer))==null?"":__t)+"</div>"}__p+="";if(validFrom||validUntil){__p+=' <div class="new_box validityTitle clr_contTypeB_brdr not_responsive size_title_1 clr_contTypeB_hdlTxt">'+((__t=(validityTitle))==null?"":__t)+'</div><div class="validity_box box clr_contTypeB_brdr"><div class="val_icon mask_sprite sprite-cal clr_contTypeB_icn"></div><div class="val_texts_container">';if(validFrom){__p+=' <div class="val_text clr_contTypeB_txt not_responsive size_1"><span class="val_mini_title not_responsive size_title_1 clr_contTypeB_hdlTxt">'+((__t=(validFromTitle))==null?"":__t)+"</span>"+((__t=(validFrom))==null?"":__t)+"</div>"}__p+=" ";if(validUntil){__p+=' <div class="val_text clr_contTypeB_txt not_responsive size_1"><span class="val_mini_title not_responsive size_title_1 clr_contTypeB_hdlTxt">'+((__t=(validUntilTitle))==null?"":__t)+"</span>"+((__t=(validUntil))==null?"":__t)+"</div>"}__p+=" </div></div>"}__p+=' <div class="cancelButton button clr_appGeneral_dialog_btn2_bg clr_appGeneral_dialog_btn2_brdr clr_appGeneral_dialog_btn2_hdlTxt" data-role="button">'+((__t=(cancel))==null?"":__t)+"</div></div>"}return __p},stamp_tpl:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="table"><div class="header"></div><input type="tel" maxlength="4" class="input clr_form_input_bg clr_form_input_brdr clr_form_input_txt" /><div class="status size_1"></div><div class="space"></div><div class="buttonsContainer"><div class="okButton button clr_contTypeB_btn_bg clr_contTypeB_btn_brdr clr_contTypeB_btn_hdlTxt" data-role="button">'+((__t=(ok))==null?"":__t)+'</div><div class="cancelButton button clr_appGeneral_dialog_btn2_bg clr_appGeneral_dialog_btn2_brdr clr_appGeneral_dialog_btn2_hdlTxt" data-role="button">'+((__t=(cancel))==null?"":__t)+"</div></div></div>"}return __p},stampFreebieHeader_tpl:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="box1">';if(typeof(icon)!==undefined&&icon.overlay){__p+='<div class="slot_icon_header"></div>'}__p+='<div class="not_responsive title size_title_3 _1_line clr_contTypeB_hdlTxt ellipsis">'+((__t=(CongratsCaption))==null?"":__t)+'</div><div class="text1 size_1 clr_contTypeB_txt">'+((__t=(FreebieText))==null?"":__t)+"</div></div>"}return __p},successHeader_tpl:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="box1">';if(typeof(icon)!==undefined&&icon.overlay){__p+='<div class="slot_icon_header"></div>'}__p+='<div class="not_responsive title size_title_3 _1_line clr_contTypeB_hdlTxt ellipsis">'+((__t=(CongratsSuccessCaption))==null?"":__t)+'</div><div class="text1 size_1 clr_contTypeB_txt">'+((__t=(FreebieSuccessText))==null?"":__t)+"</div></div>"}return __p},stampMidFreebieHeader_tpl:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="box1">';if(typeof(icon)!==undefined&&icon.overlay){__p+='<div class="slot_icon_header"></div>'}__p+='<div class="not_responsive title size_title_3 _1_line clr_contTypeB_hdlTxt ellipsis">'+((__t=(DialogStampCaption))==null?"":__t)+'</div><div class="text1 size_1 clr_contTypeB_txt">'+((__t=(MidFreebieText))==null?"":__t)+"</div></div>"}return __p},stampNormalHeader_tpl:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="box1">';if(images.header){__p+='<img class="header_image" src="'+((__t=(images.header))==null?"":__t)+'" />'}__p+='<div class="not_responsive title size_title_3 _1_line clr_contTypeB_hdlTxt ellipsis">'+((__t=(StampCaption))==null?"":__t)+'</div><div class="text1 size_1 clr_contTypeB_txt">'+((__t=(NormalText))==null?"":__t)+"</div></div>"}return __p},list_item_tpl:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="item_container clr_contTypeB_bubbleItem_bg clr_contTypeB_bubbleItem_brdr box" data-role="button">';if(title){__p+='<div class="not_responsive list_title size_title_3 _1_line clr_contTypeB_hdlTxt ellipsis">'+((__t=(title))==null?"":__t)+"</div>"}__p+="";if(description){__p+='<div class="description clr_contTypeB_txt"></div>'}__p+='<div class="main_banner clr_contTypeB_subBg">';if(images.header){__p+='<div class="image top_sliced_image" style="background-image:url(\''+((__t=(images.background))==null?"":__t)+'\')"><div class="clr_punch_bgImage_overlayBg image"><div class="small_header_image contain_image" style="background-image:url(\''+((__t=(images.header))==null?"":__t)+'\')"></div></div></div><div class="offer_container">'}else{__p+='<div class="offer_container_no_image">'}__p+='<div class="vertical_center"><div>';if(upperTitle){__p+='<div class="not_responsive size_0 upperTitle clr_contTypeB_subTxt">'+((__t=(Utils.String.translateIfNeed(upperTitle)))==null?"":__t)+"</div>"}__p+='<div class="mainOfferTitle clr_contTypeB_hdlTxt">'+((__t=(offerTitle))==null?"":__t)+"</div></div></div></div></div>"}return __p},listItemDates:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="dates_container not_responsive size_0 _1_line">             ';if(startStr){__p+='                 <div class="left startStr clr_contTypeB_subTxt">'+((__t=(startStr))==null?"":__t)+'</div>                <div class="left formattedValidFrom clr_contTypeB_hdlTxt">'+((__t=(formattedValidFrom))==null?"":__t)+"</div>            "}__p+="             ";if(endStr){__p+='                 <div class="right formattedValidUntil clr_contTypeB_hdlTxt">'+((__t=(formattedValidUntil))==null?"":__t)+'</div>                <div class="right endStr clr_contTypeB_subTxt">'+((__t=(endStr))==null?"":__t)+"</div>            "}__p+="         </div>"}return __p},loyaltyCard:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="box2 item_container">';if(images.header){__p+='<img class="header_image" src="'+((__t=(images.header))==null?"":__t)+'" />'}if(title){__p+='<div class="not_responsive title size_title_3 _1_line clr_contTypeB_hdlTxt ellipsis">'+((__t=(title))==null?"":__t)+"</div>"}__p+="";if(description){__p+='<div class="description clr_contTypeB_txt"></div>'}__p+='<div class="card_container"></div><div class="buttons_container"></div></div>'}return __p},loyaltyCardExpired:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="expired-wrapper"><div class="expired-ribbon-wrapper"><div class="expired-ribbon clr_appGeneral_ribbon_bg clr_appGeneral_ribbon_brdr clr_appGeneral_ribbon_txt">'+((__t=(loyaltyCardExpired))==null?"":__t)+"</div></div></div>"}return __p}}; 







var linksTemplates={};linksTemplates.pageTemplate=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="scroll_wrapper"><div class="scroller">';if(typeof(logoImgUrl)!="undefined"&&logoImgUrl){__p+='<div class="header" style="background-image:url('+((__t=(logoImgUrl))==null?"":__t)+');">';if(typeof(text)!="undefined"&&text){__p+='<div class="header_box clr_contTypeC_bg"><div class="size_title_3 max_3_lines links_title clr_contTypeC_hdlTxt">'+((__t=(text))==null?"":__t)+"</div></div>"}__p+="</div>"}__p+='<div class="linksContainer"></div></div></div>'}return __p};linksTemplates.linkTemplate=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="link" data-role="button">';if(typeof(imageUrl)!="undefined"&&imageUrl){__p+='<div class="link_image contain_image" style="background-image:url('+((__t=(imageUrl))==null?"":__t)+');"></div>'}else{if(typeof(title)!="undefined"&&title){__p+='<span class="link_title ellipsis">'+((__t=(title))==null?"":__t)+"</span>"}}__p+="</div>"}return __p};linksTemplates.linkDetailsTemplate=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="scroll_wrapper"><div class="scroller">';if(imageUrl){__p+='<img class="img clr_contTypeA_brdr" src="'+((__t=(imageUrl))==null?"":__t)+'" />'}__p+="";if(linkTitle){__p+='<a class="linkItem clr_contTypeA_bg clr_contTypeA_brdr" href="javascript:void(0)" data-role="button" ><div class="icon mask_sprite sprite-link clr_contTypeA_icn" alt="" /><div class="size_title_1 linkTitle clr_contTypeA_hdlTxt">'+((__t=(linkTitle))==null?"":__t)+"</div></a>"}__p+="";if(title){__p+='<div class="size_title_4 title clr_contTypeA_hdlTxt">'+((__t=(title))==null?"":__t)+"</div>"}__p+="";if(description){__p+='<div class="size_title_1 descriptionTitle clr_contTypeA_subTxt">'+((__t=(descriptionTitle))==null?"":__t)+'</div><div class="size_0 description clr_contTypeA_txt"></div>'}__p+="</div></div>"}return __p}; var LinksView=Backbone.View.extend({className:"links_page",initialize:function(){this.$el.attr({"data-role":"page"});var a=this.model.get("layoutId");if(a===0||a===1||a===3){$(window).bind("throttledresize",this.onResize.hitch(this));this.$el.bind("pageshow",function(){setTimeout(function(){this.onPageShow()}.hitch(this),10)}.hitch(this));this.$el.bind("pagehide",this.onPageHide.hitch(this))}},render:function(){var e=linksTemplates.pageTemplate;var b=this.model.get("layoutId");this.$el.html(e(this.model.toJSON())).addClass("layout-"+b);if(LAYOUT===layoutFormat.wide){this.$el.addClass("wide")}var d=linksTemplates.linkTemplate;var a=this.$(".linksContainer");var c=this.model.get("links");if(c){$.each(c,function(h,i){var g=$(d(i));a.append(g);g.tap(function(j){if(i.details){UN.navTo(i.details.alias,{level:2})}else{appDriver.openLink(null,null,{url:i.url,title:i.title})}return false}.hitch(this))}.hitch(this))}a.find("IMG").error(function(){$(this).remove()});this.$itemsList=a;var f=this.$(".scroll_wrapper");Scrolling.init(f);return this},onResize:function(){if(this.isPageShow){this.updateGrid()}},onPageShow:function(){this.isPageShow=true;this.updateGrid();this.$itemsList.css({visibility:"visible"})},onPageHide:function(){this.isPageShow=false;this.$itemsList.css({visibility:"hidden"})},updateGrid:function(){var b={minWidth:150,maxWidth:99999,margin:0,setAlsoMargin:false,setAlsoHeight:false};var a=this.model.get("layoutId");if(a===1){b.setAlsoHeight=true;b.minWidth=100}else{if(a===3){b.margin=10;b.minWidth=120}}if(LAYOUT===layoutFormat.wide){b.minWidth=b.minWidth*2}Utils.Html.setGridSizes(this.$itemsList,b)},addTabsView:function(a){this.$(".scroller").prepend(a)}}); var LinksTemplateView=TemplateView.extend({initialize:function(){TemplateView.prototype.initialize.apply(this);var a=this.model.get("meta");if(!a.pageLayout||a.pageLayout<0||a.pageLayout>3){a.pageLayout=0}this.model.set({meta:a})},_renderTab:function(c,d){var f=this.model.get("meta");var e=f.items[c]||{};e.layoutId=f.pageLayout;var g=new Backbone.Model(e);var b=g.get("links");if(b){$.each(b,function(i,j){if(j.details){j.details.alias=Utils.Html.fixAlias(j.details.alias||j.details.title||j.title)}})}var h=Utils.Helpers.generateGUID();var a=new LinksView({model:g,id:h});this.$el.append(a.render().el);this.addTabsToView(a,c);UN.registerChange(this._navToInner.hitch(this),2,{data:{model:g},navRequest:d});UN.onPageReady(h,d,1,true)},_navToInner:function(f,c){var d=f.navRequest;var e=null;var a=f.model.get("links");if(a){for(var b=a.length-1;b>-1;b--){e=a[b];if(e.details&&e.details.alias===c){break}}}if(!e||b===-1){this.itemNotFound(d,2,null);return}var h=Utils.Helpers.generateGUID();var g=new LinkDetailsView({model:new Backbone.Model(e),id:h});this.$el.append(g.render().el);UN.onPageReady(h,d,2)}}); var LinkDetailsView=Backbone.View.extend({className:"link_details_page clr_contTypeA_bg",initialize:function(){this.$el.attr({"data-role":"page"})},render:function(){var b=this.model.get("details")||{};var c={descriptionTitle:_T("HtmlTextLinksDescriptionTitle"),linkTitle:b.linkTitle||"",title:b.title||"",imageUrl:b.imageUrl||"",description:b.description||""};this.$el.html(linksTemplates.linkDetailsTemplate(c));if(c.description){var a=new HtmlContainerControl();a.renderHtml(this.$(".description"),c.description,{changeColors:false})}this.$(".linkItem").tap(function(g){var f=this.model.toJSON();appDriver.openLink(null,null,{url:f.url,title:f.title});return false}.hitch(this));var d=this.$(".scroll_wrapper");Scrolling.init(d);this.$("IMG").load(function(){Scrolling.onContentChanged(d)}).error(function(){$(this).remove()});return this}}); 



var couponsEnums={couponType:{UNKNOWN:0,DISCOUNT:1,CUSTOM:2,BUY_AND_GET:3},discountType:{PERCENT:0,MONEY:1},offerType:{NO_OFFER:0,DISCOUNT:1,FINAL_PRICE:2,CUSTOM_TEXT:3,CUSTOM_ICON:4}}; var CouponsListModel=ItemsModel.extend({createItemsCollection:function(){var a=this.get("params");return new CouponsCollection(null,a)}}); var CouponModel=ItemModel.extend({_key:"CouponClaim",defaults:{id:"",couponType:couponsEnums.couponType.UNKNOWN,isClaimed:false,claim:false,title:"",description:"",imageUrl:"",largeImageUrl:"",dealDetails:"",overrideHtmlColors:true,disclaimer:"",productDiscount:{discountType:couponsEnums.discountType.PERCENT,offerType:couponsEnums.offerType.DISCOUNT,price:0,discount:0,imageUrl:"",upperTitle:null,lowerTitle:null,offerTitle:"",currency:"USD",currencySymbol:"$"},validity:{validFrom:0,validUntil:0,hours:null},linkCaption:"",linkUrl:"",socialInfo:{title:"",imageUrl:"",url:""}},initialize:function(){var b=Utils.Html.fixAlias(this.get("alias")||this.get("id"));this.set({alias:b,isClaimed:this.isClaimed()});if(!this.get("linkCaption")){this.set({linkCaption:"{$HtmlTextCouponsTermsTitle}"})}var a=this.get("productDiscount");var c=CurrentPageTracker.getCurrentPage().get("meta").overrideTranslation;if(a.upperTitle===null){a.upperTitle=_T("HtmlTextCouponsTitleOffer",[],c)}if(a.lowerTitle===null){if(a.offerType===couponsEnums.offerType.DISCOUNT){a.lowerTitle=_T("HtmlTextCouponsPriceOff",[],c)}else{a.lowerTitle=""}}if(!this.get("largeImageUrl")){this.set("largeImageUrl",this.get("imageUrl"))}},_isDateExpired:function(){var a=this.get("validity");if(a.validUntil===0){return false}var b=(new Date().getTime()/1000);a.validUntil+=24*60*60;return(a.validUntil&&a.validUntil<b)},isExpired:function(){return this._isDateExpired()},isClaimed:function(){var c=this.get("id");if(!c){return false}var a=this._key+c;var b=storageDriver.getItem(null,null,a,true);if(b){return true}return false},setClaimed:function(){var b=this.get("id");if(!b){return}var a=this._key+b;storageDriver.setItem(null,null,a,"1",true);this.set({isClaimed:true})},getShareInfo:function(){var e=$.extend({},this.get("socialInfo"));var f=CurrentPageTracker.getCurrentPage().get("meta").overrideTranslation;var d=e.title;var c=_T("HtmlTextCouponsShareTitle",[],f);var a=AppManager.app().get("appLabel");var g;if(_.isNull(d)){g=_T("HtmlTextCouponsShareDescriptionNoTitle",{appName:a},f)}else{g=_T("HtmlTextCouponsShareDescription",{offerTitle:d,appName:a},f)}e.title=c;e.shortDesc=g;if(e.url==="$APP_LINK"){var b=AppManager.app().get("appLink");e.url=(b)?b:""}return e}}); var CouponsCollection=ItemsCollection.extend({model:CouponModel,initialize:function(b,a){ItemsCollection.prototype.initialize.apply(this);if(!a.listId||!a.type){this.invalid=true}this.params=a},getServiceName:function(){return"CMS_COUPONS_GET"},parse:function(a){var b=$.map(a.items,function(d,c){if(d.couponType===couponsEnums.couponType.BUY_AND_GET||d.couponType===couponsEnums.couponType.CUSTOM||d.couponType===couponsEnums.couponType.DISCOUNT){return d}});return{models:b}},getParams:function(){return this.params}}); var CouponsTemplateView=TemplateView.extend({_renderTab:function(c,e){var f=this.model.get("meta"),d=f.items[c]||{params:{}};this.model.get("tabCollection").models[c].set("selected",true);var b=new CouponsListModel({params:d.params});b.set({layoutId:f.pageLayout,layoutParams:f.items,overrideTranslation:f.overrideTranslation});var a=new CouponsListView({model:b});this.renderListPage({navRequest:e,model:b,view:a})},getDefaultItemAlias:function(d){var b=d.navRequest;var c=d.model.get("items");if(c.length===1){var a=c.at(0);return a.get("alias")}return null},getDetailsView:function(a){return new CouponDetailsPageView({model:a})}}); var CouponsListView=ItemsView.extend({initialize:function(){this.$el.attr({"data-role":"page","data-buttons":"refresh"});this.isGrid=(LAYOUT===layoutFormat.wide);this.$el.html(couponsTemplates.scroller_tpl());this.$scroll_wrapper=this.$(".scroll_wrapper");Scrolling.init(this.$scroll_wrapper);this.$scroller=this.$(".scroller");if(this.isGrid){$(window).bind("throttledresize",this.onResize.hitch(this));var a=this.model.get("items");if(a){a.bind("getItemsSuccess",this.onResize,this);this.onPageHide();this.$el.bind("pageshow",this.onPageShow.hitch(this));this.$el.bind("pagehide",this.onPageHide.hitch(this))}}this.$el.bind("refresh",this.handleRefreshClick.hitch(this));this.$el.bind("silentRefresh",this.handleSilentRefresh.hitch(this));ItemsView.prototype.initialize.apply(this)},updateThumbnailsMargin:function(){Utils.Html.setGridMargin(this.$itemsList,{minMargin:1})},onResize:function(){if(this.isPageShow){this.updateThumbnailsMargin();Scrolling.triggerWrapperResize()}},onPageShow:function(){this.isPageShow=true;this.updateThumbnailsMargin()},onPageHide:function(){this.isPageShow=false},getRootView:function(){return this.$scroller},createItemView:function(a){return new CouponsItemView({model:a,layoutType:this.model.get("layoutId"),layoutParams:this.model.get("layoutParams"),isGrid:this.isGrid})}}); var CouponsItemView=ListItemView.extend({className:"t3d couponsItemView",events:{tap:"itemClicked"},render:function(){if(this.options.isGrid){this.$el.addClass("gridItem")}else{this.$el.addClass("feed_bubble_item")}this.$el.html(couponsTemplates.list_item_tpl());var d=this.$(".item_container");var e=CurrentPageTracker.getCurrentPage().get("meta").overrideTranslation;var c=new CouponPrimaryView({model:this.model,isListItem:true,isGrid:this.options.isGrid});d.html(c.render().el);var g=this.model.get("validity").validFrom;var b=this.model.get("validity").validUntil;var a=(new Date().getTime()/1000);if(b&&b<a){var f={couponExpired:_T("HtmlTextCouponsExpired",[],e)};this.$el.append(couponsTemplates.couponExpired(f));d.addClass("expired")}if(this.options.isGrid||g||b){var f={startStr:"",endStr:"",formattedValidFrom:"",formattedValidUntil:""};if(g){f.formattedValidFrom=new Date(g*1000).format("shortDate");f.startStr=_T("HtmlTextCouponsValidFrom",[],e)}if(b){f.formattedValidUntil=new Date(b*1000).format("shortDate");f.endStr=_T("HtmlTextCouponsValidUntil",[],e)}d.append(couponsTemplates.listItemDates(f))}return this},itemClicked:function(a){a.preventDefault();UN.navTo(this.model.get("alias"),{level:2})}}); var CouponPrimaryView=Backbone.View.extend({className:"coupon_box",events:{"tap .open_gallery":"_photoClick"},_photoClick:function(b){b.preventDefault();var c=this.model.get("largeImageUrl");if(c){var a=[{title:this.model.get("title"),largeImage:c}];new PhotoGalleryManager().pressedImage(a,0);return false}},_showClaim:function(){if(this.options.isListItem&&this.model.get("isClaimed")){this.$el.find(".couponClaimContainer").html(couponsTemplates.couponShowClaimTemplate({CouponsCouponClaimed:_T("HtmlTextCouponsCouponClaimed",[],CurrentPageTracker.getCurrentPage().get("meta").overrideTranslation)}))}},render:function(){var a=this.model.get("productDiscount");if(!a){return this}var e={useDividedScreen:this.options.useDividedScreen,title:this.model.get("title"),description:this.model.get("description"),imageUrl:this.model.get("imageUrl"),isListItem:this.options.isListItem,classPrefix:this.options.isListItem?"clr_contTypeB":"clr_contTypeA",discountImage:"",useBigImage:false,isGrid:this.options.isGrid};if(a.offerType===couponsEnums.offerType.CUSTOM_ICON&&a.imageUrl&&this.options.isListItem){e.discountImage=a.imageUrl}if(a.offerType===couponsEnums.offerType.FINAL_PRICE||a.offerType===couponsEnums.offerType.DISCOUNT||a.offerType===couponsEnums.offerType.CUSTOM_TEXT||e.discountImage){e.upperTitle=Utils.String.translateIfNeed(a.upperTitle);e.lowerTitle=Utils.String.translateIfNeed(a.lowerTitle);e.currencySymbol="";e.percentSymbol="";e.offerTitle=a.offerTitle;if(a.offerType!==couponsEnums.offerType.CUSTOM_TEXT){if(a.offerType===couponsEnums.offerType.FINAL_PRICE){var b=a.price;if(a.discount){if(a.discountType===couponsEnums.discountType.MONEY){b=b-a.discount}else{if(a.discountType===couponsEnums.discountType.PERCENT){b=Math.floor(b*(100-a.discount)/100)}}}e.offerTitle=b;e.currencySymbol=a.currencySymbol||""}else{if(a.offerType===couponsEnums.offerType.DISCOUNT){e.offerTitle=a.discount;if(a.discountType===couponsEnums.discountType.MONEY){e.currencySymbol=a.currencySymbol||""}else{if(a.discountType===couponsEnums.discountType.PERCENT){e.percentSymbol="%"}}}}}var d=""+e.offerTitle;var c=d.length+e.percentSymbol.length/1.7+e.currencySymbol.length/1.7;e.numberFontSize=45;if(c>4){e.numberFontSize=Math.floor(160/c)}else{if(c>3){e.numberFontSize=41}}if(this.options.isListItem){e.numberFontSize=e.numberFontSize-4}if(LAYOUT===layoutFormat.wide){e.numberFontSize*=1.2}e.symbolFontSize=e.numberFontSize/1.7;e.symbolFontSize=Math.floor(e.symbolFontSize);e.numberFontSize=Math.floor(e.numberFontSize)}else{e.useBigImage=true}e.showClaim=e.isListItem&&this.model.get("isClaimed");e.largeImage=this.model.get("largeImageUrl");this.$el.html(couponsTemplates.couponPrimaryTemplate(e));this._showClaim();this.model.bind("change",this._showClaim.hitch(this));return this}}); var CouponDetailsPageView=Backbone.View.extend({attributes:{"data-role":"page"},render:function(){var a=new CouponFullView({model:this.model});this.$el.html(a.render().el);return this}}); var CouponFullView=Backbone.View.extend({className:"CouponFullView",render:function(){var d=(LAYOUT===layoutFormat.wide);var b=new CouponDataView({model:this.model,useDividedScreen:d});if(d){var c=new CouponData2View({model:this.model});var a=new DividedScreenView({id:"divided_screen_"+Utils.Helpers.generateGUID()});a.setView1(b.render());a.$el.removeAttr("data-role");this.$el.html(a.render().el);a.setView2(c.render())}else{this.$el.html(b.render().el)}return this}}); var CouponDataView=Backbone.View.extend({className:"data1",initialize:function(){this.overrideTranslation=CurrentPageTracker.getCurrentPage().get("meta").overrideTranslation},render:function(){var w={};this.$el.html(couponsTemplates.scroller_tpl(w));var b=this.$(".scroller");var m=this.model.get("dealDetails");var s=this.model.get("linkUrl");var w={useDividedScreen:this.options.useDividedScreen,pricesBanner:false,disclaimer:this.model.get("disclaimer"),validFrom:0,validUntil:0,hours:null,validityTitle:_T("HtmlTextCouponsTitleValidity",[],this.overrideTranslation),dealDetails:m,detailsTitle:_T("HtmlTextCouponsTitleDealDetails",[],this.overrideTranslation),linkUrl:s,linkCaption:Utils.String.translateIfNeed(this.model.get("linkCaption"))};var g=this.model.get("productDiscount");if(g.price&&g.discount){w.pricesBanner={titleA:_T("HtmlTextCouponsTitleOriginalPrice",[],this.overrideTranslation),numberA:g.price,symbolA:g.currencySymbol,symbolB:"",symbolC:"",titleC:_T("HtmlTextCouponsTitleSaving",[],this.overrideTranslation)};if(g.offerType===couponsEnums.offerType.FINAL_PRICE){w.pricesBanner.titleB=_T("HtmlTextCouponsTitleDiscount",[],this.overrideTranslation);w.pricesBanner.numberB=g.discount;if(g.discountType===couponsEnums.discountType.MONEY){w.pricesBanner.symbolB=g.currencySymbol;w.pricesBanner.numberC=Math.floor(100*g.discount/g.price)}else{if(g.discountType===couponsEnums.discountType.PERCENT){w.pricesBanner.symbolC=g.currencySymbol;w.pricesBanner.numberC=Math.floor(g.price*g.discount/100)}}}else{w.pricesBanner.titleB=_T("HtmlTextCouponsTitleNewPrice",[],this.overrideTranslation);w.pricesBanner.symbolB=g.currencySymbol;if(g.discountType===couponsEnums.discountType.MONEY){w.pricesBanner.numberB=parseFloat((g.price-g.discount).toFixed(2));w.pricesBanner.numberC=Math.floor(100*g.discount/g.price)}else{if(g.discountType===couponsEnums.discountType.PERCENT){w.pricesBanner.numberB=parseFloat((g.price*(100-g.discount)/100).toFixed(2));w.pricesBanner.symbolC=g.currencySymbol;w.pricesBanner.numberC=Math.floor(g.price*g.discount/100)}}}}var l=this.model.get("validity");if(l.validFrom||l.validUntil){if(l.validFrom){w.validFrom=new Date(l.validFrom*1000).format("shortDate");w.validFromTitle=_T("HtmlTextCouponsValidFrom",[],this.overrideTranslation)}if(l.validUntil){w.validUntil=new Date(l.validUntil*1000).format("shortDate");w.validUntilTitle=_T("HtmlTextCouponsValidUntil",[],this.overrideTranslation)}}if(l.hours){var i=l.hours;if(i&&i.length){var o=[_T("_day1s",[],this.overrideTranslation),_T("_day2s",[],this.overrideTranslation),_T("_day3s",[],this.overrideTranslation),_T("_day4s",[],this.overrideTranslation),_T("_day5s",[],this.overrideTranslation),_T("_day6s",[],this.overrideTranslation),_T("_day7s",[],this.overrideTranslation)];var n=_T("_firstDayOfWeek",[],this.overrideTranslation);for(var u=0;u<i.length;u++){var d=$.map(i[u].days,function(k,j){k=(k%7);if(k<n){k+=7}return k});d=d.sort();var q="";for(var t=0;t<d.length;t++){q+=o[(d[t]%7)];for(var e=t+1;(e<d.length)&&(d[e-1]+1===d[e]);e++){}if(e>t+2){q+="-";t=e-2}else{if(t+1<d.length){q+=", "}}}i[u].daysStr=q;i[u].hoursStr=i[u].startHour+" - "+i[u].endHour}w.hours=i}else{w.hours=_T("HtmlTextCouponsNoHours",[],this.overrideTranslation)}}var f=$(couponsTemplates.fullCoupon(w));b.html(f);if(this.model.isExpired()){w.couponExpired=_T("HtmlTextCouponsExpired",[],this.overrideTranslation);b.prepend(couponsTemplates.couponExpired(w));f.addClass("expired")}else{if(this.model.get("claim")){var p=new CouponClaimView({model:this.model});this.$(".claim_container").prepend(p.render().el)}}if(m){var r=this.$(".deal_details");var a=new HtmlContainerControl();a.renderHtml(r,m,{changeColors:this.model.get("overrideHtmlColors")})}this.$(".view_original_button").tap(function(j){appDriver.openLink(null,null,{url:s})});var c=new CouponPrimaryView({model:this.model,isListItem:false,useDividedScreen:this.options.useDividedScreen});this.$(".primary_container").html(c.render().el);var v=this.$(".share_container");ShareControlHelper.addShareControlButton(v,this.model);var h=this.$(".scroll_wrapper");Scrolling.init(h);Scrolling.onContentChanged(h);return this}}); var CouponData2View=Backbone.View.extend({className:"data2 clr_contTypeB_bg",render:function(){var f={};this.$el.html(couponsTemplates.scroller_tpl(f));var e=this.$(".scroller");var g=this.$(".scroll_wrapper");var c=this.model.get("dealDetails");var f={title:this.model.get("title"),description:this.model.get("description"),largeImage:this.model.get("largeImageUrl"),dealDetails:c,detailsTitle:_T("HtmlTextCouponsTitleDealDetails",[],CurrentPageTracker.getCurrentPage().get("meta").overrideTranslation),imageUrl:this.model.get("imageUrl")};var d=$(couponsTemplates.data2(f));e.html(d);e.find("IMG").load(function(){Scrolling.onContentChanged(g)}.hitch(this)).error(function(){$(this).remove()});if(this.model.isExpired()){this.$el.addClass("expired")}if(c){var a=this.$(".deal_details");var b=new HtmlContainerControl();b.renderHtml(a,c,{changeColors:this.model.get("overrideHtmlColors"),colorType:"B"})}Scrolling.init(g);return this}}); var CouponClaimView=Backbone.View.extend({className:"CouponClaimView color_claim_content",events:{"tap .clickable_button":"claimCoupon"},initialize:function(){this.overrideTranslation=CurrentPageTracker.getCurrentPage().get("meta").overrideTranslation},render:function(){this.$claimed=$(this.getClaimed());this.$el.html(this.$claimed);if(this.model.get("isClaimed")){}else{this.$claimed.addClass("out");this.$notClaimed=$(this.getNotClaimed());this.$el.append(this.$notClaimed)}return this},getNotClaimed:function(){var a={txt:_T("HtmlTextCouponsClaimButton",[],this.overrideTranslation)};return couponsTemplates.claimCoupon(a)},getClaimed:function(){var a={txt:_T("HtmlTextCouponsCouponClaimedLongText",[],this.overrideTranslation)};return couponsTemplates.couponClaimed(a)},addClaimUsage:function(){UsageManager.addEvent(analytics.usageEventTypeEnum.CouponClaimed,{couponId:this.model.get("id")},true)},claimCoupon:function(){this.model.setClaimed();this.addClaimUsage();this.$claimed.addClass("animation");this.$notClaimed.addClass("animation");this.$claimed.removeClass("out");this.$notClaimed.addClass("out");this.$notClaimed.removeClass("clickable_button")}}); var couponsTemplates={scroller_tpl:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="scroll_wrapper"><div class="scroller"></div></div>'}return __p},list_item_tpl:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="item_container clr_contTypeB_bubbleItem_bg clr_contTypeB_bubbleItem_brdr box" data-role="button"></div>'}return __p},couponExpired:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="expired-wrapper">   <div class="expired-ribbon-wrapper"><div class="expired-ribbon clr_appGeneral_ribbon_bg clr_appGeneral_ribbon_brdr clr_appGeneral_ribbon_txt">'+((__t=(couponExpired))==null?"":__t)+"</div></div></div>"}return __p},couponPrimaryTemplate:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";if(!useDividedScreen){__p+="";if(isListItem&&isGrid){__p+=' <div class="fixedHeightTexts"> '}__p+='<div class="couponClaimContainer"> </div>';if(title){__p+=' <div class="responsive size_title_3 max_2_lines title '+((__t=(classPrefix))==null?"":__t)+'_hdlTxt">'+((__t=(title))==null?"":__t)+"</div>"}__p+=" ";if(description&&!(isListItem&&isGrid&&showClaim)){__p+=' <div class="responsive size_1 max_3_lines description '+((__t=(classPrefix))==null?"":__t)+'_txt">'+((__t=(description))==null?"":__t)+"</div>"}__p+=" ";if(isListItem&&isGrid){__p+=" </div> "}__p+=""}__p+=" ";if(!useDividedScreen||!useBigImage){__p+=' <div class="';if(useDividedScreen){__p+="top_banner box"}else{__p+="main_banner"}__p+=" "+((__t=(classPrefix))==null?"":__t)+'_subBg"> ';if(!useDividedScreen){__p+=' <div class="image sliced_image ';if(!isListItem){__p+=" open_gallery "}if(useBigImage){__p+=" big "}__p+='" style="background-image:url(\''+((__t=(imageUrl))==null?"":__t)+"')\">";if(!isListItem&&largeImage){__p+=' <div class="full_screen_hint sprite sprite-FullScreenIcon"></div> '}__p+="</div> "}__p+=" ";if(!useBigImage){__p+=" ";if(useDividedScreen){__p+=' <div class="horizontal_center">'}else{__p+=' <div class="offer_container"><div class="vertical_center"><div> '}__p+=" ";if(upperTitle){__p+=' <div class="element responsive size_0 _1_line upperTitle '+((__t=(classPrefix))==null?"":__t)+'_subTxt">'+((__t=(upperTitle))==null?"":__t)+"</div> "}__p+=" ";if(discountImage){__p+=' <img class="element discountImage" src="'+((__t=(discountImage))==null?"":__t)+'" />'}else{__p+=' <div class="element mainOfferTitle '+((__t=(classPrefix))==null?"":__t)+'_hdlTxt" dir="ltr"> <span class="symbol currencySymbol" style="font-size:'+((__t=(symbolFontSize))==null?"":__t)+'px">'+((__t=(currencySymbol))==null?"":__t)+'</span> <span class="offerTitle" style="font-size:'+((__t=(numberFontSize))==null?"":__t)+'px">'+((__t=(offerTitle))==null?"":__t)+'</span> <span class="symbol percentSymbol" style="font-size:'+((__t=(symbolFontSize))==null?"":__t)+'px">'+((__t=(percentSymbol))==null?"":__t)+"</span> </div> "}__p+=" ";if(lowerTitle){__p+=' <div class="element responsive size_0 _1_line lowerTitle '+((__t=(classPrefix))==null?"":__t)+'_subTxt">'+((__t=(lowerTitle))==null?"":__t)+"</div> "}__p+=" ";if(useDividedScreen){__p+=" </div> "}else{__p+=" </div></div></div>"}__p+=" "}__p+=" </div>"}__p+=""}return __p},couponShowClaimTemplate:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="CouponClaimView_inList color_claim_content"><img class="iconV_inList" src="app/interface/web/img/check.svg"/><span class="couponClaimedText_inList color_claim_text">'+((__t=(CouponsCouponClaimed))==null?"":__t)+"</span></div>"}return __p},data2:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="box_padding">';if(title){__p+=' \t<div class="responsive size_title_3 title clr_contTypeB_hdlTxt">'+((__t=(title))==null?"":__t)+"</div>"}__p+=" ";if(description){__p+=' \t<div class="responsive  description clr_contTypeB_txt">'+((__t=(description))==null?"":__t)+"</div>"}__p+=" ";if(largeImage){__p+=' \t<img class="largeImage" src="'+((__t=(largeImage))==null?"":__t)+'" />'}__p+=" ";if(dealDetails){__p+=' \t<div class="coupon_description">\t\t<div class="details_title responsive  clr_contTypeB_hdlTxt">'+((__t=(detailsTitle))==null?"":__t)+'</div>\t\t<div class="deal_details clr_contTypeB_txt"></div>\t</div>'}__p+="</div>"}return __p},listItemDates:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="dates_container responsive size_0 _1_line"> \t';if(startStr){__p+=' \t\t<div class="left startStr clr_contTypeB_subTxt">'+((__t=(startStr))==null?"":__t)+'</div>\t\t<div class="left formattedValidFrom clr_contTypeB_hdlTxt">'+((__t=(formattedValidFrom))==null?"":__t)+"</div>\t"}__p+=" \t";if(endStr){__p+=' \t\t<div class="right formattedValidUntil clr_contTypeB_hdlTxt">'+((__t=(formattedValidUntil))==null?"":__t)+'</div>\t\t<div class="right endStr clr_contTypeB_subTxt">'+((__t=(endStr))==null?"":__t)+"</div>\t"}__p+=" </div>"}return __p},claimCoupon:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<a class="claim_button color_claim_button clickable_button out_small" data-role="button">'+((__t=(txt))==null?"":__t)+"</a>"}return __p},couponClaimed:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="couponClaimed out_big"><img class="iconV" src="app/interface/web/img/check.svg"/><div class="vertical_center claimedBoxText"><div class="couponClaimedText color_claim_text">'+((__t=(txt))==null?"":__t)+"</div></div></div>"}return __p},fullCoupon:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="box clr_contTypeA_bg clr_contTypeA_brdr">\t<div class="claim_container"></div>\t<div class="primary_container"></div>\t';if(pricesBanner){__p+=' \t\t<div class="banner box clr_contTypeA_subBg clr_contTypeA_hdlTxt responsive size_0"><div class="boxA prices_box" dir="ltr"><span class="boxSymbol currencySymbol">'+((__t=(pricesBanner.symbolA))==null?"":__t)+'</span><span class="boxNumber responsive size_title_3">'+((__t=(pricesBanner.numberA))==null?"":__t)+'</span><div class="boxTitle clr_contTypeA_subTxt">'+((__t=(pricesBanner.titleA))==null?"":__t)+'</div></div><div class="boxB prices_box" dir="ltr">';if(pricesBanner.symbolB){__p+='<span class="boxSymbol currencySymbol">'+((__t=(pricesBanner.symbolB))==null?"":__t)+"</span>"}__p+='<span class="boxNumber responsive size_title_3">'+((__t=(pricesBanner.numberB))==null?"":__t)+"</span>";if(!pricesBanner.symbolB){__p+='<span class="boxSymbol percentSymbol">%</span>'}__p+='<div class="boxTitle clr_contTypeA_subTxt">'+((__t=(pricesBanner.titleB))==null?"":__t)+'</div></div><div class="boxC prices_box" dir="ltr">';if(pricesBanner.symbolC){__p+='<span class="boxSymbol currencySymbol">'+((__t=(pricesBanner.symbolC))==null?"":__t)+"</span>"}__p+='<span class="boxNumber responsive size_title_3">'+((__t=(pricesBanner.numberC))==null?"":__t)+"</span>";if(!pricesBanner.symbolC){__p+='<span class="boxSymbol percentSymbol">%</span>'}__p+='<div class="boxTitle clr_contTypeA_subTxt">'+((__t=(pricesBanner.titleC))==null?"":__t)+"</div></div></div>"}__p+="";if(disclaimer){__p+=' <div class="responsive size_1 disclaimer banner box clr_contTypeA_subBg clr_contTypeA_txt">'+((__t=(disclaimer))==null?"":__t)+"</div>"}__p+=' <div class="share_container"></div></div>';if(hours||validFrom||validUntil||dealDetails||linkUrl){__p+=' <div class="clr_contTypeB_bg validity">';if(hours||validFrom||validUntil){__p+=' <div class="new_box clr_contTypeB_brdr responsive size_title_1 clr_contTypeB_hdlTxt">'+((__t=(validityTitle))==null?"":__t)+"</div>"}__p+=" ";if(validFrom||validUntil){__p+=' <div class="validity_box box clr_contTypeB_brdr"><div class="val_icon mask_sprite sprite-cal clr_contTypeB_icn"></div><div class="val_texts_container">';if(validFrom){__p+=' <div class="val_text clr_contTypeB_txt responsive size_1"><span class="val_mini_title responsive size_title_1 clr_contTypeB_hdlTxt">'+((__t=(validFromTitle))==null?"":__t)+"</span><time>"+((__t=(validFrom))==null?"":__t)+"</time></div>"}__p+=" ";if(validUntil){__p+=' <div class="val_text clr_contTypeB_txt responsive size_1"><span class="val_mini_title responsive size_title_1 clr_contTypeB_hdlTxt">'+((__t=(validUntilTitle))==null?"":__t)+"</span><time>"+((__t=(validUntil))==null?"":__t)+"</time></div>"}__p+=" </div></div>"}if(hours){__p+=' <div class="validity_box box clr_contTypeB_brdr"><div class="val_icon mask_sprite sprite-clock clr_contTypeB_icn"></div><div class="val_texts_container">';if(_.isString(hours)){__p+='<div class="val_text clr_contTypeB_txt responsive size_1"><span class="val_mini_title responsive size_title_1 clr_contTypeB_hdlTxt">'+((__t=(hours))==null?"":__t)+"</span></div>"}else{__p+="";for(var hour in hours){__p+='<div class="val_text clr_contTypeB_txt responsive size_1"><span class="val_mini_title responsive size_title_1 clr_contTypeB_hdlTxt">'+((__t=(hours[hour].daysStr))==null?"":__t)+"</span><time>"+((__t=(hours[hour].hoursStr))==null?"":__t)+"</time></div>"}__p+=""}__p+="</div></div>"}__p+=" ";if(!useDividedScreen&&dealDetails){__p+=' <div class="new_box"><div class="details_title responsive size_title_1 clr_contTypeA_hdlTxt">'+((__t=(detailsTitle))==null?"":__t)+'</div><div class="deal_details responsive size_1 clr_contTypeA_txt"></div></div>'}__p+=" ";if(linkUrl){__p+=' <div class="urlBtn box"><a class="view_original_button clr_contTypeA_actBtn_bg clr_contTypeA_actBtn_brdr clr_contTypeA_actBtn_hdlTxt"href="javascript:void(0)">'+((__t=(linkCaption))==null?"":__t)+"</a></div>"}__p+=" </div>"}__p+=""}return __p}}; 

var agendaTemplates={};agendaTemplates.homePageTemplate=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="scroll_wrapper"><div class="scroller"></div></div>'}return __p};agendaTemplates.dateHeaderTemplate=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<a class="date-button prev clr_contTypeB_btn_bg clr_contTypeB_btn_brdr clr_contTypeB_btn_hdlTxt" data-role="button"><div class="nav_icon mask_sprite sprite-arrow-left clr_contTypeB_btn_icn"></div></a><a class="date-button next clr_contTypeB_btn_bg clr_contTypeB_btn_brdr clr_contTypeB_btn_hdlTxt" data-role="button"><div class="nav_icon mask_sprite sprite-arrow-right clr_contTypeB_btn_icn"></div></a><div class="day_caption clr_contTypeB_hdlTxt"></div><div class="date_caption clr_contTypeB_hdlTxt"></div>'}return __p};agendaTemplates.hallHeaderTemplate=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="triangle up clr_tab2Bar_triangle"></div><div class="triangle down clr_tab2Bar_triangle"></div><div class="slideable_bar"><a class="center hall_caption clr_tab2Bar_item_txt selected clr_tab2Bar_item_bg"><div class="hall_container ellipsis">'+((__t=(name))==null?"":__t)+"</div></a>";if(prev){__p+='<a class="prev hall_caption clr_tab2Bar_item_txt clr_tab2Bar_item_bg"><div class="hall_container ellipsis">'+((__t=(prev))==null?"":__t)+"</div></a>"}__p+="";if(next){__p+='<a class="next hall_caption clr_tab2Bar_item_txt clr_tab2Bar_item_bg"><div class="hall_container ellipsis">'+((__t=(next))==null?"":__t)+"</div></a>"}__p+="";if(prev2){__p+='<a class="prev2 hall_caption clr_tab2Bar_item_txt clr_tab2Bar_item_bg"><div class="hall_container ellipsis">'+((__t=(prev2))==null?"":__t)+"</div></a>"}__p+="";if(next2){__p+='<a class="next2 hall_caption clr_tab2Bar_item_txt clr_tab2Bar_item_bg"><div class="hall_container ellipsis">'+((__t=(next2))==null?"":__t)+"</div></a>"}__p+="</div>"}return __p};agendaTemplates.calendarTemplate=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="calendar" style="height:'+((__t=(calHeight))==null?"":__t)+'px;"></div><div class="sessionsContainer" style="height:'+((__t=(calHeight))==null?"":__t)+'px;"></div>'}return __p};agendaTemplates.calendarBoxTemplate=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="calendar_box clr_contTypeA_calBoxBrdr1" style="height:'+((__t=(height))==null?"":__t)+"px;top:"+((__t=(top))==null?"":__t)+'px;"></div>'}return __p};agendaTemplates.calendarBox2Template=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="calendar_box clr_contTypeA_calBoxBrdr2" style="height:'+((__t=(height))==null?"":__t)+"px;top:"+((__t=(top))==null?"":__t)+'px;"></div>'}return __p};agendaTemplates.calendarTimeTemplate=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="calendar_time clr_contTypeA_txt" style="top:'+((__t=(top))==null?"":__t)+'px;">'+((__t=(time))==null?"":__t)+"</div>"}return __p};agendaTemplates.singleLineEvent=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="event_title single_line clr_contTypeA_'+((__t=(colorCode))==null?"":__t)+'_hdlTxt">'+((__t=(title))==null?"":__t)+'</div><div class="event_time single_line clr_contTypeA_'+((__t=(colorCode))==null?"":__t)+'_subTxt">'+((__t=(time))==null?"":__t)+"</div>"}return __p};agendaTemplates.multiLinesEvent=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="event_title multi_lines" style="max-height:'+((__t=(textMaxHeight))==null?"":__t)+'px;"><div class="clr_contTypeA_'+((__t=(colorCode))==null?"":__t)+"_hdlTxt";if(ellipsis){__p+=" ellipsis"}__p+='" style="line-height:'+((__t=(textLineHeight))==null?"":__t)+'px;">'+((__t=(title))==null?"":__t)+'</div><div class="event_description clr_contTypeA_'+((__t=(colorCode))==null?"":__t)+'_txt" style="line-height:'+((__t=(textLineHeight))==null?"":__t)+'px;">'+((__t=(description))==null?"":__t)+'</div></div><div class="event_location clr_contTypeA_'+((__t=(colorCode))==null?"":__t)+"_subTxt";if(ellipsis){__p+=" ellipsis"}__p+='" style="max-height:'+((__t=(locationMaxHeight))==null?"":__t)+"px;line-height:"+((__t=(textLineHeight))==null?"":__t)+'px;">'+((__t=(location))==null?"":__t)+'</div><div class="event_time multi_lines clr_contTypeA_'+((__t=(colorCode))==null?"":__t)+'_subTxt">'+((__t=(time))==null?"":__t)+'</div><div class="event_speakers clr_contTypeA_'+((__t=(colorCode))==null?"":__t)+'_subTxt">'+((__t=(speaker))==null?"":__t)+"</div>";if(USE_AGENDA_FAVORITES){__p+='<div class="fav_button_container clr_contTypeA_'+((__t=(colorCode))==null?"":__t)+'_btn_bg"></div>'}__p+=""}return __p};agendaTemplates.addFavButton=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="fav_icon mask_sprite sprite-starEmpty clr_contTypeA_contentSession_btn_icn"></div>'}return __p};agendaTemplates.removeFavButton=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="fav_icon mask_sprite sprite-starFull clr_contTypeA_contentSession2_btn_icn"></div>'}return __p};agendaTemplates.fullSession=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="scroll_wrapper"><div class="scroller"><div class="itemContainer clr_contTypeA_bg clr_contTypeA_brdr t3d feed_classic_item"><div class="session_title clr_contTypeA_hdlTxt">'+((__t=(title))==null?"":__t)+"</div>";if(date){__p+='<div class="left agenda_icon mask_sprite sprite-speakers-date clr_contTypeA_subIcn"></div><div class="left session_date session_text clr_contTypeA_txt">'+((__t=(date))==null?"":__t)+'</div><div class="clearfix"></div>'}__p+="";if(time){__p+='<div class="left agenda_icon mask_sprite sprite-speakers-time clr_contTypeA_subIcn"></div><div class="left session_text clr_contTypeA_txt">'+((__t=(time))==null?"":__t)+'</div><div class="clearfix"></div>'}__p+="";if(location){__p+='<div class="left agenda_icon mask_sprite sprite-speakers-location clr_contTypeA_subIcn"></div><div class="left session_location session_text clr_contTypeA_txt">'+((__t=(location))==null?"":__t)+'</div><div class="clearfix"></div>'}__p+='<div class="buttonsContainer"></div></div>';if(speakersStr||description){__p+='<div class="itemContainer clr_contTypeB_headerItem_bg clr_contTypeB_headerItem_brdr">';if(description){__p+='<div class="session_description_title clr_contTypeB_hdlTxt">'+((__t=(detailsStr))==null?"":__t)+'</div><div class="session_description session_text clr_contTypeB_txt">'+((__t=(description))==null?"":__t)+"</div>"}__p+="";if(speakersStr){__p+='<div class="session_speakers clr_contTypeB_subTxt">'+((__t=(speakersStr))==null?"":__t)+"</div>"}__p+='</div><ul class="speakersContainer"></ul>'}__p+="</div></div>"}return __p};agendaTemplates.speakerInSession=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="slide_arrow_image mask_sprite sprite-arrow clr_contTypeB_icn"></div>';if(image){__p+='<img class="speakerImage" src="'+((__t=(image))==null?"":__t)+'" />'}__p+='<div class="dataContainer"><div class="speakerName clr_contTypeB_hdlTxt ellipsis">'+((__t=(name))==null?"":__t)+'</div><div class="speakerTitle clr_contTypeB_subTxt ellipsis">'+((__t=(title))==null?"":__t)+"</div></div>"}return __p};agendaTemplates.fullSpeaker=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="scroll_wrapper"><div class="scroller"><div class="itemContainer clr_contTypeA_bg clr_contTypeA_brdr t3d feed_classic_item">';if(typeof(image)!="undefined"&&image){__p+='<img class="speakerBigImage" src="'+((__t=(image))==null?"":__t)+'" />'}__p+='<div class="dataContainer"><div class="speaker_name clr_contTypeA_hdlTxt">'+((__t=(name))==null?"":__t)+'</div><div class="speaker_title clr_contTypeA_subTxt">'+((__t=(jobTitle))==null?"":__t)+'</div><div class="speaker_company clr_contTypeA_subTxt">'+((__t=(companyName))==null?"":__t)+'</div></div><div class="clearfix"></div>';if(typeof(bio)!="undefined"&&bio){__p+='<div class="bioStaticText clr_contTypeA_hdlTxt">'+((__t=(bioStaticText))==null?"":__t)+'</div><div class="speaker_bio clr_contTypeA_txt">'+((__t=(bio))==null?"":__t)+"</div>"}__p+='<div class="share-icons-container"></div></div><ul class="sessionsContainerInSpeaker"></ul></div></div>'}return __p};agendaTemplates.sessionInSpeaker=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="slide_arrow_image mask_sprite sprite-arrow clr_contTypeB_icn"></div><div class="session_title_in_speaker ellipsis clr_contTypeB_hdlTxt">'+((__t=(title))==null?"":__t)+'</div><div class="left icon_in_speaker mask_sprite sprite-speakers-date clr_contTypeB_subIcn"></div><div class="left session_date session_text_in_speaker clr_contTypeB_txt">'+((__t=(date))==null?"":__t)+'</div><div class="right session_text_in_speaker clr_contTypeB_txt">'+((__t=(time))==null?"":__t)+'</div><div class="right icon_in_speaker mask_sprite sprite-speakers-time clr_contTypeB_subIcn"></div>'}return __p};agendaTemplates.speakerInList=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";if(typeof(image)!="undefined"&&image){__p+='<img class="speakerBigImage" src="'+((__t=(image))==null?"":__t)+'" />'}__p+='<div class="dataContainer"><div class="speaker_name clr_contTypeB_hdlTxt">'+((__t=(name))==null?"":__t)+'</div><div class="speaker_title clr_contTypeB_subTxt">'+((__t=(jobTitle))==null?"":__t)+'</div><div class="speaker_company clr_contTypeB_subTxt">'+((__t=(companyName))==null?"":__t)+'</div></div><div class="clearfix"></div>';if(typeof(bio)!="undefined"&&bio){__p+='<div class="speaker_bio short clr_contTypeB_txt">'+((__t=(bio))==null?"":__t)+"</div>"}__p+="";if(typeof(nextSessionTitle)!="undefined"&&nextSessionTitle){__p+='<div class="nextSessionTitle ellipsis clr_contTypeB_hdlTxt clr_contTypeA_hdlTxtBrdr">'+((__t=(nextSessionTitle))==null?"":__t)+'</div><div class="dates_container"><div class="left icon_in_speaker mask_sprite sprite-speakers-date clr_contTypeB_subIcn"></div><div class="left session_date session_text_in_speaker clr_contTypeB_txt">'+((__t=(nextSessionDate))==null?"":__t)+'</div><div class="right session_text_in_speaker clr_contTypeB_txt">'+((__t=(nextSessionTime))==null?"":__t)+'</div><div class="right icon_in_speaker mask_sprite sprite-speakers-time clr_contTypeB_subIcn"></div></div>'}__p+=""}return __p}; var AgendaModel=ItemsModel.extend({createItemsCollection:function(){var a=new AgendaCollection(null,this.get("params"));return a},getItemForAlias:function(c){var b=this.get("items");var a=b.at(0);return a&&a.getItemForAlias(c)}}); var ConferenceModel=Backbone.Model.extend({FAVORITES_ARRAY_STORAGE_KEY:"AGENDA_FAVORITES_ARRAY",_favoritesSessionsArray:[],defaults:{description:"",conferenceId:"",halls:null,name:"",sessions:null,speakers:null,currHallIndex:0,currHallId:0,currDate:0,minDate:0,maxDate:0,hallsCollection:null,speakersCollection:null,sessionsCollection:null,isFavMode:false,hallsInDateCollection:null},initialize:function(){this._getFavoritesFromStorage();var c=new Backbone.Collection();_.each(this.get("halls"),function(g){g.id=g.hallId;c.add(g)});var b=new SpeakersCollection();_.each(this.get("speakers"),function(h,g){h.id=h.speakerId;h.alias=Utils.Html.fixAlias(h.alias||h.id||("speaker_"+(g+1)));b.add(h)});var a=new SessionsCollection();_.each(this.get("sessions"),function(h,g){h.id=h.sessionId;h.alias=Utils.Html.fixAlias(h.alias||h.id||("session_"+(g+1)));h.startDate=Utils.TimeDate.toUTCTime(h.startDate);h.endDate=Utils.TimeDate.toUTCTime(h.endDate);h.conferenceName=this.get("name");h.isInFavorites=(this._favoritesSessionsArray.indexOf(h.id)>-1);h.hallModel=c.get(h.hallId);if(h.speakers){h.speakersModels=$.map(h.speakers,function(i){return b.get(i)})}else{h.speakersModels=[]}a.add(h)}.hitch(this));a.bind("change:isInFavorites",this._onFavoritesChanged,this);b.each(function(h){var g=[];a.each(function(i){if(_.include(i.get("speakers"),h.get("id"))){g.push(i)}});h.set({sessionsModels:g})});var e=AgendaTemplateHelper.trimTime(new Date()).getTime();if(a.length){var f=0;var d=9999999999999;a.each(function(h){var g=h.get("startDate");g=AgendaTemplateHelper.trimTime(new Date(g)).getTime();if(g>f){f=g}if(g<d){d=g}})}else{var f=e;var d=e}if(e>f||e<d){e=d}this.set({currDate:e,minDate:d,maxDate:f,hallsCollection:c,speakersCollection:b,sessionsCollection:a});this._updateHallsInDate()},getItemForAlias:function(d){var c=this.get("speakersCollection");for(var b=0;b<c.length;b++){var e=c.at(b);if(e.get("alias")===d){return e}}var a=this.get("sessionsCollection");for(var b=0;b<a.length;b++){var e=a.at(b);if(e.get("alias")===d){return e}}return null},_updateHallsInDate:function(b){var h=new Backbone.Collection();var f=this.get("hallsCollection");var g=this.get("currDate");for(var e=0;e<f.length;e++){var a=f.at(e);if(this.isSessionsInHall(a)){h.add(a)}}var d=this.get("currHallId");var c=0;if(d){for(var e=0;e<h.length;e++){var a=h.at(e);if(a.get("id")===d){c=e;break}}}var a=h.at(c);if(a){d=a.get("id")}else{d=null}this.set({hallsInDateCollection:h,currHallId:d,currHallIndex:c})},_onFavoritesChanged:function(a){if(a.get("isInFavorites")){this._addSessionToFavorites(a.get("id"))}else{this._removeSessionFromFavorites(a.get("id"))}},_getFavoritesFromStorage:function(){var a=storageDriver.getItem(null,null,this.FAVORITES_ARRAY_STORAGE_KEY,true);if(a){this._favoritesSessionsArray=JSON.parse(a)}},_setFavoritesToStorage:function(){var a=JSON.stringify(this._favoritesSessionsArray);storageDriver.setItem(null,null,this.FAVORITES_ARRAY_STORAGE_KEY,a,true)},_addSessionToFavorites:function(b){var a=this._favoritesSessionsArray.indexOf(b);if(a===-1){this._favoritesSessionsArray.push(b);this._setFavoritesToStorage()}},isFavoritesEmpty:function(){return(this._favoritesSessionsArray.length===0)},isSessionsInDate:function(b){var a=this.get("sessionsCollection");var e=b+AgendaTemplateHelper.ONE_DAY;for(var d=0;d<a.length;d++){var f=a.at(d);if(!this.get("isFavMode")||this._favoritesSessionsArray.indexOf(f.get("id"))>-1){var c=f.get("startDate");if(c>=b&&c<e){return true}}}return false},isSessionsInHall:function(c){var b=this.get("sessionsCollection");var a=c.get("id");var f=this.get("currDate");var h=f+AgendaTemplateHelper.ONE_DAY;for(var e=0;e<b.length;e++){var g=b.at(e);if(!this.get("isFavMode")||this._favoritesSessionsArray.indexOf(g.get("id"))>-1){if(g.get("hallId")===a){var d=g.get("startDate");if(d>=f&&d<h){return true}}}}return false},getNextDate:function(){for(var a=this.get("currDate")+AgendaTemplateHelper.ONE_DAY;a<=this.get("maxDate");a+=AgendaTemplateHelper.ONE_DAY){if(this.isSessionsInDate(a)){return a}}return null},getPrevDate:function(){for(var a=this.get("currDate")-AgendaTemplateHelper.ONE_DAY;a>=this.get("minDate");a-=AgendaTemplateHelper.ONE_DAY){if(this.isSessionsInDate(a)){return a}}return null},changeFavMode:function(b){this.set({isFavMode:b});if(!this.isSessionsInDate(this.get("currDate"))){var a=this.getNextDate();if(a){this.set({currDate:a})}else{var c=this.getPrevDate();if(c){this.set({currDate:c})}}}this._updateHallsInDate();this.trigger("favModeChanged")},changeDate:function(a){this.set({currDate:a});this._updateHallsInDate();this.trigger("dateChanged");this.trigger("hallChanged");this.trigger("calendarChanged")},changeHall:function(c){this.set({currHallIndex:c});var a=this.get("hallsInDateCollection").at(c);if(a){var b=a.get("id")}else{var b=null}this.set({currHallId:b});this.trigger("hallChanged");this.trigger("calendarChanged")},_removeSessionFromFavorites:function(b){var a=this._favoritesSessionsArray.indexOf(b);if(a>-1){this._favoritesSessionsArray.splice(a,1);this._setFavoritesToStorage()}},getCurrentSessions:function(){var b=[];var c=this.get("currHallId");var d=this.get("currDate");if(d){var e=d+AgendaTemplateHelper.ONE_DAY;var a=this.get("sessionsCollection");a.each(function(g){if(!c||g.get("hallId")===c){if(!this.get("isFavMode")||this._favoritesSessionsArray.indexOf(g.get("id"))>-1){var f=g.get("startDate");if(f>=d&&f<e){b.push(g)}}}}.hitch(this))}return b}}); var SessionModel=Backbone.Model.extend({defaults:{description:"",title:"",conferenceId:"",speakers:null,currHallIndex:0,startDate:0,endDate:0},getShareInfo:function(){var d={};var a=this.get("conferenceName");var e="";var c=this.get("title");if(c){e=_T("SAgendaShareSession",{sessionTitle:c})}d.twitterTitle=e;if(a){d.title=a;d.shortDesc=e}else{d.title=e}var b=AppManager.app().get("appLink");if(b){d.url=b+"/#"+UN.getCurrentUrlAtLevel(0)+"/"+UN.getCurrentUrlAtLevel(1)+"/"+this.get("alias")}return d}}); var SpeakerModel=Backbone.Model.extend({defaults:{bio:"",companyName:"",image:"",jobTitle:"",name:"",speakerId:"",speakerLinks:[],sessionsModels:[],buttons:{}},initialize:function(){this.set({buttons:AgendaTemplateHelper.linkTypesToButtons(this.get("speakerLinks"))})}}); var AgendaCollection=ItemsCollection.extend({model:ConferenceModel,initialize:function(b,a){ItemsCollection.prototype.initialize.apply(this);if(!a||!a.id){this.invalid=true}this.params=a},parse:function(a){var b={};if(a){var c=[new ConferenceModel(a)];b.models=c}return b},getServiceName:function(){return"CMS_CONFERENCE_GET"},getParams:function(){return this.params}}); var SpeakersCollection=Backbone.Collection.extend({model:SpeakerModel}); var SessionsCollection=Backbone.Collection.extend({model:SessionModel}); var AgendaTemplateHelper={ONE_DAY:1000*60*60*24,MINUTE_HEIGHT:2.5,linksButtonsEnum:{UNKNOWN:0,FACEBOOK:1,TWITTER:2,LINKEDIN:3,MYSPACE:4,WEB_SITE:5,MAIL:6,INFO:7,YOUTUBE:8,SKYPE:9},linkTypesToButtons:function(a){var d={};for(var b=0;b<a.length;b++){var c="";switch(a[b].linkType){case this.linksButtonsEnum.UNKNOWN:c="unknown";break;case this.linksButtonsEnum.FACEBOOK:c="facebook";break;case this.linksButtonsEnum.TWITTER:c="twitter";break;case this.linksButtonsEnum.LINKEDIN:c="linkedin";break;case this.linksButtonsEnum.MYSPACE:c="mySpace";break;case this.linksButtonsEnum.WEB_SITE:c="webSite";break;case this.linksButtonsEnum.MAIL:c="email";break;case this.linksButtonsEnum.INFO:c="info";break;case this.linksButtonsEnum.YOUTUBE:c="youtube";break;case this.linksButtonsEnum.SKYPE:c="skype";break}if(c){var e=a[b].link;d[c]=e}}return d},getMinutes:function(c){var b=new Date(c);var a=b.getHours()*60;a+=b.getMinutes();return a},trimTime:function(a){var b=new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0);return b},minutesToPixels:function(a){return Math.floor(this.MINUTE_HEIGHT*a)},sortArray:function(f,e){for(var d=0;d<f.length-1;d++){for(var c=d+1;c<f.length;c++){var b=f[d];if(b.get(e)>f[c].get(e)){f[d]=f[c];f[c]=b}}}}}; var AgendaTemplateView=TemplateView.extend({_renderTab:function(d,e){var f=this.model.get("meta");var c=f.items[d];var g=this.model.get("type")==="ff4532d2-9137-8da2-f97f-be8b3ddd08e4";var b=new AgendaModel(c);var a=new AgendaView({model:b,isSpeakers:g,pageId:this.model.get("id")});this.renderListPage({navRequest:e,model:b,view:a})},getDetailsView:function(a){if(a.get("speakerId")){return new FullSpeakerView({model:a})}else{return new FullSessionView({model:a})}}}); var AgendaView=ItemsView.extend({attributes:{"data-role":"page"},initialize:function(){this.$el.html(agendaTemplates.homePageTemplate());Scrolling.init(this.$el.find(".scroll_wrapper"));this.$scroller=this.$el.find(".scroller");this.$el.bind("refresh",this.handleRefreshClick.hitch(this));this.$el.bind("silentRefresh",this.handleSilentRefresh.hitch(this));if(USE_AGENDA_FAVORITES&&!this.options.isSpeakers){this.isFavMode=false;this._favBtnHandle=-1;this.$el.bind("pageshow",this._handlePageShow.hitch(this));this.$el.bind("pagebeforehide",this._handlePageHide.hitch(this));this.$el.attr({"data-buttons":""})}else{this.$el.attr({"data-buttons":"refresh"})}ItemsView.prototype.initialize.apply(this)},getRootView:function(){return this.$scroller},createItemView:function(a){if(this.options.isSpeakers){return new SpeakersListView({model:a})}else{this.conferenceModel=a;this.conferenceModel.changeFavMode(this.isFavMode);return new ConferenceView({model:a})}},_addFavBtn:function(){var c;if(this.isFavMode){c=headerButtonsIconsEnum.star}else{c=headerButtonsIconsEnum.emptyStar}var b=true;function d(e){this._favBtnHandle=e}var a=this.options.pageId;appDriver.addInfoBarButton.hitch({slaveId:a})(d.hitch(this),null,c,b,this._favBtnClicked.hitch(this))},_removeFavBtn:function(b){var a=this.options.pageId;if(this._favBtnHandle!==-1){appDriver.removeInfoBarButton.hitch({slaveId:a})(b,b,this._favBtnHandle)}},_handlePageShow:function(){this._addFavBtn()},_handlePageHide:function(){this._removeFavBtn()},_favBtnClicked:function(){if(!this.isFavMode&&this.conferenceModel.isFavoritesEmpty()){cqm.showToastMessage(_T("DialogMessageAgendaNoFav"));return}this.isFavMode=(!this.isFavMode);this.conferenceModel.changeFavMode(this.isFavMode);this._removeFavBtn(function(){this._addFavBtn()}.hitch(this))},addTabsView:function(a){this.getRootView().prepend(a)}}); var CalendarView=Backbone.View.extend({className:"calendar_view clr_contTypeA_bg t3d",initialize:function(){this.model.bind("calendarChanged",this.viewChanged,this)},render:function(){var a=this.model.getCurrentSessions();AgendaTemplateHelper.sortArray(a,"startDate");var r=0;if(a.length){r=AgendaTemplateHelper.getMinutes(a[0].get("startDate"));r=Math.floor(r/60)*60}var p=24*60+15;var q=AgendaTemplateHelper.minutesToPixels(p-r)+2;this.$el.html(agendaTemplates.calendarTemplate({calHeight:q}));var u=this.$(".calendar");var m=this.$(".sessionsContainer");for(var s=r;s<p;s+=30){if(s%60===0){var l=new Date(1999,1,1,(s/60)%24,0,0,0).format("htt");var v={top:AgendaTemplateHelper.minutesToPixels(s-r),height:AgendaTemplateHelper.minutesToPixels(15),time:l};var t=agendaTemplates.calendarBoxTemplate(v);var j=agendaTemplates.calendarTimeTemplate(v);u.append(t).append(j)}else{var v={top:AgendaTemplateHelper.minutesToPixels(s-r),height:AgendaTemplateHelper.minutesToPixels(15)};var t=agendaTemplates.calendarBox2Template(v);u.append(t)}}var n=0;var d=0;var f=10;for(var s=0;s<a.length;s++){var k=AgendaTemplateHelper.getMinutes(a[s].get("startDate"));var g=Math.max(AgendaTemplateHelper.getMinutes(a[s].get("endDate")),k+f);a[s].set({displayEndMinutes:g});var e=(n>k);var w=(d>k);if(e&&w){continue}else{if(e){var c=sessionSideEnum.RIGHT;d=g}else{if(w){var c=sessionSideEnum.LEFT;n=g}else{var h=((s+1<a.length)&&(g>AgendaTemplateHelper.getMinutes(a[s+1].get("startDate"))));if(h){var c=sessionSideEnum.LEFT;n=g}else{var c=sessionSideEnum.BOTH;n=g;d=g}}}}var b=new SessionInCalView({model:a[s],side:c});m.append(b.render().el);k-=r;var o=AgendaTemplateHelper.minutesToPixels(k)+1+2;b.$el.css({top:o+"px"})}return this},viewChanged:function(){this.render();this.$myScrollWrapper=this.$myScrollWrapper||Scrolling.getMyScrollerWrapper(this.$el);Scrolling.onContentChanged(this.$myScrollWrapper)}}); var ConferenceView=Backbone.View.extend({initialize:function(){if(USE_AGENDA_FAVORITES){this.model.bind("favModeChanged",this.render,this)}},render:function(){this.$el.html("");var c=new DateHeaderView({model:this.model});this.$el.append(c.render().el);if(this.model.get("hallsInDateCollection").length){var b=new HallHeaderView({model:this.model});this.$el.append(b.render().el)}var a=new CalendarView({model:this.model});this.$el.append(a.render().el);this.$myScrollWrapper=this.$myScrollWrapper||Scrolling.getMyScrollerWrapper(this.$el);Scrolling.onContentChanged(this.$myScrollWrapper);return this}}); var DateHeaderView=Backbone.View.extend({className:"date_header clr_contTypeB_headerItem_bg clr_contTypeB_headerItem_brdr t3d",initialize:function(){this.model.bind("dateChanged",this.updateUiState,this)},updateUiDate:function(){var b=this.model.get("currDate");var a=new Date(b);this.$dayCaption.text(a.format("dddd"));this.$dateCaption.text(a.format("d mmm"))},getNextDate:function(){return IS_RTL?this.model.getPrevDate():this.model.getNextDate()},getPrevDate:function(){return IS_RTL?this.model.getNextDate():this.model.getPrevDate()},updateUiState:function(){this.updateUiDate();var d=this.getPrevDate();var b=this.getNextDate();this.prevDisabled=!d;this.nextDisabled=!b;var c=!(this.prevDisabled&&this.nextDisabled);(this.nextDisabled?$.fn.addClass:$.fn.removeClass).apply(this.$nextButton,["disabled"]);(this.prevDisabled?$.fn.addClass:$.fn.removeClass).apply(this.$prevButton,["disabled"]);var a=(c?$.fn.show:$.fn.hide);a.apply(this.$prevButton);a.apply(this.$nextButton)},render:function(){this.$el.html(agendaTemplates.dateHeaderTemplate());this.$dateCaption=this.$el.find(".date_caption");this.$dayCaption=this.$el.find(".day_caption");this.$nextButton=this.$el.find(".date-button.next, .date-button.next .nav_icon");this.$prevButton=this.$el.find(".date-button.prev, .date-button.prev .nav_icon");this.updateUiState();var a=this;this.$(".prev").tap(function(b){if(a.prevDisabled){return}a.model.changeDate(a.getPrevDate())});this.$(".next").tap(function(b){if(a.nextDisabled){return}a.model.changeDate(a.getNextDate())});return this}}); var FullSessionView=Backbone.View.extend({className:"speech-page",initialize:function(){this.$el.attr({"data-role":"page"});if(USE_AGENDA_FAVORITES){this.model.bind("change:isInFavorites",this._renderFavButton,this)}},render:function(){var b=new Date(this.model.get("startDate")).format("shortTime");var h=new Date(this.model.get("endDate")).format("shortTime");var d=new Date(this.model.get("startDate")).format("fullDate");var l=this.model.get("locationText")||"";var j=this.model.get("hallModel");if(j){var k=j.get("name")||"";if(l&&k){l+=", "}l+=k}var o="";var c=this.model.get("speakersModels");if(c.length===1){o=_T("HtmlTextAgendaOneSpeaker")}else{if(c.length>1){o=_T("HtmlTextAgendaSpeakersCount",{number:c.length})}}var f={title:this.model.get("title"),time:b+" - "+h,date:d,location:l,detailsStr:_T("HtmlTextAgendaSessionDetails"),description:this.model.get("description"),speakersStr:o};this.$el.html(agendaTemplates.fullSession(f));if(c.length){var a=this.$(".speakersContainer");for(var g=0;g<c.length;g++){var e=new SpeakerInSessionView({model:c[g]});a.append(e.render().el)}}var n=this.$el.find(".buttonsContainer");ShareControlHelper.addShareControlButton(n,this.model);if(PLATFORM===platformEnum.nativeApp&&navigator&&navigator.events){var m=new FlatButtonView({text:_T("HtmlTextEventsAdd2CalStr"),icon:"events-add2cal"});m.bind("onButtonClicked",this._add2Calendar,this);n.append(m.render().el)}if(USE_AGENDA_FAVORITES){this.addFavButtton=new FlatButtonView({text:_T("HtmlTextAgendaAddToFav"),icon:"starEmpty"});this.addFavButtton.bind("onButtonClicked",this._onAddFavTap,this);n.append(this.addFavButtton.render().el);this.removeFavButtton=new FlatButtonView({text:_T("HtmlTextAgendaRemoveFromFav"),icon:"starFull"});this.removeFavButtton.bind("onButtonClicked",this._onRemoveFavTap,this);n.append(this.removeFavButtton.render().el);this._renderFavButton()}if(window.Scrolling){Scrolling.init(this.$(".scroll_wrapper"))}return this},_add2Calendar:function(){var b=this.model.get("locationText")||"";var c=this.model.get("hallModel");if(c){var a=c.get("name")||"";if(b&&a){b+=", "}b+=a}var d={startTime:this.model.get("startDate")/1000,endTime:this.model.get("endDate")/1000,title:this.model.get("title"),description:this.model.get("descrition"),eventLocation:b,allDayEvent:false};navigator.events.addToCalendar(d)},_onAddFavTap:function(){this.model.set({isInFavorites:true})},_onRemoveFavTap:function(){this.model.set({isInFavorites:false})},_renderFavButton:function(){if(this.model.get("isInFavorites")){this.addFavButtton.$el.hide();this.removeFavButtton.$el.show()}else{this.removeFavButtton.$el.hide();this.addFavButtton.$el.show()}}}); var FullSpeakerView=Backbone.View.extend({className:"speaker-page",initialize:function(){this.$el.attr({"data-role":"page"})},render:function(){var c=this.model.toJSON();c.bioStaticText=_T("HtmlTextSpeakersBioTitle");this.$el.html(agendaTemplates.fullSpeaker(c));var b=this.$(".scroll_wrapper");this.$("IMG").error(function(){$(this).remove();Scrolling.onContentChanged(b)});var g=this.model.get("sessionsModels");if(g.length){var f=this.$(".sessionsContainerInSpeaker");for(var e=0;e<g.length;e++){var a=new SessionInSpeakerView({model:g[e]});f.append(a.render().el)}}var d=new ShareIconsView({model:this.model});this.$(".share-icons-container").append(d.render().el);if(window.Scrolling){Scrolling.init(b)}return this}}); var HallHeaderView=Backbone.View.extend({className:"hall_header clr_tab2Bar_bg t3d",initialize:function(){this.model.bind("hallChanged",this.render,this)},render:function(){var p=this.model.get("currHallIndex");var i=this.model.get("hallsInDateCollection");var l=i.at(p);var a="";if(l&&l.get("name")){a=l.get("name")}var q=p-1;var m=p+1;var o=(q<0);var f=(m>=i.length);var c="";var l=i.at(q);if(l&&l.get("name")){c=l.get("name")}var g="";var l=i.at(m);if(l&&l.get("name")){g=l.get("name")}var b="";var l=i.at(q-1);if(l&&l.get("name")){b=l.get("name")}var k="";var l=i.at(m+1);if(l&&l.get("name")){k=l.get("name")}var d={name:a,next:g,prev:c,next2:k,prev2:b};this.$el.html(agendaTemplates.hallHeaderTemplate(d));var e=this.$(".slideable_bar");var h=this;if(!o){var j=function(t){if(IS_RTL){var s="-50%"}else{var s="50%"}var r=function(){h.model.changeHall(q)};Utils.Helpers.animate(e,s,500,r)};this.$(".prev").one("tap",j);if(IS_RTL){e.bind("swipeleft",function(r){r.preventDefault();j();return false})}else{e.bind("swiperight",function(r){r.preventDefault();j();return false})}}if(!f){var n=function(t){if(IS_RTL){var s="50%"}else{var s="-50%"}var r=function(){h.model.changeHall(m)};Utils.Helpers.animate(e,s,500,r)};this.$(".next").one("tap",n);if(IS_RTL){e.one("swiperight",n)}else{e.one("swipeleft",n)}}return this}}); var sessionSideEnum={LEFT:1,RIGHT:2,BOTH:3};var SessionInCalView=Backbone.View.extend({className:"session_in_cal",FAV_COLOR_CODE:"contentSession2",NORMAL_COLOR_CODE:"contentSession",initialize:function(){if(USE_AGENDA_FAVORITES){this.model.bind("change:isInFavorites",this.render,this)}this.$el.tap(function(a){UN.navTo(this.model.get("alias"),{level:2})}.hitch(this))},render:function(){if(this.options.side===sessionSideEnum.LEFT){this.$el.addClass("half left")}else{if(this.options.side===sessionSideEnum.RIGHT){this.$el.addClass("half right")}}var a=AgendaTemplateHelper.getMinutes(this.model.get("startDate"));var e=this.model.get("displayEndMinutes");var f=(e-a);var k=AgendaTemplateHelper.minutesToPixels(f)-4;this.$el.css({height:k+"px"});var d={title:this.model.get("title"),time:new Date(this.model.get("startDate")).format("h:MM")};if(USE_AGENDA_FAVORITES&&this.model.get("isInFavorites")){d.colorCode=this.FAV_COLOR_CODE;this.$el.addClass("clr_contTypeA_"+this.FAV_COLOR_CODE+"_bg").removeClass("clr_contTypeA_"+this.NORMAL_COLOR_CODE+"_bg")}else{d.colorCode=this.NORMAL_COLOR_CODE;this.$el.removeClass("clr_contTypeA_"+this.FAV_COLOR_CODE+"_bg").addClass("clr_contTypeA_"+this.NORMAL_COLOR_CODE+"_bg")}if(k<50){this.$el.html(agendaTemplates.singleLineEvent(d))}else{var m="";var c=this.model.get("speakersModels");if(c.length===1){m=c[0].get("name")||"";var h=c[0].get("companyName");if(m&&h){m=m+" | "+h}}else{if(c.length>1){m=_T("HtmlTextAgendaSpeakersCount",{number:c.length})}}var j=20;var i=k-25;i=Math.floor(i/j)*j;var g=k-55;g=Math.floor(g/j)*j;d.speaker=m;d.location="";if(this.options.side===sessionSideEnum.BOTH){d.location=this.model.get("locationText")||""}d.description=this.model.get("description")||"";d.textLineHeight=j;d.textMaxHeight=i;d.locationMaxHeight=g;d.ellipsis=(i===j);d.USE_AGENDA_FAVORITES=USE_AGENDA_FAVORITES;this.$el.html(agendaTemplates.multiLinesEvent(d))}var l=this.$(".fav_button_container");if(l.length){if(!this.model.get("isInFavorites")){var b=$(agendaTemplates.addFavButton({}));b.tap(function(n){n.preventDefault();this.model.set({isInFavorites:true});return false}.hitch(this))}else{var b=$(agendaTemplates.removeFavButton({}));b.tap(function(n){n.preventDefault();this.model.set({isInFavorites:false});return false}.hitch(this))}l.append(b)}return this}}); var SessionInSpeakerView=Backbone.View.extend({className:"session_in_speaker itemArrowContainer clr_contTypeB_headerItem_bg clr_contTypeB_headerItem_brdr",render:function(){var c=new Date(this.model.get("startDate")).format("shortTime");var a=new Date(this.model.get("endDate")).format("shortTime");var b=new Date(this.model.get("startDate")).format("shortDate");var d={title:this.model.get("title"),time:c+" - "+a,date:b};this.$el.html(agendaTemplates.sessionInSpeaker(d));this.$el.tap(function(f){UN.navTo(this.model.get("alias"),{level:2});f.preventDefault()}.hitch(this));return this}}); var SpeakerInListView=Backbone.View.extend({className:"speaker_in_List itemContainer clr_contTypeB_bubbleItem_bg clr_contTypeB_bubbleItem_brdr feed_bubble_item",tagName:"li",render:function(){this.$el.attr("data-role","button");var h=this.model.toJSON();var m=this.model.get("sessionsModels");if(m.length){var a=new Date().getTime();var f=9999999999999;var e=-1;for(var g=0;g<m.length;g++){var j=new Date(m[g].get("startDate")).getTime();if(j>a&&j<f){f=j;e=g}}if(e>-1){var c=m[e];var b=new Date(c.get("startDate")).format("shortTime");var k=new Date(c.get("endDate")).format("shortTime");var d=new Date(c.get("startDate")).format("shortDate");h.nextSessionTitle=c.get("title");h.nextSessionDate=d;h.nextSessionTime=b+" - "+k}}this.$el.html(agendaTemplates.speakerInList(h));var l=this;this.$("IMG").error(function(){$(this).remove();var i=Scrolling.getMyScrollerWrapper(l.$el);Scrolling.onContentChanged(i)});this.$el.tap(function(i){UN.navTo(this.model.get("alias"),{level:2})}.hitch(this));return this}}); var SpeakerInSessionView=Backbone.View.extend({className:"speaker_in_session itemArrowContainer clr_contTypeB_headerItem_bg clr_contTypeB_headerItem_brdr",tagName:"li",render:function(){this.$el.attr("data-role","button");var a=this.model.get("name")||"";var d=this.model.get("image")||"";var f=this.model.get("jobTitle")||"";var c=this.model.get("companyName")||"";if(f&&c){f+=", "}if(c){f+=c}var e={name:a,image:d,title:f};this.$el.html(agendaTemplates.speakerInSession(e));var b=this;this.$("IMG").error(function(){$(this).remove();var g=Scrolling.getMyScrollerWrapper(b.$el);Scrolling.onContentChanged(g)});this.$el.tap(function(g){UN.navTo(this.model.get("alias"),{level:2});g.preventDefault()}.hitch(this));return this}}); var SpeakersListView=Backbone.View.extend({className:"speakers_list_container",render:function(){this.skip=0;this.take=15;this.$el.html("");this.renderNextBulk();return this},renderNextBulk:function(){var b=this.model.get("speakersCollection");for(var a=0;a<this.take&&this.skip<b.length;a++){var c=new SpeakerInListView({model:b.at(this.skip)});this.$el.append(c.render().el);this.skip++}if(this.skip<b.length){this.renderShowMore()}this.$myScrollWrapper=this.$myScrollWrapper||Scrolling.getMyScrollerWrapper(this.$el);Scrolling.onContentChanged(this.$myScrollWrapper);this.$("IMG").load(function(){Scrolling.onContentChanged(this.$myScrollWrapper)}.hitch(this))},renderShowMore:function(){var a=$(commonTemplates.showMoreButtonWithoutLoading({showMoreStr:_T("HtmlTextPaginationShowMoreItems")}));this.$el.append(a);var b=this;a.tap(function(c){c.preventDefault();$(this).remove();b.renderNextBulk()})}}); 

var collectionsEnums={PagesLayouts:{0:"default"}};collectionsEnums.nodeType={CATEGORY:"3ffdbd0e-3a28-41e8-b446-c3008edebe04",ITEM:"83a5a90b-6950-49c3-a0c9-594f82df3e6a"};collectionsEnums.aliases={DEFAULT_URL:"default",ITEMS_URL:"items",SEARCH_URL:"Q_"}; (function(){var collectionsTemplates={collectionsWrapper:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="scroll_wrapper"><div class="scroller"><div class="header"></div><div class="descendants_container"></div></div></div>'}return __p},node_view:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="search_container_container"></div>';if(headerImage&&!isSearch){__p+='<div class="image-container clr_contTypeA_bg clr_contTypeA_brdr"><div class="header_image sliced_image" style="background-image: url(\''+((__t=(headerImage))==null?"":__t)+"');\">";if(name||description){__p+='<div class="text_container clr_contTypeC_bg"><div class="collection_title title size_title_3 max_3_lines clr_contTypeC_hdlTxt">';if(name){__p+=""+((__t=(name))==null?"":__t)+""}__p+="</div>";if(description){__p+='<div class="collection_subtitle size_0 max_2_lines time clr_contTypeC_txt">'+((__t=(description))==null?"":__t)+"</div>"}__p+="</div>"}__p+="</div></div>"}__p+=""}return __p},search_view:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<form class="search_form" action="javascript:void(0)"><input type="text" class="search_input rounded_corners_all clr_form_input_bg clr_form_input_brdr clr_form_input_txt" placeholder="'+((__t=(CollectionsSearchPlaceholder))==null?"":__t)+'" /><a class="search_button clr_contTypeB_btn_bg clr_contTypeB_btn_brdr clr_contTypeB_btn_hdlTxt rounded_corners_all" data-role="button"><div class="mask_sprite sprite-search clr_contTypeB_btn_icn"></div></a><input type="submit" style="display: none"></form>'}return __p},item_view:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="item_view_content_container clr_contTypeA_classicItem_bg"><div class="item_name clr_contTypeA_hdlTxt">'+((__t=(name))==null?"":__t)+"</div>";if(images.length>0){__p+='<div class="images_container images_amount_'+((__t=(images.length))==null?"":__t)+'  clr_contTypeA_subBg"><div class="main_image sliced_image" style="background-image: url(\''+((__t=(images[0]))==null?"":__t)+'\');"><div class="full_screen_hint sprite sprite-FullScreenIcon"></div></div>';if(images.length>1){__p+='<div class="thumbnails_container"><table class="thumbnails_table" data-role="controlgroup"><tr><td width="*"><div class="sliced_image item_thumbnail images_imgBtn_bg images_imgBtn_brdr" data-index="0" style="background-image: url(\''+((__t=(images[0]))==null?"":__t)+'\');" data-role="button"></div></td><td width="*"><div class="sliced_image item_thumbnail" data-index="1" style="background-image: url(\''+((__t=(images[1]))==null?"":__t)+'\');" data-role="button"></div></td>';if(images.length>2){__p+='<td width="*"><div class="sliced_image item_thumbnail" data-index="2" style="background-image: url(\''+((__t=(images[2]))==null?"":__t)+'\');" data-role="button"></div></td>'}__p+="<tr></table></div>"}__p+="</div>"}__p+="";if(price&&_.isArray(meta.priceArr)){__p+='<div class="price_container clr_contTypeA_subBg">';if(needBuyButton){__p+='<div data-role="button" class="buy_now clr_contTypeB_actBtn_bg clr_contTypeB_actBtn_brdr clr_contTypeB_actBtn_hdlTxt order"><span class="text">'+((__t=(buyNowText))==null?"":__t)+"</span></div>"}__p+='<div class="info_container"><span class="current_price clr_contTypeC_subTxt">'+((__t=(currentPriceText))==null?"":__t)+':</span><br /><div class="narrow_price_container clr_contTypeA_hdlTxt" dir="ltr">';if(meta.currencySign){__p+='<span class="currency">'+((__t=(meta.currencySign))==null?"":__t)+"</span>"}__p+='<span class="dollars">'+((__t=(meta.priceArr[0]))==null?"":__t)+"</span>";if(meta.priceArr[1]){__p+='<span class="cents">'+((__t=(meta.priceArr[1]))==null?"":__t)+"</span>"}__p+="</div></div></div>"}__p+='</div><!-- /clr_contTypeA_hdlTxt --><div class="clr_contTypeB_bg clr_contTypeB_txt">';if(details){__p+='<div class="details_container"><div class="details_header clr_contTypeB_hdlTxt">'+((__t=(CollectionsItemDetails))==null?"":__t)+":</div></div>"}__p+='<div class="contact_details_container">';if(email){__p+=""+((__t=(email))==null?"":__t)+""}__p+="";if(facebook){__p+=""+((__t=(facebook))==null?"":__t)+""}__p+="";if(linkedin){__p+=""+((__t=(linkedin))==null?"":__t)+""}__p+="";if(twitter){__p+=""+((__t=(twitter))==null?"":__t)+""}__p+="";if(contact_web){__p+=""+((__t=(contact_web))==null?"":__t)+""}__p+="";if(contact_web2){__p+=""+((__t=(contact_web2))==null?"":__t)+""}__p+='<div style="clear: both;"></div></div></div></div>'}return __p},contact_link_template:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<a href="'+((__t=(href))==null?"":__t)+'" data-role="button" class="ui-btn-up contact_icon sprite sprite-'+((__t=(sprite_name))==null?"":__t)+'"></a>'}return __p},contact_item_template:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<span data-href="'+((__t=(href))==null?"":__t)+'" data-role="button" class="ui-btn-up contact_icon sprite sprite-'+((__t=(sprite_name))==null?"":__t)+'"></span>'}return __p},item_descendant_summary:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";if(typeof thumbnail!=="undefined"){__p+='<div class="thumbnail sliced_image" style="background-image:url(\''+((__t=(thumbnail))==null?"":__t)+"');\"></div>"}__p+='<div class="descendant_summary_content_container"><div class="descendant_summary_content_table_emulation"><div class="descendant_summary_content_tr_emulation"><div class="descendant_summary_content"><div class="descendant_summary_title clr_contTypeA_hdlTxt size_title_1 _1_line">'+((__t=(title))==null?"":__t)+'</div><div class="descendant_summary_subtitle clr_contTypeA_subTxt size_0 max_2_lines">'+((__t=(subtitle))==null?"":__t)+"</div>";if(price){__p+='<div class="descendant_summary_price clr_contTypeA_txt">'+((__t=(price))==null?"":__t)+"</div>"}__p+='</div></div></div></div><div class="slide_arrow_image mask_sprite sprite-arrow clr_contTypeA_icn"></div>'}return __p}};collectionsTemplates.CollectionsCategoryLeftView=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="scroll_wrapper"><div class="scroller">';if(headerImage){__p+='<div class="headerImage sliced_image" style="background-image:url(\''+((__t=(headerImage))==null?"":__t)+'\');"><div class="catImage clr_images_catImage_bg"></div></div>'}__p+="";if(name){__p+='<div class="name size_title_4 clr_contTypeA_hdlTxt">'+((__t=(name))==null?"":__t)+"</div>"}__p+="";if(description){__p+='<div class="description size_1 clr_contTypeA_subTxt">'+((__t=(description))==null?"":__t)+"</div>"}__p+="</div></div>"}return __p};collectionsTemplates.CollectionsItemRightView=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="scroll_wrapper"><div class="scroller"><div class="data_content">';if(headerImage){__p+='<div class="headerImage sliced_image" style="background-image:url(\''+((__t=(headerImage))==null?"":__t)+'\');"><div class="catImage clr_images_catImage_bg"></div><div class="full_screen_hint sprite sprite-FullScreenIcon"></div></div>'}__p+="";if(meta.images.length>1){__p+='<div class="images_container clr_contTypeB_subBg"><div class="item_thumbnail sliced_image" style="background-image:url(\''+((__t=(meta.images[0]))==null?"":__t)+'\');"><div data-role="button" class="catImage clr_images_catImage_bg selected" data-index="0"></div></div><div class="item_thumbnail sliced_image" style="background-image:url(\''+((__t=(meta.images[1]))==null?"":__t)+'\');"><div data-role="button" class="catImage clr_images_catImage_bg" data-index="1"></div></div>';if(meta.images.length>2){__p+='<div class="item_thumbnail sliced_image" style="background-image:url(\''+((__t=(meta.images[2]))==null?"":__t)+'\');"><div data-role="button" class="catImage clr_images_catImage_bg" data-index="2"></div></div>'}__p+="</div>"}__p+="";if(name){__p+='<div class="name size_title_4 clr_contTypeB_hdlTxt">'+((__t=(name))==null?"":__t)+"</div>"}__p+="";if(description){__p+='<div class="description size_1 clr_contTypeB_subTxt">'+((__t=(description))==null?"":__t)+"</div>"}__p+="";if((meta.price&&_.isArray(meta.priceArr))||needBuyButton){__p+='<div class="price_container clr_contTypeB_subBg">';if(meta.price&&_.isArray(meta.priceArr)){__p+='<div class="price clr_contTypeB_hdlTxt" dir="ltr">';if(meta.currencySign){__p+='<span class="currency">'+((__t=(meta.currencySign))==null?"":__t)+"</span>"}__p+='<span class="dollars">'+((__t=(meta.priceArr[0]))==null?"":__t)+"</span>";if(meta.priceArr[1]){__p+='<span class="cents">'+((__t=(meta.priceArr[1]))==null?"":__t)+"</span>"}__p+="</div>"}__p+="";if(needBuyButton){__p+='<div data-role="button" class="buy_now clr_contTypeB_actBtn_bg clr_contTypeB_actBtn_brdr clr_contTypeB_actBtn_hdlTxt"><span class="text">'+((__t=(buyNow))==null?"":__t)+"</span></div>"}__p+="</div>"}__p+="";if(meta.details){__p+='<div class="details size_1 clr_contTypeB_txt">'+((__t=(meta.details))==null?"":__t)+"</div>"}__p+='</div><div class="scrollingBug"></div></div></div>'}return __p};collectionsTemplates.CollectionsCategoryRightView=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="scroll_wrapper"><div class="scroller"><div class="bread_wrapper"></div><div class="no_result_wrapper"></div><div class="grid_wrapper"></div></div></div>'}return __p};collectionsTemplates.CollectionsItemLeftView=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="scroll_wrapper"><div class="scroller"></div></div>'}return __p};collectionsTemplates.CollectionsGridItemView={category:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";if(headerImage){__p+='<div class="headerImage sliced_image" style="background-image:url(\''+((__t=(headerImage))==null?"":__t)+'\');"><div class="header_box clr_contTypeC_bg">';if(name){__p+='<div class="size_title_3 _1_line name clr_contTypeC_hdlTxt ellipsis">'+((__t=(name))==null?"":__t)+"</div>"}__p+="";if(itemsCountStr){__p+='<div class="size_title_0 _1_line itemsCountStr clr_contTypeC_subTxt">'+((__t=(itemsCountStr))==null?"":__t)+"</div>"}__p+='</div><div data-role="button" class="catImage clr_images_catImage_bg"></div></div>'}__p+=""}return __p},item:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";if(headerImage){__p+='<div class="headerImage sliced_image" style="background-image:url(\''+((__t=(headerImage))==null?"":__t)+"');\">";if(meta.price){__p+='<div data-role="button" class="catImage clr_images_catImage_bgGrad"></div><div class="price clr_images_catImage_txt" dir="ltr">';if(meta.currencySign&&_.isArray(meta.priceArr)){__p+='<span class="currency">'+((__t=(meta.currencySign))==null?"":__t)+"</span>"}__p+="";if(_.isArray(meta.priceArr)&&meta.priceArr.length>0){__p+='<span class="dollars">'+((__t=(meta.priceArr[0]))==null?"":__t)+"</span>"}__p+="";if(_.isArray(meta.priceArr)&&meta.priceArr.length>1){__p+='<span class="cents">'+((__t=(meta.priceArr[1]))==null?"":__t)+"</span>"}__p+="</div>"}else{__p+='<div data-role="button" class="catImage clr_images_catImage_bg"></div>'}__p+="</div>"}__p+='<div class="name_container size_1 _2_lines clr_contTypeB_hdlTxt">'+((__t=(name))==null?"":__t)+"</div>"}return __p}};collectionsTemplates.CollectionsListItemView=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";if(headerImage){__p+='<div class="headerImage sliced_image" style="background-image:url(\''+((__t=(headerImage))==null?"":__t)+'\');"><div class="catImage clr_images_catImage_bg"></div></div>'}__p+='<div class="vertical_center"><div>';if(name){__p+='<div class="name size_1 ';if(meta.price){__p+="max_2_lines"}else{__p+="max_3_lines"}__p+=' clr_contTypeA_hdlTxt">'+((__t=(name))==null?"":__t)+"</div>"}__p+="";if(meta.price&&_.isArray(meta.priceArr)){__p+='<div class="price clr_contTypeA_subTxt" dir="ltr">';if(meta.currencySign){__p+='<span class="currency">'+((__t=(meta.currencySign))==null?"":__t)+"</span>"}__p+="";if(meta.priceArr.length>0){__p+='<span class="dollars">'+((__t=(meta.priceArr[0]))==null?"":__t)+"</span>"}__p+="";if(meta.priceArr.length>1){__p+='<span class="cents">'+((__t=(meta.priceArr[1]))==null?"":__t)+"</span>"}__p+="</div>"}__p+="</div></div>"}return __p};collectionsTemplates.BreadCrumb=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<span class="BreadCrumb size_1 clr_contTypeA_subTxt">'+((__t=(name))==null?"":__t)+'</span><div class="BreadCrumbArrow mask_sprite sprite-breadArrow clr_contTypeA_subIcn"></div>'}return __p};collectionsTemplates.lastBreadCrumb=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<span class="BreadCrumb size_1 clr_contTypeA_hdlTxt">'+((__t=(name))==null?"":__t)+"</span>"}return __p};collectionsTemplates.Search=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<span class="search_container_wide clr_form_input_bg clr_form_input_brdr"><div class="right mainButtonContainer clr_form_input_brdr"  data-role="button"><div class="clearButton mask_sprite sprite-la-cancel clr_form_input_icn selected"></div><div class="searchButton mask_sprite sprite-search clr_form_input_icn"></div></div><div class="left searchIndicator mask_sprite sprite-catSearchSmall clr_form_input_icn"></div><div class="right clearEditButton"><div class="mask_sprite sprite-catXSmall clr_form_input_icn" data-role="button"></div></div><div class="textContainer clr_form_input_txt"><form class="search_form" action="javascript:void(0)"><input type="text" class="searchInput" placeholder="'+((__t=(placeholder))==null?"":__t)+'" /></form></div></span><div class="clearfix"></div>'}return __p};collectionsTemplates.BreadBarView=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="breadContainer ellipsis"></div>'}return __p};window.collectionsTemplates=collectionsTemplates})(); var CollectionsNodeModel=ItemsModel.extend({initialize:function(){ItemsModel.prototype.initialize.apply(this,arguments);var b={id:null,collectionId:null,nodeId:null,meta:{},needBuyButton:false,description:"",name:"",headerImage:"",isCategory:true,itemsCount:null,defaultImage:"http://storage.conduit.com/Mobile/66/e4/663a9521-49e4-4c44-80b4-826b9ff4405f/Images/fd4fa8cc-4253-4959-9f8b-4b05f54d4e09.png",breadCrumbs:[]};var a=$.extend(b,this.toJSON());this._updateFromJSON(a)},_updateFromJSON:function(c){var d=c.meta;var a=d.images||{};c.headerImage=a.header||a[0]||a.main1||c.defaultImage;c.isCategory=this.get("type")===collectionsEnums.nodeType.CATEGORY;if(d.priceInt){var b=(""+d.priceInt).split(".");b[0]=localization.formatNumber(b[0]);if(b[1]&&b[1].length===1){b[1]=b[1]+"0"}d.priceArr=b}if(d.links&&(d.links.email||d.links.web||d.links.linkedin)){var f={buttons:{twitter:null,facebook:null,linkedin:d.links.linkedin,webSite:d.links.web,mySpace:null,email:d.links.email}};var e=new Backbone.Model(f);d.shareIconsModel=e}c.needBuyButton=d.links&&d.links.store;c.alias=c.id;this.set(c)},createItemsCollection:function(){var b={id:this.get("collectionId"),parentId:this.get("nodeId"),defaultImage:this.get("defaultImage")};var a=new CollectionsCollection(null,b);a.breadCrumbs=_.extend([],this.get("breadCrumbs"));a.breadCrumbs.push(this);a.term=this.get("term");a.type=this.get("type");a.bind("getItemsSuccess",this._onGetItemsSuccess,this);return a},_onGetItemsSuccess:function(a){if(a){if(a.category){this._updateFromJSON(a.category)}else{var b=a.name||this.get("name");var d=a.description||this.get("description");var c=a.meta&&a.meta.images&&a.meta.images.header;c=c||this.get("headerImage");this.set({name:b,description:d,headerImage:c})}this.trigger("headerChanged")}},setSearch:function(a,b){var d=this.get("items");d.term=a;d.type=b;d.reset();var c=executeTypeEnum.HIT_AND_RUN;d.getItems(c)},getSearchTerm:function(){var a=this.get("items");return a.term},buy:function(){var a=this.get("meta").links.store;appDriver.openLink(null,null,{url:a,title:a})},clearSearch:function(){this.setSearch(null,null)}}); var CollectionsCollection=ItemsCollection.extend({model:CollectionsNodeModel,initialize:function(b,a){ItemsCollection.prototype.initialize.apply(this,arguments);this.defaultImage=a.defaultImage;this.layoutId=a.layoutId;this.parentId=a.parentId;if(!a||!a.id){this.invalid=true}this.params={id:a.id,extraInfo:{parentId:a.parentId},collectionId:a.id,type:null,searchParams:{term:null,parentId:a.parentId,sortOrder:0}}},parse:function(b){b=b||{};var e=this.params.id;var a=this.layoutId;var d=b.defaultImage||this.defaultImage;var c=this.breadCrumbs;_.each(b.items,function(h){h.collectionId=e;h.layoutId=a;h.defaultImage=d;h.breadCrumbs=c;h.nodeId=h.id;if(h.type===collectionsEnums.nodeType.ITEM){var j=h.meta.images,f=[];if(typeof j!=="undefined"){for(var g=0;g<10;g++){if(j["main"+g]){f.push(j["main"+g])}}h.meta.images=f}}});return{models:b.items,metaData:b}},getParams:function(){this.params.skip=this.skip;this.params.type=this.type;this.params.searchParams.term=this.term;return this.params},getServiceName:function(){if(this.term){return"CMS_CONTENT_ITEMS_SEARCH"}else{if(this.parentId){return"CMS_CONTENT_ITEMS"}else{return"CMS_CONTENT_COLLECTION"}}}}); var CollectionsDescendantSummaryView=Backbone.View.extend({tagName:"li",className:"descendant_summary clr_contTypeA_classicItem_bg clr_contTypeA_classicItem_brdr",events:{tap:"itemClicked"},initialize:function(){this.model.set("tabMeta",this.options.tabMeta)},render:function(){this.$el.attr("data-role","button");var b=this.model.get("type");var c=this.model.get("meta");var a=collectionsTemplates.item_descendant_summary;var d=undefined;this.$el.addClass("no_thumbnail");if(b===collectionsEnums.nodeType.CATEGORY){d=Utils.Helpers.getPath(c,"images.main");if(d&&d.length>0){this.$el.removeClass("no_thumbnail")}}else{if(b===collectionsEnums.nodeType.ITEM){if(c.images&&c.images[0]&&c.images[0].length>0){d=c.images[0];this.$el.removeClass("no_thumbnail")}}}this.$el.append(a({title:this.model.get("name"),subtitle:this.model.get("description"),price:this.model.get("meta").price,thumbnail:d}));return this},itemClicked:function(b){b.preventDefault();var a=this.model.get("alias");if(this.model.get("type")===collectionsEnums.nodeType.CATEGORY){UsageManager.addEvent(analytics.usageEventTypeEnum.ItemView,{id:this.model.get("id"),list:true});UN.navTo(a,{level:2})}else{UN.navTo(a,{level:4})}}}); var CollectionsItemView=Backbone.View.extend({events:{"tap .item_thumbnail":"collectionItemThumbnailClicked","tap .main_image":"onCollectionMainImageClicked","tap .buy_now":"buyClicked","tap [href]":"openLink"},initialize:function(){this.$el.attr({"data-role":"page","data-buttons":"refresh"});this.$el.html(genericPageTemplates.pageTemplate());Scrolling.init(this.$(".scroll_wrapper"));this.$scroller=this.$(".scroller");var e=collectionsTemplates.item_view;var f=this.model.get("meta");var c=f.details;var b=f.links;var b=f.links;this.$scroller.append(e({name:this.model.get("name"),description:this.model.get("description"),needBuyButton:this.model.get("needBuyButton"),images:f.images,price:f.price,meta:f,priceInt:f.priceInt,details:c,buyNowText:_T("CollectionsBuyNow",[],this.model.get("tabMeta").overrideTranslation),currentPriceText:_T("CollectionsCurrentPrice",[],this.model.get("tabMeta").overrideTranslation),CollectionsItemDetails:_T("CollectionsItemDetails",[],this.model.get("tabMeta").overrideTranslation),email:b.email?collectionsTemplates.contact_link_template({href:"mailto:"+b.email,sprite_name:"aboutus_email"}):null,facebook:b.facebook?collectionsTemplates.contact_item_template({href:b.facebook,sprite_name:"aboutus_facebook"}):null,linkedin:b.linkedIn?collectionsTemplates.contact_item_template({href:b.linkedIn,sprite_name:"aboutus_linkedin"}):null,twitter:b.twitter?collectionsTemplates.contact_item_template({href:b.twitter,sprite_name:"aboutus_twitter"}):null,contact_web:b.web?collectionsTemplates.contact_item_template({href:b.web,sprite_name:"aboutus_link"}):null,contact_web2:b.web2?collectionsTemplates.contact_item_template({href:b.web2,sprite_name:"aboutus_link"}):null}));if(c){var a=new HtmlContainerControl();a.renderHtml(this.$scroller.find(".details_container"),c,{changeColors:false,colorType:"B"})}var d=this.$scroller.find(".contact_details_container span.contact_icon");d.tap(function(){var h=$(this);var g=h.attr("data-href");appDriver.openLink(null,null,{url:g,title:h.text()})})},collectionItemThumbnailClicked:function(c){var a=$(c.target);this.imageIndex=parseInt(a.attr("data-index"));var b=this.model.get("meta").images[this.imageIndex];this.$(".main_image").css("background-image","url("+b+")")},onCollectionMainImageClicked:function(c){var a=this.model;var b=_.map(this.model.get("meta").images,function(d){return{largeImage:d,shareInfo:{imageUrl:d,title:a.get("name"),url:d,shortDesc:a.get("description")||""}}});new PhotoGalleryManager().pressedImage(b,this.imageIndex||0)},getRootView:function(){return this.$scroller},buyClicked:function(a){this.model.buy()},openLink:function(b){var a=$(b.currentTarget).attr("href");appDriver.openLink(null,null,{url:a});b.preventDefault()}}); var CollectionsNodeView=ItemsView.extend({className:"collection_view",initialize:function(){this.$el.attr({"data-role":"page","data-buttons":"refresh"});this.$el.html(collectionsTemplates.collectionsWrapper());Scrolling.init(this.$(".scroll_wrapper"));this.$scroller=this.$(".scroller");this.model.on("headerChanged",this._updateHeader,this);this.$el.bind("refresh",this.handleRefreshClick.hitch(this));this.$el.bind("silentRefresh",this.handleSilentRefresh.hitch(this));ItemsView.prototype.initialize.apply(this)},_updateHeader:function(){var e=collectionsTemplates.node_view;var a=!!this.model.get("term");var c=this.model.get("description");c=c&&c.trim()||c;var b=this.model.get("name");b=b&&b.trim()||b;this.$(".header").html(e({name:Utils.String.sanitizeText(b,true),description:Utils.String.sanitizeText(c,true),headerImage:this.model.get("headerImage"),isSearch:a}));if(!a){var d=new SearchView({model:this.model});this.$scroller.find(".search_container_container").html(d.render().el)}},getRootView:function(){return this.$scroller.find(".descendants_container")},createItemView:function(a){return new CollectionsDescendantSummaryView({model:a,tabMeta:this.model.get("tabMeta")})}}); var SearchView=Backbone.View.extend({className:"search_container clr_contTypeB_bg clr_contTypeB_brdr",events:{"tap .search_button":"onSearchButtonClicked","submit .search_form":"onSearchButtonClicked"},onSearchButtonClicked:function(){var a=this.$input.val();this.$input.blur();window.setTimeout(function(){if(a){UN.navTo(collectionsEnums.aliases.SEARCH_URL+a,{level:3})}},1)},render:function(){var a={CollectionsSearchPlaceholder:_T("CollectionsSearchPlaceholder",{category:this.model.get("name")})};this.$el.html(collectionsTemplates.search_view(a));this.$input=this.$(".search_input");return this}}); var CollectionsTemplateView=TemplateView.extend({_renderTab:function(b,c){var d=this.model.get("meta");var a=d.items[b]||{};var f=a.params&&a.params.id;a.layoutId=d.pageLayout;a.collectionId=f;var e={tabParams:a};UN.registerChange(this.onCategorySelected.hitch(this),2,{navRequest:c,data:e,cbSelectDefault:this._selectDefaultCategory.hitch(this)})},_selectDefaultCategory:function(b){var a=b.navRequest;UN.navTo(collectionsEnums.aliases.DEFAULT_URL,{navRequest:a,isInner:false})},onCategorySelected:function(c,a){var b=c.navRequest;var d=null;if(a===collectionsEnums.aliases.DEFAULT_URL){d=$.extend({},c.tabParams,{tabMeta:c.tabParams.meta})}else{d={nodeId:a,layoutId:c.tabParams.layoutId,collectionId:c.tabParams.collectionId,tabMeta:c.tabParams.meta}}var e={addTabs:(a===collectionsEnums.aliases.DEFAULT_URL),params:d};UN.registerChange(this.onListSelected.hitch(this),3,{navRequest:b,data:e,cbSelectDefault:this._selectDefaultList.hitch(this)})},_selectDefaultList:function(b){var a=b.navRequest;UN.navTo(collectionsEnums.aliases.ITEMS_URL,{navRequest:a,isInner:false})},onListSelected:function(d,e){var a=d.navRequest;var c=$.extend({},d.params);var f=new CollectionsNodeModel(c);f.set("tabMeta",this.model.get("meta"));if(e.startsWith(collectionsEnums.aliases.SEARCH_URL)){var b=e.replace(collectionsEnums.aliases.SEARCH_URL,"");var h="contenthost";f.set({term:b});var g=f.get("items");g.term=b;g.type=h;UsageManager.addEvent(analytics.usageEventTypeEnum.Search,{term:b})}else{}var i=new CollectionsNodeView({model:f});this.renderListPage({navRequest:a,model:f,view:i,addTabs:d.addTabs,level:3})},selectDefaultItem:function(e){var c=e.navRequest;var a=UN.getCurrentUrlAtLevel(2);var d=e.model.get("items");if(d.length===1&&a===collectionsEnums.aliases.DEFAULT_URL){var b=d.at(0);if(b.get("isCategory")){a=b.get("alias");UN.navTo(a,{level:2,navRequest:c,isInner:false});return}}TemplateView.prototype.selectDefaultItem.apply(this,arguments)},getDetailsView:function(a){var b=new CollectionsItemView({model:a});return b},getNoItemsView:function(d){var b=d.model.get("name");var c=d.model.get("items").term;if(c){var f=_T("CollectionsSearchNoResultsFound",[],this.model.get("meta").overrideTranslation);var e=_T("CollectionsSearchNoResultsFoundSubtitle",{node_name:b,query_string:c},this.model.get("meta").overrideTranslation);var a="app/interface/web/img/search.svg"}else{var f=_T("CollectionsSearchNoItemsFound",[],this.model.get("meta").overrideTranslation);var e=_T("CollectionsSearchNoItemsFoundSubtitle",{node_name:b},this.model.get("meta").overrideTranslation);var a="app/interface/web/img/noItems.svg"}var h=new GenericPageModel({title:f,text:e,img:a});var g=Utils.Helpers.generateGUID();return new GenericPageView({model:h,id:g})}}); var CollectionsGridItemView=Backbone.View.extend({tagName:"li",className:"CollectionsGridItemView",events:{tap:"itemClicked"},render:function(){var c=this.model.toJSON();if(this.model.get("isCategory")){var b="category";var a=collectionsTemplates.CollectionsGridItemView.category;if(c.itemsCount===null){c.itemsCountStr=_T("CollectionsCategoryUnknownItemsCount",[],this.model.get("tabMeta").overrideTranslation)}else{c.itemsCountStr=_T("CollectionsCategoryItemsCount",{count:c.itemsCount},this.model.get("tabMeta").overrideTranslation)}}else{var b="item";var a=collectionsTemplates.CollectionsGridItemView.item}this.$el.html(a(c)).addClass(b);return this},itemClicked:function(b){b.preventDefault();var a=this.model.get("alias");if(this.model.get("type")===collectionsEnums.nodeType.CATEGORY){UsageManager.addEvent(analytics.usageEventTypeEnum.ItemView,{id:this.model.get("id"),list:true});UN.navTo(a,{level:2})}else{UN.navTo(a,{level:4})}}}); var CollectionsCategoryLeftView=Backbone.View.extend({className:"CollectionsCategoryLeftView clr_contTypeA_bg",initialize:function(){this.model.on("headerChanged",this.render,this)},render:function(){this.$el.html(collectionsTemplates.CollectionsCategoryLeftView(this.model.toJSON()));var a=this.$(".scroll_wrapper");Scrolling.init(a);return this}}); var BreadBarView=Backbone.View.extend({className:"BreadBarView clr_contTypeB_bg",events:{"tap .mainButtonContainer":"mainButtonClicked","tap .clearEditButton":"clearEditClicked","blur .searchInput":"inputExit","focus .searchInput":"inputEnter","input .searchInput":"inputChanged","submit .search_form":"searchClicked"},mainButtonClicked:function(){if(this.$searchButton.is(":visible")){this.searchClicked()}else{this.clearSearchClicked()}},searchClicked:function(){this.doSearch();this.$input.blur()},clearSearchClicked:function(){this.clearSearch();this.$input.blur()},clearEditClicked:function(){this.$input.val("")},inputEnter:function(){this.$searchIndicator.hide();this.$clearButton.hide();this.$searchButton.show();this.$clearEditButton.show()},inputExit:function(){this.cancelEdit()},inputChanged:function(){var a=this.$input.val();if(a){this.$searchButton.addClass("selected")}else{this.$searchButton.removeClass("selected")}},cancelEdit:function(){this.$clearEditButton.hide();var a=this.model.getSearchTerm();if(a){this.$searchButton.addClass("selected");this.$searchIndicator.show();this.$clearButton.show();this.$searchButton.hide()}else{this.$searchButton.removeClass("selected");this.$searchIndicator.hide();this.$clearButton.hide();this.$searchButton.show()}this.$input.val(a)},doSearch:function(){var a=this.$input.val();var b="contenthost";this.model.setSearch(a,b);this.$searchIndicator.show();this.$clearButton.show();this.$searchButton.hide();UsageManager.addEvent(analytics.usageEventTypeEnum.Search,{term:a})},clearSearch:function(){this.model.clearSearch();this.$searchIndicator.hide();this.$clearButton.hide();this.$searchButton.show()},initialize:function(){this.model.on("change:name",this.render,this)},render:function(){this.$el.html(collectionsTemplates.BreadBarView());var d=this.$(".breadContainer");var a=this.model.get("breadCrumbs");for(var c=0;c<a.length;c++){var b=a[c];d.append(collectionsTemplates.BreadCrumb(b.toJSON()))}var e={name:this.model.get("name")};d.append(collectionsTemplates.lastBreadCrumb(e));e={placeholder:_T("CollectionsSearchPlaceholder2",[],this.model.get("tabMeta").overrideTranslation)};this.$el.append(collectionsTemplates.Search(e));this.$input=this.$(".searchInput");this.$clearButton=this.$(".clearButton");this.$searchButton=this.$(".searchButton");this.$searchIndicator=this.$(".searchIndicator");this.$clearEditButton=this.$(".clearEditButton");this.cancelEdit();return this}}); var CollectionsCategoryRightView=ItemsView.extend({className:"CollectionsCategoryRightView clr_contTypeB_bg",initialize:function(){this.$el.html(collectionsTemplates.CollectionsCategoryRightView({}));this.$scroller=this.$(".scroller");this.$list=this.$(".grid_wrapper");this.$noResults=this.$(".no_result_wrapper");var c=new BreadBarView({model:this.model});var a=this.$(".bread_wrapper");a.html(c.render().el);var d=this.$(".scroll_wrapper");Scrolling.init(d);ItemsView.prototype.initialize.apply(this);$(window).bind("throttledresize",this.onResize.hitch(this));var b=this.model.get("items");if(b){b.bind("getItemsSuccess",this.onGetItems,this)}this.bind("pageshow",this.onPageShow.hitch(this));this.bind("pagehide",this.onPageHide.hitch(this));this.onPageHide();this.$el.bind("refresh",this.handleRefreshClick.hitch(this));this.$el.bind("silentRefresh",this.handleSilentRefresh.hitch(this))},getRootView:function(){return this.$list},createItemView:function(b){b.set("tabMeta",this.model.get("tabMeta"));var a=new CollectionsGridItemView({model:b});return a},_reset:function(){this.$scroller.removeClass("noResults");this.$noResults.html("").removeClass("noResults");ItemsView.prototype._reset.apply(this,arguments)},onNoResults:function(){var b=this.model.get("name");var c=this.model.get("items").term;if(c){var f=_T("CollectionsSearchNoResultsFound",[],this.model.get("tabMeta").overrideTranslation);var e=_T("CollectionsSearchNoResultsFoundSubtitle",{node_name:b,query_string:c},this.model.get("tabMeta").overrideTranslation);var a="app/interface/web/img/search.svg"}else{var f=_T("CollectionsSearchNoItemsFound",[],this.model.get("tabMeta").overrideTranslation);var e=_T("CollectionsSearchNoItemsFoundSubtitle",{node_name:b},this.model.get("tabMeta").overrideTranslation);var a="app/interface/web/img/noItems.svg"}var g=new GenericPageModel({title:f,text:e,img:a});var d=new GenericView({model:g});this.$scroller.addClass("noResults");this.$noResults.html(d.render().el).addClass("noResults")},onGetItems:function(){if(!this.model.get("items").length){this.onNoResults()}this.onResize()},updateThumbnailsMargin:function(){Utils.Html.setGridMargin(this.$itemsList,{alsoTopUl:true})},onResize:function(){if(this.isPageShow){this.updateThumbnailsMargin();this.isGridUpdated=true}else{this.isGridUpdated=false;this.$itemsList.css({visibility:"hidden"})}},onPageShow:function(){this.isPageShow=true;if(!this.isGridUpdated){this.onResize();this.$itemsList.css({visibility:"visible"})}},onPageHide:function(){this.isPageShow=false;if(!this.isGridUpdated){this.$itemsList.css({visibility:"hidden"})}}}); var CollectionsWideCategoryView=DividedScreenView.extend({setCollectionModel:function(a){var b=new CollectionsCategoryLeftView({model:a});var c=new CollectionsCategoryRightView({model:a});this.setView1(b.render());this.setView2(c.render())}}); var CollectionsListItemView=ListItemView.extend({className:"CollectionsListItemView clr_contTypeA_bg clr_contTypeA_brdr",events:{tap:"itemClicked"},initialize:function(){ListItemView.prototype.initialize.apply(this);this.$el.attr("data-role","button").addClass("t3d")},render:function(){this.$el.html(collectionsTemplates.CollectionsListItemView(this.model.toJSON()));return this},itemClicked:function(b){b.preventDefault();var a=this.model.get("alias");UN.navTo(a,{level:4})}}); var CollectionsItemLeftView=ItemsView.extend({className:"CollectionsItemLeftView clr_contTypeA_bg",initialize:function(){this.$el.html(collectionsTemplates.CollectionsItemLeftView({}));this.$scroller=this.$(".scroller");this.$scrollWrapper=this.$(".scroll_wrapper");Scrolling.init(this.$scrollWrapper);ItemsView.prototype.initialize.apply(this);this.$el.bind("refresh",this.handleRefreshClick.hitch(this));this.$el.bind("silentRefresh",this.handleSilentRefresh.hitch(this))},getRootView:function(){return this.$scroller},createItemView:function(b){if(b.get("isCategory")){return null}var a=new CollectionsListItemView({model:b});return a}}); var CollectionsItemRightView=Backbone.View.extend({className:"CollectionsItemRightView clr_contTypeB_bg",events:{"tap .item_thumbnail":"thumbnailClicked","tap .headerImage":"headerImageClicked","tap .buy_now":"buyClicked"},initialize:function(){var e=_.extend({},this.model.toJSON(),{buyNow:_T("CollectionsBuyNow",[],this.model.get("tabMeta").overrideTranslation)});this.$el.html(collectionsTemplates.CollectionsItemRightView(e));var f=this.model.get("meta");var d=f.details;if(d){var a=this.$(".details");var b=new HtmlContainerControl();b.renderHtml(a,d,{changeColors:true,colorType:"B"})}var g=f.shareIconsModel;if(g){var c=new ShareIconsView({model:g});this.$(".data_content").append(c.render().el)}this.$mainImage=this.$(".headerImage");this.$colorOnImage=this.$(".catImage");this.$thumbnails=this.$(".item_thumbnail");this.$images_container=this.$(".images_container");this.$data_content=this.$(".data_content");this.$scrollWrapper=this.$(".scroll_wrapper");Scrolling.init(this.$scrollWrapper);$(window).bind("throttledresize",this.onResize.hitch(this));this.bind("pageshow",this.onPageShow.hitch(this));this.bind("pagehide",this.onPageHide.hitch(this));this.onPageHide()},render:function(){return this},buyClicked:function(a){this.model.buy()},thumbnailClicked:function(c){var a=$(c.target);this.imageIndex=parseInt(a.attr("data-index"));var b=this.model.get("meta").images[this.imageIndex];this.$mainImage.css("background-image","url("+b+")");this.$colorOnImage.removeClass("selected");a.addClass("selected")},headerImageClicked:function(b){var a=_.map(this.model.get("meta").images,function(c){return{largeImage:c}});new PhotoGalleryManager().pressedImage(a,this.imageIndex||0)},updateViewSizes:function(){var f=500;var g=20;var h=this.$el.width();var b=h*0.7;b=Math.min(f,b);b=4*Math.floor(b/4);var i=3*b/4;var c=Math.floor((i-40)/3);var e=Math.floor(c*4/3);var d=b+10+10+e+10;var a=Math.floor((h-d)/2);a=Math.min(g,a);this.$mainImage.css({width:b,height:i});this.$thumbnails.css({width:e,height:c});this.$images_container.css({height:i});this.$data_content.css({width:d,marginTop:a});Scrolling.onContentChanged(this.$scrollWrapper)},onResize:function(){if(this.isPageShow){this.updateViewSizes()}},onPageShow:function(){this.isPageShow=(this.$el.width()>0);if(this.isPageShow){this.onResize();this.$data_content.css({visibility:"visible"})}},onPageHide:function(){this.isPageShow=false;this.$data_content.css({visibility:"hidden"})}}); var CollectionsWideItemView=DividedScreenView.extend({setCollectionModel:function(a){if(a===this.collectionModel){return}this.collectionModel=a;var b=new CollectionsItemLeftView({model:a});this.setView1(b.render());a.bind("itemSelected",this._onItemSelected,this)},_updateView2:function(a){var b=new CollectionsItemRightView({model:a});this.setView2(b.render());b.trigger("pageshow")},_onItemSelected:function(a,b){this._updateView2(a)}}); var CollectionsWideTemplateView=TemplateView.extend({_renderTab:function(b,c){var d=this.model.get("meta");var a=d.items[b]||{};var f=a.params&&a.params.id;a.layoutId=d.pageLayout;a.collectionId=f;var e={tabParams:a};UN.registerChange(this.onCategorySelected.hitch(this),2,{navRequest:c,data:e,cbSelectDefault:this._selectDefaultCategory.hitch(this)})},_selectDefaultCategory:function(b){var a=b.navRequest;UN.navTo(collectionsEnums.aliases.DEFAULT_URL,{navRequest:a,isInner:false})},onCategorySelected:function(c,a){var b=c.navRequest;if(a===collectionsEnums.aliases.DEFAULT_URL){var d=$.extend({},c.tabParams)}else{var d={nodeId:a,layoutId:c.tabParams.layoutId,collectionId:c.tabParams.collectionId}}var e={addTabs:(a===collectionsEnums.aliases.DEFAULT_URL),params:d};UN.registerChange(this.onListSelected.hitch(this),3,{navRequest:b,data:e,cbSelectDefault:this._selectDefaultList.hitch(this)})},_selectDefaultList:function(b){var a=b.navRequest;UN.navTo(collectionsEnums.aliases.ITEMS_URL,{navRequest:a,isInner:false})},onListSelected:function(d,e){var a=d.navRequest;var c=$.extend({},d.params);var f=new CollectionsNodeModel(c);f.set("tabMeta",this.model.get("meta"));if(e.startsWith(collectionsEnums.aliases.SEARCH_URL)){var b=e.replace(collectionsEnums.aliases.SEARCH_URL,"");var h="contenthost";f.set({term:b});var g=f.get("items");g.term=b;g.type=h}else{}var i=new CollectionsWideCategoryView({leftWidth:"280px"}).addRefreshButton(false,true);i.setCollectionModel(f);this.renderListPage({navRequest:a,model:f,view:i,addTabs:d.addTabs,level:3,useGenericNoItems:false})},selectDefaultItem:function(e){var c=e.navRequest;var a=UN.getCurrentUrlAtLevel(2);var d=e.model.get("items");if(d.length===1&&a===collectionsEnums.aliases.DEFAULT_URL){var b=d.at(0);if(b.get("isCategory")){a=b.get("alias");UN.navTo(a,{level:2,navRequest:c,isInner:false});return}}TemplateView.prototype.selectDefaultItem.apply(this,arguments)},getDetailsView:function(a,b){if(!this.itemView||!this.itemView.$el.parent().length){this.itemView=new CollectionsWideItemView({leftWidth:"34%"})}var c=b.model;this.itemView.setCollectionModel(c);return this.itemView}}); 

var ContactUsModel=Backbone.Model.extend({initialize:function(){var a=this.get("long");if(a){this.set({lng:a})}}}); var contactUsTemplates={};contactUsTemplates.detailsPageTemplate=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="scroll_wrapper"><div class="scroller">';if(typeof(logoImgUrl)!="undefined"&&logoImgUrl){__p+='<img class="logoImgCenter" src="'+((__t=(logoImgUrl))==null?"":__t)+'" />'}__p+='<div class="info_container clr_contTypeB_bg">';if(typeof(header)!="undefined"&&header){__p+='<div class="size_title_1 header clr_contTypeB_hdlTxt">'+((__t=(header))==null?"":__t)+"</div>"}__p+="";if(typeof(text)!="undefined"&&text){__p+='<div class="size_1 text contact-text clr_contTypeB_txt">'+((__t=(text))==null?"":__t)+"</div>"}__p+='</div><div class="scroller_bug"></div></div></div>'}return __p};contactUsTemplates.contactUsTemplate=[];contactUsTemplates.contactUsTemplate[0]=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="scroll_wrapper"><div class="scroller">';if(typeof(logoImgUrl)!="undefined"&&logoImgUrl){__p+='<img class="logoImgCenter" src="'+((__t=(logoImgUrl))==null?"":__t)+'" />'}__p+="";if((typeof(header)!="undefined"&&header)||(typeof(text)!="undefined"&&text)){__p+='<div class="header-wrapper clr_contTypeB_headerItem_bg clr_contTypeB_headerItem_brdr">';if(typeof(header)!="undefined"&&header){__p+='<div class="size_title_3 header clr_contTypeB_hdlTxt">'+((__t=(header))==null?"":__t)+"</div>"}__p+="";if(typeof(text)!="undefined"&&text){__p+='<div class="size_1 contact-text clr_contTypeB_txt">'+((__t=(text))==null?"":__t)+"</div>"}__p+="</div>"}__p+="";if(typeof(address)!="undefined"&&address){__p+='<a class="map item clr_contTypeA_bg clr_contTypeA_brdr" data-role="button"><div class="icon mask_sprite sprite-map clr_contTypeA_icn" alt="" /><div class="size_title_1 text clr_contTypeA_hdlTxt">'+((__t=(address))==null?"":__t)+"</div></a>"}__p+="";if(typeof(phone)!="undefined"&&phone){__p+='<a class="openLink item clr_contTypeA_bg clr_contTypeA_brdr" data-href="tel:'+((__t=(phone))==null?"":__t)+'" data-role="button" ><div class="icon mask_sprite sprite-phone clr_contTypeA_icn" alt="" /><div dir="ltr" class="size_title_1 text clr_contTypeA_hdlTxt">'+((__t=(phone))==null?"":__t)+"</div></a>"}__p+="";if(typeof(extraPhones)!="undefined"&&extraPhones&&extraPhones.length>0){__p+="";_.each(extraPhones,function(extraPhone){__p+='<a class="openLink item clr_contTypeA_bg clr_contTypeA_brdr" data-href="tel:'+((__t=(extraPhone.phone))==null?"":__t)+'" data-role="button" ><div class="icon mask_sprite sprite-phone clr_contTypeA_icn" alt="" /><div dir="ltr" class="size_title_1 text clr_contTypeA_hdlTxt">'+((__t=(extraPhone.phone))==null?"":__t)+"</div></a>"});__p+=""}__p+="";if(typeof(fax)!="undefined"&&fax){__p+='<a class="openLink item clr_contTypeA_bg clr_contTypeA_brdr" data-href="tel:'+((__t=(fax))==null?"":__t)+'" data-role="button" ><div class="icon mask_sprite sprite-fax clr_contTypeA_icn" alt="" /><div dir="ltr" class="size_title_1 text clr_contTypeA_hdlTxt">'+((__t=(fax))==null?"":__t)+"</div></a>"}__p+="";if(typeof(mail)!="undefined"&&mail){__p+='<a class="openLink item clr_contTypeA_bg clr_contTypeA_brdr" data-href="mailto:'+((__t=(mail))==null?"":__t)+'" data-role="button" ><div class="icon mask_sprite sprite-email clr_contTypeA_icn" alt="" /><div class="size_title_1 text clr_contTypeA_hdlTxt">'+((__t=(mail))==null?"":__t)+"</div></a>"}__p+="";if(typeof(url)!="undefined"&&url){__p+='<a class="openLink web-site item clr_contTypeA_bg clr_contTypeA_brdr" data-href="'+((__t=(url))==null?"":__t)+'" data-role="button" ><div class="icon mask_sprite sprite-link clr_contTypeA_icn" alt="" /><div class="size_title_1 text clr_contTypeA_hdlTxt">'+((__t=(urlTitle))==null?"":__t)+"</div></a>"}__p+="";if(typeof(description)!="undefined"&&description){__p+='<div class="size_1 item description clr_contTypeA_bg clr_contTypeA_brdr clr_contTypeA_hdlTxt" ></div>'}__p+="</div></div>"}return __p};contactUsTemplates.contactUsTemplate[1]=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="scroll_wrapper clr_contTypeB_bg"><div class="scroller">';if(typeof(logoImgUrl)!="undefined"&&logoImgUrl){__p+='<img class="logoImgCenter" src="'+((__t=(logoImgUrl))==null?"":__t)+'" />'}__p+="";if(typeof(imgUrl)!="undefined"&&imgUrl){__p+='<div class="headerImg" style="background-image: url('+((__t=(imgUrl))==null?"":__t)+')"></div>'}__p+="";if((typeof(header)!="undefined"&&header)||(typeof(text)!="undefined"&&text)||(typeof(description)!="undefined"&&description)){__p+='<div class="header-wrapper">';if(typeof(header)!="undefined"&&header){__p+='<div class="size_title_3 header clr_contTypeB_hdlTxt">'+((__t=(header))==null?"":__t)+"</div>"}__p+="";if(typeof(text)!="undefined"&&text){__p+='<div class="size_1 text contact-text clr_contTypeB_txt">'+((__t=(text))==null?"":__t)+"</div>"}__p+="";if(typeof(description)!="undefined"&&description){__p+='<div class="size_1 description contact-text clr_contTypeB_txt"></div>'}__p+="</div>"}__p+="";if(typeof(phone)!="undefined"&&phone){__p+='<div class="call item clr_contTypeB_brdr"><a data-href="tel:'+((__t=(phone))==null?"":__t)+'" class="openLink iconWrapper clr_contTypeB_actBtn_bg clr_contTypeB_actBtn_brdr clr_contTypeB_actBtn_hdlTxt" data-role="button"><div class="icon mask_sprite sprite-phone clr_contTypeB_actBtn_icn"></div>'+((__t=(_T("HtmlTextContactUsCallStr")))==null?"":__t)+'</a><div class="size_title_1 text clr_contTypeB_hdlTxt"><h3>'+((__t=(_T("HtmlTextContactUsPhoneNumberStr")))==null?"":__t)+':</h3><p dir="ltr">'+((__t=(phone))==null?"":__t)+"</p></div></div>"}__p+="";if(typeof(extraPhones)!="undefined"&&extraPhones&&extraPhones.length>0){__p+="";_.each(extraPhones,function(extraPhone){__p+='<div class="call item clr_contTypeB_brdr"><a data-href="tel:'+((__t=(extraPhone.phone))==null?"":__t)+'" class="openLink iconWrapper clr_contTypeB_actBtn_bg clr_contTypeB_actBtn_brdr clr_contTypeB_actBtn_hdlTxt" data-role="button"><div class="icon mask_sprite sprite-phone clr_contTypeB_actBtn_icn"></div>';if(extraPhone.title){__p+=""+((__t=(Utils.String.translateIfNeed(extraPhone.title)))==null?"":__t)+""}else{__p+=""+((__t=(_T("HtmlTextContactUsCallStr")))==null?"":__t)+""}__p+='</a><div class="size_title_1 text clr_contTypeB_hdlTxt"><h3>'+((__t=(_T("HtmlTextContactUsPhoneNumberStr")))==null?"":__t)+':</h3><p dir="ltr">'+((__t=(extraPhone.phone))==null?"":__t)+"</p></div></div>"});__p+=""}__p+="";if(typeof(fax)!="undefined"&&fax){__p+='<div class="fax item clr_contTypeB_brdr"><a data-href="tel:'+((__t=(fax))==null?"":__t)+'" class="openLink iconWrapper clr_contTypeB_actBtn_bg clr_contTypeB_actBtn_brdr clr_contTypeB_actBtn_hdlTxt" data-role="button"><div class="icon mask_sprite sprite-fax clr_contTypeB_actBtn_icn"></div>'+((__t=(_T("HtmlTextContactUsFaxStr")))==null?"":__t)+'</a><div class="size_title_1 text clr_contTypeB_hdlTxt"><h3>'+((__t=(_T("HtmlTextContactUsFaxNumberStr")))==null?"":__t)+':</h3><p  dir="ltr">'+((__t=(fax))==null?"":__t)+"</p></div></div>"}__p+="";if(typeof(address)!="undefined"&&address){__p+='<div class="item clr_contTypeB_brdr"><a class="map iconWrapper clr_contTypeB_actBtn_bg clr_contTypeB_actBtn_brdr clr_contTypeB_actBtn_hdlTxt" data-role="button"><div class="icon mask_sprite sprite-map clr_contTypeB_actBtn_icn"></div>'+((__t=(_T("HtmlTextContactUsMapStr")))==null?"":__t)+'</a><div class="size_title_1 text clr_contTypeB_hdlTxt"><h3>'+((__t=(_T("HtmlTextContactUsAddressStr")))==null?"":__t)+":</h3><p>"+((__t=(address))==null?"":__t)+"</p></div></div>"}__p+="";if(typeof(mail)!="undefined"&&mail){__p+='<div class="email item clr_contTypeB_brdr"><a data-href="mailto:'+((__t=(mail))==null?"":__t)+'" class="openLink iconWrapper clr_contTypeB_actBtn_bg clr_contTypeB_actBtn_brdr clr_contTypeB_actBtn_hdlTxt" data-role="button"><div class="icon mask_sprite sprite-email clr_contTypeB_actBtn_icn"></div>'+((__t=(_T("HtmlTextContactUsEmailStr")))==null?"":__t)+'</a><div class="size_title_1 text clr_contTypeB_hdlTxt"><h3>'+((__t=(_T("HtmlTextContactUsContactUsStr")))==null?"":__t)+":</h3><p>"+((__t=(mail))==null?"":__t)+"</p></div></div>"}__p+="";if(typeof(url)!="undefined"&&url){__p+='<div class="link item clr_contTypeB_brdr"><a data-href="'+((__t=(url))==null?"":__t)+'" class="openLink web-site iconWrapper clr_contTypeB_actBtn_bg clr_contTypeB_actBtn_brdr clr_contTypeB_actBtn_hdlTxt" data-role="button"><div class="icon mask_sprite sprite-link clr_contTypeB_actBtn_icn"></div>'+((__t=(_T("HtmlTextContactUsLinkStr")))==null?"":__t)+'</a><div class="size_title_1 text clr_contTypeB_hdlTxt"><h3>'+((__t=(_T("HtmlTextContactUsWebSiteStr")))==null?"":__t)+":</h3><p>"+((__t=(urlTitle))==null?"":__t)+"</p></div></div>"}__p+="</div></div>"}return __p};contactUsTemplates.contactUsTemplate[2]=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="scroll_wrapper clr_contTypeB_bg"><div class="scroller"><div class="sidebar-wrapper ">';if((typeof(imgUrl)!="undefined"&&imgUrl)||(typeof(logoImgUrl)!="undefined"&&logoImgUrl)){__p+='<div class="sidebarImg">';if(typeof(logoImgUrl)!="undefined"&&logoImgUrl){__p+='<div class="logoImgUrl" style="background-image: url('+((__t=(logoImgUrl))==null?"":__t)+')"></div>'}__p+="";if(typeof(imgUrl)!="undefined"&&imgUrl){__p+='<div style="background-image: url('+((__t=(imgUrl))==null?"":__t)+')"></div>'}__p+="</div>"}__p+="";if(typeof(phone)!="undefined"&&phone){__p+='<a data-href="tel:'+((__t=(phone))==null?"":__t)+'" class="openLink call item clr_contTypeB_actBtn_bg clr_contTypeB_actBtn_brdr clr_contTypeB_actBtn_hdlTxt" data-role="button"><div class="icon mask_sprite sprite-phone clr_contTypeB_actBtn_icn"></div><span class="size_title_1">'+((__t=(_T("HtmlTextContactUsCallNowStr")))==null?"":__t)+"</span></a>"}__p+="";if(typeof(extraPhones)!="undefined"&&extraPhones&&extraPhones.length>0){__p+="";_.each(extraPhones,function(extraPhone){__p+='<a data-href="tel:'+((__t=(extraPhone.phone))==null?"":__t)+'" class="openLink call item clr_contTypeB_actBtn_bg clr_contTypeB_actBtn_brdr clr_contTypeB_actBtn_hdlTxt" data-role="button"><div class="icon mask_sprite sprite-phone clr_contTypeB_actBtn_icn"></div><span class="size_title_1">';if(extraPhone.title){__p+=""+((__t=(Utils.String.translateIfNeed(extraPhone.title)))==null?"":__t)+""}else{__p+=""+((__t=(_T("HtmlTextContactUsCallNowStr")))==null?"":__t)+""}__p+="</span></a>"});__p+=""}__p+="";if(typeof(fax)!="undefined"&&fax){__p+='<a data-href="tel:'+((__t=(fax))==null?"":__t)+'" class="openLink fax item clr_contTypeB_actBtn_bg clr_contTypeB_actBtn_brdr clr_contTypeB_actBtn_hdlTxt" data-role="button"><div class="icon mask_sprite sprite-fax clr_contTypeB_actBtn_icn"></div><span class="size_title_1">'+((__t=(_T("HtmlTextContactUsFaxStr")))==null?"":__t)+"</span></a>"}__p+="";if(typeof(address)!="undefined"&&address){__p+='<a class="item map clr_contTypeB_actBtn_bg clr_contTypeB_actBtn_brdr clr_contTypeB_actBtn_hdlTxt" data-role="button"><div class="icon mask_sprite sprite-map clr_contTypeB_actBtn_icn"></div><span class="size_title_1">'+((__t=(_T("HtmlTextContactUsMapStr")))==null?"":__t)+"</span></a>"}__p+="";if(typeof(mail)!="undefined"&&mail){__p+='<a data-href="mailto:'+((__t=(mail))==null?"":__t)+'" data-role="button" class="openLink email item clr_contTypeB_actBtn_bg clr_contTypeB_actBtn_brdr clr_contTypeB_actBtn_hdlTxt"><div class="icon mask_sprite sprite-email clr_contTypeB_actBtn_icn"></div><span class="size_title_1">'+((__t=(_T("HtmlTextContactUsEmailStr")))==null?"":__t)+"</span></a>"}__p+="";if(typeof(url)!="undefined"&&url){__p+='<a data-href="'+((__t=(url))==null?"":__t)+'" class="openLink web-site link item clr_contTypeB_actBtn_bg clr_contTypeB_actBtn_brdr clr_contTypeB_actBtn_hdlTxt" data-role="button"><div class="icon mask_sprite sprite-link clr_contTypeB_actBtn_icn"></div><span class="size_title_1">'+((__t=(_T("HtmlTextContactUsLinkStr")))==null?"":__t)+"</span></a>"}__p+="</div>";if((typeof(header)!="undefined"&&header)||(typeof(text)!="undefined"&&text)||(typeof(description)!="undefined"&&description)){__p+='<div class="header-wrapper">';if(typeof(header)!="undefined"&&header){__p+='<div class="size_title_3 header clr_contTypeB_hdlTxt">'+((__t=(header))==null?"":__t)+"</div>"}__p+="";if(typeof(text)!="undefined"&&text){__p+='<div class="size_1 text contact-text clr_contTypeB_txt">'+((__t=(text))==null?"":__t)+"</div>"}__p+="";if(typeof(description)!="undefined"&&description){__p+='<div class="size_1 description contact-text clr_contTypeB_txt"></div>'}__p+="</div>"}__p+='<div class="clearfix"></div></div></div>'}return __p}; var ContactUsView=Backbone.View.extend({attributes:{"data-role":"page"},initialize:function(){var a=this.model.get("layoutId")||0;if(a>contactUsTemplates.contactUsTemplate.length-1||a<0){a=0}this.model.set({layoutId:a});this.$el.addClass("layout-"+a)},render:function(){var a=this.model.get("layoutId");var d=contactUsTemplates.contactUsTemplate[a];var c=this.model.toJSON();c.urlTitle=c.urlTitle||c.url;c.header=Utils.String.sanitizeText(c.header,true);c.text=Utils.String.sanitizeText(c.text,true);c.address=Utils.String.sanitizeText(c.address,true);c.phone=Utils.String.sanitizeText(c.phone,true);c.fax=Utils.String.sanitizeText(c.fax,true);c.mail=Utils.String.sanitizeText(c.mail,true);c.urlTitle=Utils.String.sanitizeText(c.urlTitle,true);this.$el.html(d(c));var e=this.$el.find(".scroll_wrapper");this.$el.find("IMG").load(function(){Scrolling.onContentChanged(e)}).error(function(){$(this).remove()});var b=new HtmlContainerControl();b.renderHtml(this.$el.find("div.description"),c.description,{changeColors:false});Scrolling.init(e);this.$el.find(".openLink").tap(this._onLinkTap.hitch(this));this.$el.find(".map").tap(this._onMapClicked.hitch(this));return this},_onMapClicked:function(a){a.preventDefault();this.trigger("showOnMapClicked",this.model)},_showNotSupportedMsg:function(a){a.preventDefault();cqm.showToastMessage("This action is not supported in simulator mode.")},_onLinkTap:function(b){b.preventDefault();var a=$(b.currentTarget).data("href");appDriver.openLink(null,null,{url:a,useExternalBrowser:true})},addTabsView:function(a){this.$el.find(".scroller").prepend(a)}}); var ContactUsTemplateView=TemplateView.extend({_renderTab:function(a,d){var f=this.model.get("meta");var e=f.items[a];if(e&&typeof(e.layoutId)==="undefined"){e.layoutId=f.pageLayout||0}var c=new ContactUsModel(e);var g=Utils.Helpers.generateGUID();var b=new ContactUsView({model:c,id:g});b.bind("showOnMapClicked",this._onMapClicked,this);this.$el.append(b.render().el);this.addTabsToView(b,a);UN.onPageReady(g,d,1,true)},_onMapClicked:function(c){var d=c.get("lat");var b=c.get("long");if(d&&b){var a={location:{lat:d,lng:b},header:c.get("header"),address:c.get("address")};var c=new Backbone.Model({markers:[a],googleOptions:{zoom:14}});MapManager.show_on_map(this.$el,c)}}}); 

var ReviewsCollection=ItemsCollection.extend({initialize:function(b,a){ItemsCollection.prototype.initialize.apply(this);if(a&&a.type&&a.query){this.params=a}else{this.invalid=true}},parse:function(b){var e={metaData:b};if(b&&b.items){var d=this.params.type;var f=[];for(var c=0;c<b.items.length;c++){var a=b.items[c];a.providerType=d;f[c]=new ReviewModel(a)}e.models=f}return e},getServiceName:function(){return"CMS_REVIEW_GET"},getParams:function(){return this.params}}); var ProviderModel=ItemsModel.extend({defaults:{hasData:false,title:"",businessName:"",image:"",providerName:"",reviewsCount:0,rating:0,params:{}},initialize:function(){ItemsModel.prototype.initialize.apply(this,arguments);this.get("items").bind("getItemsSuccess",this._onGetItemsSuccess,this);var b=this.get("params");if(b){var a=Services.generateUrl("IMAGES_REVIEWS_PROVIDER_GET",b);if(a&&a!==""){this.set({image:a})}}},createItemsCollection:function(){var a=this.get("params");return new ReviewsCollection(null,a)},_onGetItemsSuccess:function(a){this.set({hasData:true,rating:a.rating,reviewsCount:a.totalItems,providerName:a.providerName,businessName:a.name});this.trigger("getItemsSuccess",this)}}); var ReviewModel=ItemModel.extend({defaults:{time:0,description:"",fullDescription:"",id:"",rating:0,reviewer:{id:"",imageUrl:"",name:""},socialInfo:null,title:"",link:"",providerType:0}}); var ReviewsTemplateView=TemplateView.extend({initialize:function(){TemplateView.prototype.initialize.apply(this);var a=this.model.get("meta");this.providers=$.map(a.items,function(c,b){return new ProviderModel(c)});this.layoutId=a.pageLayout;if(this.layoutId!==1){this.layoutId=0}},_shouldRenderTemplate:function(){var a=this.model.get("meta");return(LAYOUT===layoutFormat.wide||a.items.length>1||(a.items[0]&&a.items[0].params&&a.items[0].params.type==ReviewsUtils.reviewsTypes.OPEN_TABLE))},_renderTemplate:function(a){var c=this.model.get("meta");this.tabsView=new ProvidersListView({model:this.providers,layoutId:this.layoutId});if(LAYOUT===layoutFormat.wide){this.dividedScreenView=new DividedScreenView({});this.dividedScreenView.addRefreshButton(false,true);this.dividedScreenView.setView1(this.tabsView.render());var b=this.dividedScreenView}else{var b=this.tabsView}var d=Utils.Helpers.generateGUID();b.id=d;b.$el.attr({id:d});this.$el.append(b.render().$el);this.homePageId=d},_shouldSelectDefaultTab:function(){if(LAYOUT===layoutFormat.wide){var c=this.model.get("meta");var b=c.items.length;for(var a=this.model.get("defaultTabIndex")||0;a<b;a++){if(c.items[a]&&c.items[a].params&&c.items[a].params.type!=ReviewsUtils.reviewsTypes.OPEN_TABLE){break}}if(a<b){this.model.set({defaultTabIndex:a});return true}}return TemplateView.prototype._shouldSelectDefaultTab.apply(this)},_noDefaultTab:function(a){UN.onPageReady(this.homePageId,a,0)},_renderTab:function(c,d){var h=Utils.Helpers.generateGUID();var b=this.providers[c];var a=new ProviderDetailsView({model:b,layoutId:this.layoutId,id:h});if(this.tabsView){this.tabsView.onProviderSelected(b)}var e=this.providers[c].attributes.params.type;if(e==ReviewsUtils.reviewsTypes.OPEN_TABLE){var g=ErrPagesManager.getErrPage(errorPages.errorPagesTypes.notSupported,this.model.getArrContext());var h=Utils.Helpers.generateGUID();var f=new GenericPageView({model:g,id:h});this.$el.append(f.render().el);UN.onPageReady(h,d,1,true)}else{this.renderListPage({navRequest:d,model:b,view:a,addTabs:false,dividedScreenView:this.dividedScreenView,useGenericNoItems:(LAYOUT===layoutFormat.wide)})}}}); var ProvidersListView=Backbone.View.extend({attributes:{"data-role":"page","data-buttons":"refresh"},initialize:function(){this.$el.bind("refresh",this.handleRefreshClick.hitch(this));this.$el.bind("silentRefresh",this.handleRefreshClick.hitch(this))},render:function(){this.$el.html('<div class="scroll_wrapper"><div class="scroller"></div></div>');var e=this.$el.find(".scroller");var f=this.$el.find(".scroll_wrapper");var b=reviewsTemplates.providers_list_tpl;e.html(b());var a=e.find(".providers_list");var d=this.model;var c=this;_.each(d,function(g,h){c._renderOneProvider(a,g)});Scrolling.init(f);return this},_renderOneProvider:function(b,a){if(a){var c=new ProviderView({model:a,layoutId:this.options.layoutId});b.append(c.render().el)}},onProviderSelected:function(a){var b=!!(this._selectedProvider&&this._selectedProvider.cid===a.cid);if(this._selectedProvider&&!b){this._selectedProvider.set({selected:false})}if(!b){this._selectedProvider=a;this._selectedProvider.set({selected:true})}},handleRefreshClick:function(){this.render()}}); var ProviderView=ListItemView.extend({className:"provider_list_item item box_classic_padding",events:{tap:"itemClicked"},initialize:function(){ListItemView.prototype.initialize.apply(this);this.$el.attr("data-role","button").addClass("t3d");var a=this.model.get("items");if(!a||a.invalid){this.$el.css({display:"none"})}},render:function(){var a=reviewsTemplates.provider_loading_tpl;var c={image:this.model.get("image")||"",title:this.model.get("title")||"",loadingString:_T("HtmlTextReviewsLoadingProvider"),type:this.model.get("params").type};if(this.options.layoutId===0){this.$el.addClass("clr_contTypeA_classicItem_bg clr_contTypeA_classicItem_brdr feed_classic_item");c.colorClassType="A"}else{this.$el.addClass("clr_contTypeB_bubbleItem_bg clr_contTypeB_bubbleItem_brdr feed_bubble_item");c.colorClassType="B"}var b=a(c);this.$el.html(b);this.model.bind("getItemsSuccess",this.onGetItemsSuccess.hitch(this));this.model.getItems(executeTypeEnum.HIT_AND_RUN);return this},onGetItemsSuccess:function(){var i=reviewsTemplates.provider_full_tpl;var c=this.model.get("reviewsCount")||0;var a=localization.formatNumber(c);var h=this.model.get("providerName");var e=_T("HtmlTextReviewsReviewsCount",{number:a,provider:h});var d=this.model.get("params").type;var b=ReviewsUtils.ratingToHtml(this.model.get("rating"),d,"clr_contTypeB_icn");var g={image:this.model.get("image"),title:this.model.get("title"),reviewsCount:e,rating:b};if(this.options.layoutId===0){g.colorClassType="A"}else{g.colorClassType="B"}var f=i(g);this.$el.find("IMG").error(function(){$(this).remove()});this.$el.html(f)},itemClicked:function(b){b.preventDefault();var a=this.model.get("params");if(a.type==ReviewsUtils.reviewsTypes.OPEN_TABLE&&PLATFORM!=platformEnum.simulator){var c=a.query;if(c){var d={url:c};appDriver.openLink(null,null,d)}}else{UN.navTo(this.model.get("alias"),{level:1,isInner:(LAYOUT===layoutFormat.narrow)})}}}); var ProviderDetailsView=ItemsView.extend({attributes:{"data-role":"page","data-buttons":"refresh"},initialize:function(){this.$el.html('<div class="provider_details_page scroll_wrapper"><div class="scroller"></div></div>');var b=this.$el.find(".scroll_wrapper");this.$scroller=this.$el.find(".scroller");Scrolling.init(b);this._createHeader();ItemsView.prototype.initialize.apply(this,arguments);this.$el.bind("refresh",this.handleRefreshClick.hitch(this));this.$el.bind("silentRefresh",this.handleSilentRefresh.hitch(this));var a=this.model.get("items");if(!a||a.invalid){this.$el.css({display:"none"})}},createItemView:function(a){var b=new ReviewView({model:a,layoutId:this.options.layoutId});return b},getRootView:function(){return this.$scroller},_createHeader:function(){if(this.header){return}this.header=new ProviderDetailsHeaderView({model:this.model,layoutId:this.options.layoutId});this.$scroller.prepend(this.header.render().el)}}); var ProviderDetailsHeaderView=Backbone.View.extend({className:"provider_header item box_classic_padding clr_contTypeB_headerItem_bg clr_contTypeB_headerItem_brdr",tagName:"div",render:function(){var a=reviewsTemplates.provider_loading_tpl;var c={image:this.model.get("image")||"",title:this.model.get("title")||"",loadingString:_T("HtmlTextReviewsLoadingProvider"),type:this.model.get("params").type};var b=a(c);this.$el.html(b);if(this.model.get("hasData")){this._renderFull()}else{this.model.bind("getItemsSuccess",this._renderFull.hitch(this))}return this},_renderFull:function(){var i=reviewsTemplates.provider_full_tpl;var c=this.model.get("reviewsCount")||0;var a=localization.formatNumber(c);var h=this.model.get("providerName");var e=_T("HtmlTextReviewsReviewsCount",{number:a,provider:h});var d=this.model.get("params").type;var b=ReviewsUtils.ratingToHtml(this.model.get("rating"),d,"clr_contTypeB_icn");var g={image:this.model.get("image"),title:this.model.get("title"),reviewsCount:e,rating:b,colorClassType:"B"};var f=i(g);this.$el.html(f);this.$el.find("IMG").error(function(){$(this).remove()});return this}}); var ReviewView=Backbone.View.extend({className:"review_list_item item box_classic_padding clr_contTypeA_bg",render:function(){var k=reviewsTemplates.review_item_tpl;var b=this.model.get("reviewer").imageUrl;var i=this.model.get("title");var d=this.model.get("providerType");var c=ReviewsUtils.ratingToHtml(this.model.get("rating"),d,"clr_contTypeA_icn");var l=this.model.get("description")||"";var a=_T("HtmlTextReviewsByAuthor",{name:this.model.get("reviewer").name});var j=Utils.TimeDate.timeAsText(this.model.get("time"));var g={image:b,title:i,text:l,rating:c,reviewerName:a,timeAgo:j};this.$el.html(k(g)).attr("data-role","button").addClass("t3d");var f=this.model.get("link");if(f){var e=$('<span class="clr_contTypeA_lnkTxt review_link">'+_T("HtmlTextReviewsReadMoreLink")+"</span>");var h=this.$el.find(".review_text");h.append(e);e.tap(function(m){m.preventDefault();appDriver.openLink(null,null,{url:f,title:f})})}if(this.options.layoutId===0){this.$el.addClass("clr_contTypeA_brdr feed_classic_item")}else{this.$el.addClass("clr_contTypeA_brdrBubble feed_bubble_item")}this.$el.find("IMG").error(function(){$(this).remove()});return this}}); var reviewsTemplates={providers_list_tpl:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<ul class="providers_list"></ul>'}return __p},provider_loading_tpl:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";if(typeof(image)!="undefined"&&image){__p+='<img class="image" src="'+((__t=(image))==null?"":__t)+'" />'}__p+='<div class="container"><div class="responsive size_title_3 clr_contTypeA_hdlTxt">'+((__t=(title))==null?"":__t)+"</div>";if(type!==3){__p+='<div class="responsive size_title_0 loading_provider clr_contTypeA_subTxt"><div class="loading_icon mask_sprite sprite-ajax-loader_small clr_contTypeA_subIcn spin"></div><div class="loading_string">'+((__t=(loadingString))==null?"":__t)+"</div></div>"}__p+="</div>"}return __p},provider_full_tpl:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";if(typeof(image)!="undefined"&&image){__p+='<div class="image uploader_image"><img class="" src="'+((__t=(image))==null?"":__t)+'" /></div>'}__p+='<div class="container"><div class="responsive size_title_3 clr_contType'+((__t=(colorClassType))==null?"":__t)+'_hdlTxt">'+((__t=(title))==null?"":__t)+'</div><div class="responsive size_title_0 clr_contType'+((__t=(colorClassType))==null?"":__t)+'_subTxt">'+((__t=(reviewsCount))==null?"":__t)+'</div><div class="rating_container">'+((__t=(rating))==null?"":__t)+"</div></div>"}return __p},review_item_tpl:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";if(typeof(image)!="undefined"&&image){__p+='<img class="image uploader_image" src="'+((__t=(image))==null?"":__t)+'" />'}__p+='<div class="container"><div class="responsive size_title_1 clr_contTypeA_hdlTxt">'+((__t=(title))==null?"":__t)+'</div><div class="rating_container">'+((__t=(rating))==null?"":__t)+'</div><div class="responsive size_1 review_text clr_contTypeA_txt">'+((__t=(text))==null?"":__t)+'</div><div class="responsive size_0 extra_info clr_contTypeA_subTxt"><div class="reviewer">'+((__t=(reviewerName))==null?"":__t)+'</div><div class="time_ago">'+((__t=(timeAgo))==null?"":__t)+"</div></div></div>"}return __p}}; var ReviewsUtils=(function(){var a={};a.reviewsTypes={OPEN_TABLE:3};a.ratingToHtml=function(b,d,c){if(d===1){return a.ratingToHtmlYelp(b)}else{return a.ratingToHtmlDefault(b,c)}};a.ratingToHtmlDefault=function(e,f){if(e===null){return""}f=f||"clr_contTypeB_icn";var d=5;var c="";for(var b=0;b<d;b++){if(e>=1){c+='<div class="mask_sprite star_image sprite-fullStar '+f+'"></div>'}else{if(e>0){c+='<div class="mask_sprite star_image sprite-halfStar '+f+'"></div>'}else{c+='<div class="mask_sprite star_image sprite-emptyStar '+f+'"></div>'}}e--}return c};a.ratingToHtmlYelp=function(c){if(c===null){return""}var d="rating5";if(c<=0){d="rating0"}else{if(c<=1){d="rating1"}else{if(c<2){d="rating1p5"}else{if(c==2){d="rating2"}else{if(c<3){d="rating2p5"}else{if(c==3){d="rating3"}else{if(c<4){d="rating3p5"}else{if(c==4){d="rating4"}else{if(c<5){d="rating4p5"}}}}}}}}}var b='<div class="reviewsSprite yelp_stars '+d+'"></div>';return b};return a}()); 





var storeEnums={PagesLayouts:{0:"default"}};storeEnums.nodeType={CATALOG:1,CATEGORY:2,ITEM:3};storeEnums.aliases={DEFAULT_URL:"default",ITEMS_URL:"items",SEARCH_URL:"Q_"}; (function(){var storeTemplates={collectionsWrapper:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="scroll_wrapper"><div class="scroller"><div class="header"></div><div class="descendants_container"></div></div></div>'}return __p},node_view:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="search_container_container"></div>';if(headerImage&&!isSearch){__p+='<div class="image-container clr_contTypeA_bg clr_contTypeA_brdr"><div class="header_image sliced_image" style="background-image: url(\''+((__t=(headerImage))==null?"":__t)+"');\">";if(name||subtitle){__p+='<div class="text_container clr_contTypeC_bg"><div class="collection_title title size_title_3 max_3_lines clr_contTypeC_hdlTxt">';if(name){__p+=""+((__t=(name))==null?"":__t)+""}__p+="</div>";if(subtitle){__p+='<div class="collection_subtitle size_0 max_2_lines time clr_contTypeC_txt">'+((__t=(subtitle))==null?"":__t)+"</div>"}__p+="</div>"}__p+="</div></div>"}__p+=""}return __p},search_view:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<form class="search_form" action="javascript:void(0)"><input type="text" class="search_input rounded_corners_all clr_form_input_bg clr_form_input_brdr clr_form_input_txt" placeholder="'+((__t=(CollectionsSearchPlaceholder))==null?"":__t)+'" /><a class="search_button clr_contTypeB_btn_bg clr_contTypeB_btn_brdr clr_contTypeB_btn_hdlTxt rounded_corners_all" data-role="button"><div class="mask_sprite sprite-search clr_contTypeB_btn_icn"></div></a><input type="submit" style="display: none"></form>'}return __p},item_view:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="item_view_content_container clr_contTypeA_classicItem_bg"><div class="item_name clr_contTypeA_hdlTxt">'+((__t=(name))==null?"":__t)+"</div>";if(gallery.length>0){__p+='<div class="images_container images_amount_'+((__t=(gallery.length))==null?"":__t)+'  clr_contTypeA_subBg"><div class="main_image sliced_image" style="background-image: url(\''+((__t=(gallery[0].url))==null?"":__t)+'\');"><div class="full_screen_hint sprite sprite-FullScreenIcon"></div></div>';if(gallery.length>1){__p+='<div class="thumbnails_container"><table class="thumbnails_table" data-role="controlgroup"><tr><td width="*"><div class="sliced_image item_thumbnail images_imgBtn_bg images_imgBtn_brdr" data-index="0" style="background-image: url(\''+((__t=(gallery[0].url))==null?"":__t)+'\');" data-role="button"></div></td><td width="*"><div class="sliced_image item_thumbnail" data-index="1" style="background-image: url(\''+((__t=(gallery[1].url))==null?"":__t)+'\');" data-role="button"></div></td>';if(gallery.length>2){__p+='<td width="*"><div class="sliced_image item_thumbnail" data-index="2" style="background-image: url(\''+((__t=(gallery[2].url))==null?"":__t)+'\');" data-role="button"></div></td>'}__p+="<tr></table></div>"}__p+="</div>"}__p+="";if(showPrice||showBuyButton){__p+='<div class="price_container clr_contTypeA_subBg">';if(showBuyButton){__p+='<div data-role="button" class="buy_now clr_contTypeB_actBtn_bg clr_contTypeB_actBtn_brdr clr_contTypeB_actBtn_hdlTxt order"><span class="text">'+((__t=(buyNowText))==null?"":__t)+"</span></div>"}if(showPrice){__p+='<div class="info_container"><span class="current_price clr_contTypeC_subTxt">'+((__t=(currentPriceText))==null?"":__t)+':</span><br /><div class="narrow_price_container clr_contTypeA_hdlTxt" dir="ltr">';if(payment.meta.currencySign){__p+='<span class="currency">'+((__t=(payment.meta.currencySign))==null?"":__t)+"</span>"}__p+='<span class="dollars">'+((__t=(priceArr[0]))==null?"":__t)+"</span>";if(priceArr[1]){__p+='<span class="cents">'+((__t=(priceArr[1]))==null?"":__t)+"</span>"}__p+="</div></div>"}__p+="</div>"}__p+='</div><!-- /clr_contTypeA_hdlTxt --><div class="clr_contTypeB_bg clr_contTypeB_txt">';if(description){__p+='<div class="details_container"><div class="details_header clr_contTypeB_hdlTxt">'+((__t=(CollectionsItemDetails))==null?"":__t)+":</div></div>"}__p+='<div class="contact_details_container">';if(email){__p+=""+((__t=(email))==null?"":__t)+""}__p+="";if(contact_web){__p+=""+((__t=(contact_web))==null?"":__t)+""}__p+='<div style="clear: both;"></div></div></div></div>'}return __p},contact_link_template:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<a href="'+((__t=(href))==null?"":__t)+'" data-role="button" class="ui-btn-up contact_icon sprite sprite-'+((__t=(sprite_name))==null?"":__t)+'"></a>'}return __p},contact_item_template:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<span data-href="'+((__t=(href))==null?"":__t)+'" data-role="button" class="ui-btn-up contact_icon sprite sprite-'+((__t=(sprite_name))==null?"":__t)+'"></span>'}return __p},item_descendant_summary:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";if(thumbnail){__p+='<div class="thumbnail sliced_image" style="background-image:url(\''+((__t=(thumbnail))==null?"":__t)+"');\"></div>"}__p+='<div class="descendant_summary_content_container"><div class="descendant_summary_content_table_emulation"><div class="descendant_summary_content_tr_emulation"><div class="descendant_summary_content"><div class="descendant_summary_title clr_contTypeA_hdlTxt size_title_1 _1_line">'+((__t=(title))==null?"":__t)+'</div><div class="descendant_summary_subtitle clr_contTypeA_subTxt size_0 max_2_lines">'+((__t=(subtitle))==null?"":__t)+"</div>";if(price){__p+='<div class="descendant_summary_price clr_contTypeA_txt">'+((__t=(price))==null?"":__t)+"</div>"}__p+='</div></div></div></div><div class="slide_arrow_image mask_sprite sprite-arrow clr_contTypeA_icn"></div>'}return __p}};storeTemplates.CollectionsCategoryLeftView=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="scroll_wrapper"><div class="scroller">';if(headerImage){__p+='<div class="headerImage sliced_image" style="background-image:url(\''+((__t=(headerImage))==null?"":__t)+'\');"><div class="catImage clr_images_catImage_bg"></div></div>'}__p+="";if(name){__p+='<div class="name size_title_4 clr_contTypeA_hdlTxt">'+((__t=(name))==null?"":__t)+"</div>"}__p+="";if(subtitle){__p+='<div class="description size_1 clr_contTypeA_subTxt">'+((__t=(subtitle))==null?"":__t)+"</div>"}__p+="</div></div>"}return __p};storeTemplates.CollectionsItemRightView=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="scroll_wrapper"><div class="scroller"><div class="data_content">';if(images.gallery&&images.gallery.length){__p+='<div class="headerImage sliced_image" style="background-image:url(\''+((__t=(images.gallery[0].url))==null?"":__t)+'\');"><div class="catImage clr_images_catImage_bg"></div><div class="full_screen_hint sprite sprite-FullScreenIcon"></div></div>'}__p+="";if(images.gallery&&images.gallery.length>1){__p+='<div class="images_container clr_contTypeB_subBg"><div class="item_thumbnail sliced_image" style="background-image:url(\''+((__t=(images.gallery[0].url))==null?"":__t)+'\');"><div data-role="button" class="catImage clr_images_catImage_bg selected" data-index="0"></div></div><div class="item_thumbnail sliced_image" style="background-image:url(\''+((__t=(images.gallery[1].url))==null?"":__t)+'\');"><div data-role="button" class="catImage clr_images_catImage_bg" data-index="1"></div></div>';if(images.gallery.length>2){__p+='<div class="item_thumbnail sliced_image" style="background-image:url(\''+((__t=(images.gallery[2].url))==null?"":__t)+'\');"><div data-role="button" class="catImage clr_images_catImage_bg" data-index="2"></div></div>'}__p+="</div>"}__p+="";if(name){__p+='<div class="name size_title_4 clr_contTypeB_hdlTxt">'+((__t=(name))==null?"":__t)+"</div>"}__p+="";if(subtitle){__p+='<div class="description size_1 clr_contTypeB_subTxt">'+((__t=(subtitle))==null?"":__t)+"</div>"}__p+="";if(showPrice||showBuyButton){__p+='<div class="price_container clr_contTypeB_subBg">';if(showPrice){__p+='<div class="price clr_contTypeB_hdlTxt" dir="ltr">';if(payment.meta.currencySign){__p+='<span class="currency">'+((__t=(payment.meta.currencySign))==null?"":__t)+"</span>"}__p+='<span class="dollars">'+((__t=(priceArr[0]))==null?"":__t)+"</span>";if(priceArr[1]){__p+='<span class="cents">'+((__t=(priceArr[1]))==null?"":__t)+"</span>"}__p+="</div>"}__p+="";if(showBuyButton){__p+='<div data-role="button" class="buy_now clr_contTypeB_actBtn_bg clr_contTypeB_actBtn_brdr clr_contTypeB_actBtn_hdlTxt"><span class="text">'+((__t=(buyNow))==null?"":__t)+"</span></div>"}__p+="</div>"}__p+="";if(description){__p+='<div class="details size_1 clr_contTypeB_txt">'+((__t=(description))==null?"":__t)+"</div>"}__p+='</div><div class="scrollingBug"></div></div></div>'}return __p};storeTemplates.CollectionsCategoryRightView=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="scroll_wrapper"><div class="scroller"><div class="bread_wrapper"></div><div class="no_result_wrapper"></div><div class="grid_wrapper"></div></div></div>'}return __p};storeTemplates.CollectionsItemLeftView=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="scroll_wrapper"><div class="scroller"></div></div>'}return __p};storeTemplates.CollectionsGridItemView={category:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";if(headerImage){__p+='<div class="headerImage sliced_image" style="background-image:url(\''+((__t=(headerImage))==null?"":__t)+'\');"><div class="header_box clr_contTypeC_bg">';if(name){__p+='<div class="size_title_3 _1_line name clr_contTypeC_hdlTxt ellipsis">'+((__t=(name))==null?"":__t)+"</div>"}__p+="";if(itemsCountStr){__p+='<div class="size_title_0 _1_line itemsCountStr clr_contTypeC_subTxt">'+((__t=(itemsCountStr))==null?"":__t)+"</div>"}__p+='</div><div data-role="button" class="catImage clr_images_catImage_bg"></div></div>'}__p+=""}return __p},item:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";if(headerImage){__p+='<div class="headerImage sliced_image" style="background-image:url(\''+((__t=(headerImage))==null?"":__t)+"');\">";if(showPrice){__p+='<div data-role="button" class="catImage clr_images_catImage_bgGrad"></div><div class="price clr_images_catImage_txt" dir="ltr">';if(payment.meta.currencySign){__p+='<span class="currency">'+((__t=(payment.meta.currencySign))==null?"":__t)+"</span>"}__p+='<span class="dollars">'+((__t=(priceArr[0]))==null?"":__t)+"</span>";if(priceArr.length>1){__p+='<span class="cents">'+((__t=(priceArr[1]))==null?"":__t)+"</span>"}__p+="</div>"}else{__p+='<div data-role="button" class="catImage clr_images_catImage_bg"></div>'}__p+="</div>"}__p+='<div class="name_container size_1 _2_lines clr_contTypeB_hdlTxt">'+((__t=(name))==null?"":__t)+"</div>"}return __p}};storeTemplates.CollectionsListItemView=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";if(headerImage){__p+='<div class="headerImage sliced_image" style="background-image:url(\''+((__t=(headerImage))==null?"":__t)+'\');"><div class="catImage clr_images_catImage_bg"></div></div>'}__p+='<div class="vertical_center"><div>';if(name){__p+='<div class="name size_1 ';if(showPrice){__p+="max_2_lines"}else{__p+="max_3_lines"}__p+=' clr_contTypeA_hdlTxt">'+((__t=(name))==null?"":__t)+"</div>"}__p+="";if(showPrice){__p+='<div class="price clr_contTypeA_subTxt" dir="ltr">';if(payment.meta.currencySign){__p+='<span class="currency">'+((__t=(payment.meta.currencySign))==null?"":__t)+"</span>"}__p+='<span class="dollars">'+((__t=(priceArr[0]))==null?"":__t)+"</span>";if(priceArr.length>1){__p+='<span class="cents">'+((__t=(priceArr[1]))==null?"":__t)+"</span>"}__p+="</div>"}__p+="</div></div>"}return __p};storeTemplates.BreadCrumb=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<span class="BreadCrumb size_1 clr_contTypeA_subTxt">'+((__t=(name))==null?"":__t)+'</span><div class="BreadCrumbArrow mask_sprite sprite-breadArrow clr_contTypeA_subIcn"></div>'}return __p};storeTemplates.lastBreadCrumb=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<span class="BreadCrumb size_1 clr_contTypeA_hdlTxt">'+((__t=(name))==null?"":__t)+"</span>"}return __p};storeTemplates.Search=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<span class="search_container_wide clr_form_input_bg clr_form_input_brdr"><div class="right mainButtonContainer clr_form_input_brdr"  data-role="button"><div class="clearButton mask_sprite sprite-la-cancel clr_form_input_icn selected"></div><div class="searchButton mask_sprite sprite-search clr_form_input_icn"></div></div><div class="left searchIndicator mask_sprite sprite-catSearchSmall clr_form_input_icn"></div><div class="right clearEditButton"><div class="mask_sprite sprite-catXSmall clr_form_input_icn" data-role="button"></div></div><div class="textContainer clr_form_input_txt"><form class="search_form" action="javascript:void(0)"><input type="text" class="searchInput" placeholder="'+((__t=(placeholder))==null?"":__t)+'" /></form></div></span><div class="clearfix"></div>'}return __p};storeTemplates.BreadBarView=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="breadContainer ellipsis"></div>'}return __p};window.storeTemplates=storeTemplates})(); var StoreNodeModel=ItemsModel.extend({initialize:function(){ItemsModel.prototype.initialize.apply(this,arguments);var b={id:null,collectionId:null,nodeId:null,priceArr:["0"],payment:{},images:{},meta:{},showBuyButton:false,showPrice:false,description:"",subtitle:"",name:"",headerImage:"",itemsCount:null,defaultImage:"http://storage.conduit.com/Mobile/66/e4/663a9521-49e4-4c44-80b4-826b9ff4405f/Images/fd4fa8cc-4253-4959-9f8b-4b05f54d4e09.png",breadCrumbs:[]};var a=$.extend(b,this.toJSON());a.images=a.images||{};a.meta=a.meta||{};if(a.payment){a.payment.meta=a.payment.meta||{}}this._updateFromJSON(a)},_updateFromJSON:function(a){a.headerImage=(a.images&&a.images.main&&a.images.main.url)||a.defaultImage;if(typeof a.payment.price==="number"){a.priceArr=(""+a.payment.price).split(".");a.priceArr[0]=localization.formatNumber(a.priceArr[0]);if(a.priceArr[1]&&a.priceArr[1].length===1){a.priceArr[1]=a.priceArr[1]+"0"}}a.showBuyButton=!!(a.payment.providers&&a.payment.providers.length);a.showPrice=(typeof a.payment.price==="number");a.alias=a.id;this.set(a)},createItemsCollection:function(){var b={id:this.get("collectionId"),parentId:this.get("nodeId")};var a=new StoreCollection(null,b);a.breadCrumbs=_.extend([],this.get("breadCrumbs"));a.breadCrumbs.push(this);a.term=this.get("term");a.bind("getItemsSuccess",this._onGetItemsSuccess,this);return a},_onGetItemsSuccess:function(a){var b=this.toJSON();b.images=a.images;b.name=a.name;b.subtitle=a.subtitle;this._updateFromJSON(b);this.trigger("headerChanged")},setSearch:function(a){var c=this.get("items");c.term=a;c.reset();var b=executeTypeEnum.HIT_AND_RUN;c.getItems(b)},getSearchTerm:function(){var a=this.get("items");return a.term},buy:function(){var e=this.get("payment").providers[0];var b=this.get("id");var d=this;function a(g){UN.goBack();var f=[{text:_T("DialogButtonSuccessBuy"),cb:function(){}}];uiDriver.showDialogBox(null,null,{title:_T("DialogCaptionSuccessBuy"),message:_T("DialogMessageSuccessBuy",{itemTitle:d.get("name")}),buttons:f})}function c(f){if(typeof f==="string"&&f==="TWICE"){}else{cqm.showToastMessage(_T("DialogMessageAgendaNoFav"))}}StorePurchaseManager.buy(a,c,b,e)},clearSearch:function(){this.setSearch(null)},getPhotosArrayForGallery:function(){var a=this;return _.map(this.get("images").gallery,function(b){return{largeImage:b.url,shareInfo:{imageUrl:b.url,title:a.get("name"),url:b.url,shortDesc:a.get("subtitle")||""}}})},getPriceStr:function(){if(this.get("showPrice")){var a=this.get("payment");var b=a.meta.currencySign||"";return a.price+b}return""}}); var StoreCollection=ItemsCollection.extend({model:StoreNodeModel,initialize:function(b,a){ItemsCollection.prototype.initialize.apply(this,arguments);if(!a||!a.id){this.invalid=true}this.params={rootId:a.id,catalogId:a.id,storeItemId:a.parentId||a.id,parentId:a.parentId||a.id,searchParams:{term:null,sortOrder:0}}},parse:function(a){a=a||{};var d=this.params.id;var b=this.breadCrumbs;var c=a.payment||(a.root&&a.root.payment)||{};_.each(a.items,function(e){e.collectionId=d;e.breadCrumbs=b;e.payment=$.extend({},c,e.payment);e.nodeId=e.id});return{models:a.items,metaData:a}},getParams:function(){this.params.skip=this.skip;this.params.searchParams.term=this.term;return this.params},getServiceName:function(){if(this.term){return"STORE_CATALOG_ITEMS_SEARCH"}else{return"STORE_CATALOG_ITEMS_GET"}}}); var StoreDescendantSummaryView=Backbone.View.extend({tagName:"li",className:"descendant_summary clr_contTypeA_classicItem_bg clr_contTypeA_classicItem_brdr",events:{tap:"itemClicked"},render:function(){this.$el.attr("data-role","button");var a=this.model.get("images");var b=storeTemplates.item_descendant_summary;var d=a&&a.thumbnail&&a.thumbnail.url;if(!d){this.$el.addClass("no_thumbnail")}var c=this.model.getPriceStr();this.$el.append(b({title:this.model.get("name"),subtitle:this.model.get("subtitle"),price:c,thumbnail:d}));return this},itemClicked:function(b){b.preventDefault();var a=this.model.get("alias");if(this.model.get("type")===storeEnums.nodeType.CATEGORY){UsageManager.addEvent(analytics.usageEventTypeEnum.ItemView,{id:this.model.get("id"),list:true});UN.navTo(a,{level:2})}else{UN.navTo(a,{level:4})}}}); var StoreItemView=Backbone.View.extend({events:{"tap .item_thumbnail":"collectionItemThumbnailClicked","tap .main_image":"onCollectionMainImageClicked","tap .buy_now":"buyClicked","tap [href]":"openLink"},initialize:function(){this.$el.attr({"data-role":"page","data-buttons":"refresh"});this.$el.html(genericPageTemplates.pageTemplate());Scrolling.init(this.$(".scroll_wrapper"));this.$scroller=this.$(".scroller");var f=storeTemplates.item_view;var g=this.model.get("meta");var a=this.model.get("images");var e=this.model.get("description");var c=g.links||{};this.$scroller.append(f({name:this.model.get("name"),priceArr:this.model.get("priceArr"),description:e,subtitle:this.model.get("subtitle"),payment:this.model.get("payment"),showBuyButton:this.model.get("showBuyButton"),showPrice:this.model.get("showPrice"),gallery:(a&&a.gallery)||[],buyNowText:_T("CollectionsBuyNow"),currentPriceText:_T("CollectionsCurrentPrice"),CollectionsItemDetails:_T("CollectionsItemDetails"),email:c.email?storeTemplates.contact_link_template({href:"mailto:"+c.email,sprite_name:"aboutus_email"}):null,contact_web:c.web?storeTemplates.contact_item_template({href:c.web,sprite_name:"aboutus_link"}):null}));if(e){var b=new HtmlContainerControl();b.renderHtml(this.$scroller.find(".details_container"),e,{changeColors:false,colorType:"B"})}var d=this.$scroller.find(".contact_details_container span.contact_icon");d.tap(function(){var i=$(this);var h=i.attr("data-href");appDriver.openLink(null,null,{url:h,title:i.text()})})},collectionItemThumbnailClicked:function(c){var a=$(c.target);this.imageIndex=parseInt(a.attr("data-index"));var b=this.model.get("images").gallery[this.imageIndex].url;this.$(".main_image").css("background-image","url("+b+")")},onCollectionMainImageClicked:function(b){var a=this.model.getPhotosArrayForGallery();new PhotoGalleryManager().pressedImage(a,this.imageIndex||0)},getRootView:function(){return this.$scroller},buyClicked:function(a){this.model.buy()},openLink:function(b){var a=$(b.currentTarget).attr("href");appDriver.openLink(null,null,{url:a});b.preventDefault()}}); var StoreNodeView=ItemsView.extend({className:"collection_view",initialize:function(){this.$el.attr({"data-role":"page","data-buttons":"refresh"});this.$el.html(storeTemplates.collectionsWrapper());Scrolling.init(this.$(".scroll_wrapper"));this.$scroller=this.$(".scroller");this.model.on("headerChanged",this._updateHeader,this);this.$el.bind("refresh",this.handleRefreshClick.hitch(this));this.$el.bind("silentRefresh",this.handleSilentRefresh.hitch(this));ItemsView.prototype.initialize.apply(this)},_updateHeader:function(){var e=storeTemplates.node_view;var a=!!this.model.get("term");var c=this.model.get("subtitle");c=c&&c.trim()||c;var b=this.model.get("name");b=b&&b.trim()||b;this.$(".header").html(e({name:Utils.String.sanitizeText(b,true),subtitle:Utils.String.sanitizeText(c,true),headerImage:this.model.get("headerImage"),isSearch:a}));if(!a){var d=new StoreSearchView({model:this.model});this.$scroller.find(".search_container_container").html(d.render().el)}},getRootView:function(){return this.$scroller.find(".descendants_container")},createItemView:function(a){return new StoreDescendantSummaryView({model:a})}}); var StoreSearchView=Backbone.View.extend({className:"search_container clr_contTypeB_bg clr_contTypeB_brdr",events:{"tap .search_button":"onSearchButtonClicked","submit .search_form":"onSearchButtonClicked"},onSearchButtonClicked:function(){var a=this.$input.val();if(a){UN.navTo(storeEnums.aliases.SEARCH_URL+a,{level:3})}},render:function(){var a={CollectionsSearchPlaceholder:_T("CollectionsSearchPlaceholder",{category:this.model.get("name")})};this.$el.html(storeTemplates.search_view(a));this.$input=this.$(".search_input");return this}}); var StoreTemplateView=TemplateView.extend({_renderTab:function(b,c){var d=this.model.get("meta");var a=d.items[b]||{};var f=a.params&&a.params.id;a.collectionId=f;var e={tabParams:a};UN.registerChange(this.onCategorySelected.hitch(this),2,{navRequest:c,data:e,cbSelectDefault:this._selectDefaultCategory.hitch(this)})},_selectDefaultCategory:function(b){var a=b.navRequest;UN.navTo(storeEnums.aliases.DEFAULT_URL,{navRequest:a,isInner:false})},onCategorySelected:function(c,a){var b=c.navRequest;var d=null;if(a===storeEnums.aliases.DEFAULT_URL){d=$.extend({},c.tabParams,{tabMeta:c.tabParams.meta})}else{d={nodeId:a,collectionId:c.tabParams.collectionId,tabMeta:c.tabParams.meta}}var e={addTabs:(a===storeEnums.aliases.DEFAULT_URL),params:d};UN.registerChange(this.onListSelected.hitch(this),3,{navRequest:b,data:e,cbSelectDefault:this._selectDefaultList.hitch(this)})},_selectDefaultList:function(b){var a=b.navRequest;UN.navTo(storeEnums.aliases.ITEMS_URL,{navRequest:a,isInner:false})},onListSelected:function(f,d){var e=f.navRequest;var h=$.extend({},f.params);var b=new StoreNodeModel(h);b.set("tabMeta",this.model.get("meta"));if(d.startsWith(storeEnums.aliases.SEARCH_URL)){var c=d.replace(storeEnums.aliases.SEARCH_URL,"");b.set({term:c});var g=b.get("items");g.term=c;UsageManager.addEvent(analytics.usageEventTypeEnum.Search,{term:c})}else{}var a=new StoreNodeView({model:b});this.renderListPage({navRequest:e,model:b,view:a,addTabs:f.addTabs,level:3})},selectDefaultItem:function(e){var c=e.navRequest;var a=UN.getCurrentUrlAtLevel(2);var d=e.model.get("items");if(d.length===1&&a===storeEnums.aliases.DEFAULT_URL){var b=d.at(0);if(b.get("type")!==storeEnums.nodeType.ITEM){a=b.get("alias");UN.navTo(a,{level:2,navRequest:c,isInner:false});return}}TemplateView.prototype.selectDefaultItem.apply(this,arguments)},getDetailsView:function(a){var b=new StoreItemView({model:a});return b},getNoItemsView:function(d){var b=d.model.get("name");var c=d.model.get("items").term;if(c){var f=_T("CollectionsSearchNoResultsFound",[],this.model.get("meta").overrideTranslation);var e=_T("CollectionsSearchNoResultsFoundSubtitle",{node_name:b,query_string:c},this.model.get("meta").overrideTranslation);var a="app/interface/web/img/search.svg"}else{var f=_T("CollectionsSearchNoItemsFound",[],this.model.get("meta").overrideTranslation);var e=_T("CollectionsSearchNoItemsFoundSubtitle",{node_name:b},this.model.get("meta").overrideTranslation);var a="app/interface/web/img/noItems.svg"}var h=new GenericPageModel({title:f,text:e,img:a});var g=Utils.Helpers.generateGUID();return new GenericPageView({model:h,id:g})}}); var StoreGridItemView=Backbone.View.extend({tagName:"li",className:"CollectionsGridItemView",events:{tap:"itemClicked"},render:function(){var c=this.model.toJSON();if(this.model.get("type")===storeEnums.nodeType.CATEGORY){var b="category";var a=storeTemplates.CollectionsGridItemView.category;if(c.itemsCount===null){c.itemsCountStr=_T("CollectionsCategoryUnknownItemsCount")}else{c.itemsCountStr=_T("CollectionsCategoryItemsCount",{count:c.itemsCount})}}else{var b="item";var a=storeTemplates.CollectionsGridItemView.item}this.$el.html(a(c)).addClass(b);return this},itemClicked:function(b){b.preventDefault();var a=this.model.get("alias");if(this.model.get("type")===storeEnums.nodeType.CATEGORY){UsageManager.addEvent(analytics.usageEventTypeEnum.ItemView,{id:this.model.get("id"),list:true});UN.navTo(a,{level:2})}else{UN.navTo(a,{level:4})}}}); var StoreCategoryLeftView=Backbone.View.extend({className:"CollectionsCategoryLeftView clr_contTypeA_bg",initialize:function(){this.model.on("headerChanged",this.render,this)},render:function(){this.$el.html(storeTemplates.CollectionsCategoryLeftView(this.model.toJSON()));var a=this.$(".scroll_wrapper");Scrolling.init(a);return this}}); var StoreBreadBarView=Backbone.View.extend({className:"BreadBarView clr_contTypeB_bg",events:{"tap .mainButtonContainer":"mainButtonClicked","tap .clearEditButton":"clearEditClicked","blur .searchInput":"inputExit","focus .searchInput":"inputEnter","input .searchInput":"inputChanged","submit .search_form":"searchClicked"},mainButtonClicked:function(){if(this.$searchButton.is(":visible")){this.searchClicked()}else{this.clearSearchClicked()}},searchClicked:function(){this.doSearch();this.$input.blur()},clearSearchClicked:function(){this.clearSearch();this.$input.blur()},clearEditClicked:function(){this.$input.val("")},inputEnter:function(){this.$searchIndicator.hide();this.$clearButton.hide();this.$searchButton.show();this.$clearEditButton.show()},inputExit:function(){this.cancelEdit()},inputChanged:function(){var a=this.$input.val();if(a){this.$searchButton.addClass("selected")}else{this.$searchButton.removeClass("selected")}},cancelEdit:function(){this.$clearEditButton.hide();var a=this.model.getSearchTerm();if(a){this.$searchButton.addClass("selected");this.$searchIndicator.show();this.$clearButton.show();this.$searchButton.hide()}else{this.$searchButton.removeClass("selected");this.$searchIndicator.hide();this.$clearButton.hide();this.$searchButton.show()}this.$input.val(a)},doSearch:function(){var a=this.$input.val();this.model.setSearch(a);this.$searchIndicator.show();this.$clearButton.show();this.$searchButton.hide();UsageManager.addEvent(analytics.usageEventTypeEnum.Search,{term:a})},clearSearch:function(){this.model.clearSearch();this.$searchIndicator.hide();this.$clearButton.hide();this.$searchButton.show()},initialize:function(){this.model.on("change:name",this.render,this)},render:function(){this.$el.html(storeTemplates.BreadBarView());var d=this.$(".breadContainer");var a=this.model.get("breadCrumbs");for(var c=0;c<a.length;c++){var b=a[c];d.append(storeTemplates.BreadCrumb(b.toJSON()))}var e={name:this.model.get("name")};d.append(storeTemplates.lastBreadCrumb(e));e={placeholder:_T("CollectionsSearchPlaceholder2")};this.$el.append(storeTemplates.Search(e));this.$input=this.$(".searchInput");this.$clearButton=this.$(".clearButton");this.$searchButton=this.$(".searchButton");this.$searchIndicator=this.$(".searchIndicator");this.$clearEditButton=this.$(".clearEditButton");this.cancelEdit();return this}}); var StoreCategoryRightView=ItemsView.extend({className:"CollectionsCategoryRightView clr_contTypeB_bg",initialize:function(){this.$el.html(storeTemplates.CollectionsCategoryRightView({}));this.$scroller=this.$(".scroller");this.$list=this.$(".grid_wrapper");this.$noResults=this.$(".no_result_wrapper");var c=new StoreBreadBarView({model:this.model});var a=this.$(".bread_wrapper");a.html(c.render().el);var d=this.$(".scroll_wrapper");Scrolling.init(d);ItemsView.prototype.initialize.apply(this);$(window).bind("throttledresize",this.onResize.hitch(this));var b=this.model.get("items");if(b){b.bind("getItemsSuccess",this.onGetItems,this)}this.bind("pageshow",this.onPageShow.hitch(this));this.bind("pagehide",this.onPageHide.hitch(this));this.onPageHide();this.$el.bind("refresh",this.handleRefreshClick.hitch(this));this.$el.bind("silentRefresh",this.handleSilentRefresh.hitch(this))},getRootView:function(){return this.$list},createItemView:function(b){var a=new StoreGridItemView({model:b});return a},_reset:function(){this.$scroller.removeClass("noResults");this.$noResults.html("").removeClass("noResults");ItemsView.prototype._reset.apply(this,arguments)},onNoResults:function(){var b=this.model.get("name");var c=this.model.get("items").term;if(c){var f=_T("CollectionsSearchNoResultsFound");var e=_T("CollectionsSearchNoResultsFoundSubtitle",{node_name:b,query_string:c});var a="app/interface/web/img/search.svg"}else{var f=_T("CollectionsSearchNoItemsFound");var e=_T("CollectionsSearchNoItemsFoundSubtitle",{node_name:b});var a="app/interface/web/img/noItems.svg"}var g=new GenericPageModel({title:f,text:e,img:a});var d=new GenericView({model:g});this.$scroller.addClass("noResults");this.$noResults.html(d.render().el).addClass("noResults")},onGetItems:function(){if(!this.model.get("items").length){this.onNoResults()}this.onResize()},updateThumbnailsMargin:function(){Utils.Html.setGridMargin(this.$itemsList,{alsoTopUl:true})},onResize:function(){if(this.isPageShow){this.updateThumbnailsMargin();this.isGridUpdated=true}else{this.isGridUpdated=false;this.$itemsList.css({visibility:"hidden"})}},onPageShow:function(){this.isPageShow=true;if(!this.isGridUpdated){this.onResize();this.$itemsList.css({visibility:"visible"})}},onPageHide:function(){this.isPageShow=false;if(!this.isGridUpdated){this.$itemsList.css({visibility:"hidden"})}}}); var StoreWideCategoryView=DividedScreenView.extend({setCollectionModel:function(a){var b=new StoreCategoryLeftView({model:a});var c=new StoreCategoryRightView({model:a});this.setView1(b.render());this.setView2(c.render())}}); var StoreListItemView=ListItemView.extend({className:"CollectionsListItemView clr_contTypeA_bg clr_contTypeA_brdr",events:{tap:"itemClicked"},initialize:function(){ListItemView.prototype.initialize.apply(this);this.$el.attr("data-role","button").addClass("t3d")},render:function(){this.$el.html(storeTemplates.CollectionsListItemView(this.model.toJSON()));return this},itemClicked:function(b){b.preventDefault();var a=this.model.get("alias");UN.navTo(a,{level:4})}}); var StoreItemLeftView=ItemsView.extend({className:"CollectionsItemLeftView clr_contTypeA_bg",initialize:function(){this.$el.html(storeTemplates.CollectionsItemLeftView({}));this.$scroller=this.$(".scroller");this.$scrollWrapper=this.$(".scroll_wrapper");Scrolling.init(this.$scrollWrapper);ItemsView.prototype.initialize.apply(this);this.$el.bind("refresh",this.handleRefreshClick.hitch(this));this.$el.bind("silentRefresh",this.handleSilentRefresh.hitch(this))},getRootView:function(){return this.$scroller},createItemView:function(b){if(b.get("type")!==storeEnums.nodeType.ITEM){return null}var a=new StoreListItemView({model:b});return a}}); var StoreItemRightView=Backbone.View.extend({className:"CollectionsItemRightView clr_contTypeB_bg",events:{"tap .item_thumbnail":"thumbnailClicked","tap .headerImage":"headerImageClicked","tap .buy_now":"buyClicked"},initialize:function(){var d=_.extend({},this.model.toJSON(),{buyNow:_T("CollectionsBuyNow")});this.$el.html(storeTemplates.CollectionsItemRightView(d));var f=this.model.get("meta");var e=this.model.get("description");if(e){var a=this.$(".details");var b=new HtmlContainerControl();b.renderHtml(a,e,{changeColors:true,colorType:"B"})}var g=f.shareIconsModel;if(g){var c=new ShareIconsView({model:g});this.$(".data_content").append(c.render().el)}this.$mainImage=this.$(".headerImage");this.$colorOnImage=this.$(".catImage");this.$thumbnails=this.$(".item_thumbnail");this.$images_container=this.$(".images_container");this.$data_content=this.$(".data_content");this.$scrollWrapper=this.$(".scroll_wrapper");Scrolling.init(this.$scrollWrapper);$(window).bind("throttledresize",this.onResize.hitch(this));this.bind("pageshow",this.onPageShow.hitch(this));this.bind("pagehide",this.onPageHide.hitch(this));this.onPageHide()},render:function(){return this},buyClicked:function(a){this.model.buy()},thumbnailClicked:function(c){var a=$(c.target);this.imageIndex=parseInt(a.attr("data-index"));var b=this.model.get("images").gallery[this.imageIndex].url;this.$mainImage.css("background-image","url("+b+")");this.$colorOnImage.removeClass("selected");a.addClass("selected")},headerImageClicked:function(b){var a=this.model.getPhotosArrayForGallery();new PhotoGalleryManager().pressedImage(a,this.imageIndex||0)},updateViewSizes:function(){var f=500;var g=20;var h=this.$el.width();var b=h*0.7;b=Math.min(f,b);b=4*Math.floor(b/4);var i=3*b/4;var c=Math.floor((i-40)/3);var e=Math.floor(c*4/3);var d=b+10+10+e+10;var a=Math.floor((h-d)/2);a=Math.min(g,a);this.$mainImage.css({width:b,height:i});this.$thumbnails.css({width:e,height:c});this.$images_container.css({height:i});this.$data_content.css({width:d,marginTop:a});Scrolling.onContentChanged(this.$scrollWrapper)},onResize:function(){if(this.isPageShow){this.updateViewSizes()}},onPageShow:function(){this.isPageShow=(this.$el.width()>0);if(this.isPageShow){this.onResize();this.$data_content.css({visibility:"visible"})}},onPageHide:function(){this.isPageShow=false;this.$data_content.css({visibility:"hidden"})}}); var StoreWideItemView=DividedScreenView.extend({setCollectionModel:function(a){if(a===this.collectionModel){return}this.collectionModel=a;var b=new StoreItemLeftView({model:a});this.setView1(b.render());a.bind("itemSelected",this._onItemSelected,this)},_updateView2:function(a){var b=new StoreItemRightView({model:a});this.setView2(b.render());b.trigger("pageshow")},_onItemSelected:function(a,b){this._updateView2(a)}}); var StoreWideTemplateView=TemplateView.extend({_renderTab:function(b,c){var d=this.model.get("meta");var a=d.items[b]||{};var f=a.params&&a.params.id;a.collectionId=f;var e={tabParams:a};UN.registerChange(this.onCategorySelected.hitch(this),2,{navRequest:c,data:e,cbSelectDefault:this._selectDefaultCategory.hitch(this)})},_selectDefaultCategory:function(b){var a=b.navRequest;UN.navTo(storeEnums.aliases.DEFAULT_URL,{navRequest:a,isInner:false})},onCategorySelected:function(c,a){var b=c.navRequest;if(a===storeEnums.aliases.DEFAULT_URL){var d=$.extend({},c.tabParams)}else{var d={nodeId:a,collectionId:c.tabParams.collectionId}}var e={addTabs:(a===storeEnums.aliases.DEFAULT_URL),params:d};UN.registerChange(this.onListSelected.hitch(this),3,{navRequest:b,data:e,cbSelectDefault:this._selectDefaultList.hitch(this)})},_selectDefaultList:function(b){var a=b.navRequest;UN.navTo(storeEnums.aliases.ITEMS_URL,{navRequest:a,isInner:false})},onListSelected:function(f,d){var e=f.navRequest;var h=$.extend({},f.params);var b=new StoreNodeModel(h);b.set("tabMeta",this.model.get("meta"));if(d.startsWith(storeEnums.aliases.SEARCH_URL)){var c=d.replace(storeEnums.aliases.SEARCH_URL,"");b.set({term:c});var g=b.get("items");g.term=c}else{}var a=new StoreWideCategoryView({leftWidth:"280px"}).addRefreshButton(false,true);a.setCollectionModel(b);this.renderListPage({navRequest:e,model:b,view:a,addTabs:f.addTabs,level:3,useGenericNoItems:false})},selectDefaultItem:function(e){var c=e.navRequest;var a=UN.getCurrentUrlAtLevel(2);var d=e.model.get("items");if(d.length===1&&a===storeEnums.aliases.DEFAULT_URL){var b=d.at(0);if(b.get("type")!==storeEnums.nodeType.ITEM){a=b.get("alias");UN.navTo(a,{level:2,navRequest:c,isInner:false});return}}TemplateView.prototype.selectDefaultItem.apply(this,arguments)},getDetailsView:function(a,b){if(!this.itemView||!this.itemView.$el.parent().length){this.itemView=new StoreWideItemView({leftWidth:"34%"})}var c=b.model;this.itemView.setCollectionModel(c);return this.itemView}}); 

/*jshint browser:true, jquery:true*/
/*global console*/
window.WebViewportSizeManager = (function () {
    var BODY_SCROLL_TOP = false;

    var me = {};
    var _lastResult = null;
    var _isIos = navigator.userAgent.match(/iPhone|iPod/i);
    var _isIos7 = navigator.userAgent.match(/(iPad|iPhone);.*CPU.*OS 7_\d/i);
    var _isChrome = navigator.userAgent.match(/CriOS/i);

    var _bindEvents = function () {

        if (!window.addEventListener)
            return;

        window.addEventListener("orientationchange", me.hideUrlBar, false);
        window.addEventListener("resize", me.hideUrlBar, false);
        window.addEventListener("load", function() {
            document.body.style["min-height"] = '';
            document.body.style["height"] = '';
            window.removeEventListener("orientationchange", me.hideUrlBar);
            window.removeEventListener("resize", me.hideUrlBar);
        });
    };

    /**
     * this fucking awesome function calculates the proper BODY element height that all children should relate to.
     * proper is :"takes up the entire viewport, including the space of the address bar"
     *
     * it forces window.height to be
     * (full screen) instead of (fullscreen - address bar)
     *
     * - is only relevant for iphones and ipods.
     * - supports retina/nonretina,
     * - supports iphone5 tall screen
     * - supports ios6 safari landscape fullscreen mode
     */
    me.getViewportHeight = function () {
        var screenHeight, statusbarHeight, bottomUtilBarHeight;
        var result = null;
        if (_isIos && !_isChrome && !navigator.standalone && typeof window.orientation !== 'undefined') {
            var portrait = ((window.orientation / 90) % 2 === 0);
            var docClientHeight = document.documentElement.clientHeight;
            var urlBarOpen = portrait ?
                false :
                (window.innerHeight == document.documentElement.clientHeight && window.innerHeight != window.screen.width);

            var fullscreenLandscape = !portrait && (docClientHeight == 320 || docClientHeight == 242 /*fullscreen with native ios6 smartbanner*/ ); //iphone 5 'fullscreen landscape' mode
            var nativeSmartBannerShown = !portrait && (docClientHeight == 366 || docClientHeight == 130 /*non-fullscreen without native ios6 smartbanner*/ );

            //if the url bar was hidden, but then redesplayed by touch the status bar - we have no way to recognize that state and "force" ourselves to a smaller viewport.
            //the best guess is - if we already hid the urlbar once, than if its open - the user must have opened it.

            var urlBarHeight = (urlBarOpen) ? 60 : 0; /*url bar opened by tapping status bar*/
            statusbarHeight = fullscreenLandscape ? 0 : 20;
            bottomUtilBarHeight = portrait ? 45 : (fullscreenLandscape ? 0 : 35);
            screenHeight = portrait ? window.screen.height : window.screen.width;
            result = screenHeight - statusbarHeight - bottomUtilBarHeight - urlBarHeight;

            // console.log(printStackTrace());
            //              'bottomUtilBarHeight', bottomUtilBarHeight, 'urlBarHeight', urlBarHeight, 'document.documentElement.clientHeight', document.documentElement.clientHeight])
        }

        if (result != _lastResult && typeof ($) !== 'undefined') {
            $(window).trigger('webapp.viewport.resize');
        }

        return result;
    };

    me.hideUrlBar = function () {
        //if a keyboard is currently open - don't try to resize the scrollwrapper
        if (typeof ($) !== 'undefined' && $(document.activeElement).is(':input')) return;

        if (_isIos && !_isChrome && !navigator.standalone && LAYOUT === layoutFormat.narrow && !_isIos7) {
            // if we are using fixed scroller for iPhone, the performance will be good
            //  if the scroll will be at the "body" level, but will be very bad if
            //  it is in inner level (if we don't use "-webkit-overflow-scrolling: touch;", etc.)

            //temporary until we find a better fix
            _setTargetBodyHeight();

            if (BODY_SCROLL_TOP !== false)
                window.scrollTo(0, BODY_SCROLL_TOP === 1 ? 0 : 1);
        }
    };

    // So we don't redefine this function everytime we
    // we call hideUrlBar
    me.getScrollTop = function () {
        var win = window;
        var doc = document;

        return win.pageYOffset || doc.compatMode === 'CSS1Compat' && doc.documentElement.scrollTop || doc.body.scrollTop || 0;
    };

    var _setTargetBodyHeight = function () {
        var targetHeight = me.getViewportHeight();
        //only if we have a good guess to what the body height should be
        if (targetHeight) {
            document.body.style.height = targetHeight + 'px';
        }
        else {
            document.body.style["min-height"] = window.innerHeight + 'px';
        }
    };

    var _hideUrlBarOnLoad = function () {
        var win = window;
        var doc = win.document;
        var bodycheck;

        // If there's a hash, or addEventListener is undefined, stop here
        if (win.addEventListener) {
            // scroll to 1
            window.scrollTo(0, 1);
            BODY_SCROLL_TOP = 1;

            // reset to 0 on bodyready, if needed
            bodycheck = setInterval(function () {
                if (doc.body) {
                    clearInterval(bodycheck);
                    BODY_SCROLL_TOP = me.getScrollTop();
                    me.hideUrlBar();
                }
            }, 15);
        }
    };

    _bindEvents();
    _hideUrlBarOnLoad();
    return me;
}());

/**
 * Vibration class
 *
 * @author Yaron Jackoby
 */
var vibrateDriver = (function ()
{
	var myVibrateDriver = {};
	
	myVibrateDriver.isSupported = function()
    {
        return false;
    };
	
    /**
     * Vibrate device for a specific time
	 *
	 * @param nTime - Time in miliseconds for the vibration
	 *					nTime range from 0 to 10000. default is 10
     *
	 * @author Yaron Jackoby
     */
	myVibrateDriver.vibrateForTime = function (cbSuccess, cbFail, nTime)
	{
		Utils.Helpers.funcWrapper(cbFail)('not supported');
	};
	
	return myVibrateDriver;
}());



        function myFunction(closeWindow)
        {
            var win = window.opener;
            if (!win)
            {
                console.log("error: no opener!");
            }
            else
            {
                //NOTE: this const is also in the client JS code!
                var COMO_MESSAGE = "cimp://";

                var ACTION = "";//for future use
                var messageParams = window.location.search;

                var data = COMO_MESSAGE + ACTION + messageParams;
                win.postMessage(data, "*");
            }
            if (closeWindow)
                window.close();
        }

        myFunction(true);

    

var ReviewsTemplateView_WP = TemplateView_WP.extend(
{
	_getTabs: function(meta)
	{
		return meta.items;
	},

        /**
     * OVERRIDE - render level 1 - tab:
     */
    _renderTab : function(index, navRequest)
    {
        var meta = this.model.get('meta');

        var providerModel = new ProviderModel(meta.items[index]);
		providerModel.set({tabIndex:index, pageId: this.model.get('id')});
		var providerView = new ProviderView_WP({model: providerModel});
		providerModel.getItems(executeTypeEnum.HIT_AND_RUN);
    }
});


var ProviderView_WP = ItemsView_WP.extend(
{
    initialize: function ()
    {
        ItemsView_WP.prototype.initialize.apply(this);
    },

    _onGetItemsSuccess: function (itemsData)
    {
        var modelItems = this.model.get('items');
        var items = modelItems.toJSON();
        var that = this;

		var reviewsCount = itemsData.totalItems || 0;
		var formatteReviewsCount = localization.formatNumber(reviewsCount);

		var providerName = itemsData.providerName;
		var reviewsString = _T("HtmlTextReviewsReviewsCount",
		{
			number: formatteReviewsCount,
			provider: providerName 
		});

		itemsData.reviewsText = reviewsString;
		itemsData.title = this.model.get('title');
		itemsData.type = this.model.get('params').type;
		itemsData.imageUrl = this.model.get('image');

		_.each(itemsData.items, function(reviewer, i)
		{
			reviewer.timeAgo = Utils.TimeDate.timeAsText(reviewer.time);
			reviewer.type = itemsData.type;
			reviewer.description = Utils.String.sanitizeText(reviewer.description);
		});

        var data = { 'layoutType': 'ReviewsTemplate',
            'layoutNumber': '0',
            'tabIndex': that.model.get('tabIndex'),
            'item': itemsData
        };

        ComNative.sendMessage('PageCommand;' + this.model.get('pageId') + ';renderFeeds;' + JSON.stringify(data));
    }
});



/**
 * The web-module for native app: use the "navigator.webModule" to show the url
 * NOTE: in native, the link is button - so we never get here for link template 

 */
var WebModuleView = Backbone.View.extend({
	attributes:
	{
		'data-role': 'page'
	}
	
	,initialize: function ()
	{
		this.$el.bind('pageshow', this._onPageShow.hitch(this));
        this.$el.bind('pagehide', this._onPageHide.hitch(this));
	}
	
	,render: function ()
	{
                                         // NOTE: We need Scrolling.init in case of tabs navigation, and this as 1st
                                         // page: without Scrolling.init noone will set the "min height" of app_pages_container
                                         this.$el.html('<div class="scroll_wrapper"><div class="scroller"></div></div>');
                                         var $scrollWrapper = this.$('.scroll_wrapper');
                                         Scrolling.init($scrollWrapper);

                                         return this;
	}
	
	,_onPageShow: function ()
	{
		if (this.inProccess)
		{
			return;
		}
		this.inProccess = true;
 		if (navigator && navigator.webModule)
		{
			navigator.webModule.openModule(this._commandCb.hitch(this), this.model.get('link'));
		}
	}
    ,_onPageHide: function ()
    {
    	this.inProccess = false;
        if (navigator && navigator.webModule)
        {
            navigator.webModule.hideModule();
        }
    }
	
	,_commandCb: function (cmd) 
	{
        console.log(JSON.stringify(cmd));
		switch(cmd.type) {

			case this.COMMAND_TYPES.ADD_BACK:
				this._addBackButton();
			break;
			case this.COMMAND_TYPES.REMOVE_BACK:
				appDriver.removeBackButton();
			break;
		}
	}

	,_addBackButton: function ()
	{
		function cbHandle()
		{
			navigator.webModule.goBack();
		}
		appDriver.addBackButton(null, null, null, false, cbHandle);
	}
});

WebModuleView.prototype.COMMAND_TYPES = {
	ADD_BACK: 0
	,REMOVE_BACK: 1
};

/**
 * View that shows the messages-list of the chat-page
 *
 * @author Matanya
 */
ChatListView = Backbone.View.extend({
    className: 'chat_list'

    ,
    initialize: function () {
        var itemsCollection = this.model.get('items');

        if (itemsCollection) {
            itemsCollection.bind('getItemsSuccess', this._onGetItemsSuccess, this);
            itemsCollection.bind('getNextItems', this._renderShowMoreButton, this);
            itemsCollection.bind('getItemsFail', this.onGetDataFail, this);
            itemsCollection.bind('add', this._renderOneItem, this);
            //itemsCollection.bind('singleAdd', this._refreshScroll, this);
            itemsCollection.bind('reset', this._reset, this);
            // bind to the end of file change.
            // We need this for hide the "show more" in case of "invalid"
            itemsCollection.bind('eof', this._renderShowMoreButton, this);
        }
    }

    ,
    render: function () {
        this.$el.html(chatTemplates.chatList());
        this.$itemsList = this.$('.messages_list');

        this._reset();
        this._renderItems();
        this._renderShowMoreButton();

        return this;
    }

    /**
     * Reset the items list (clear it).
     *
     * @author Matanya
     */
    ,
    _reset: function () {
        this.$itemsList.html('');
    }

    /**
     * Render one item.
     *
     * @param item the item's model.
     *
     * @author Matanya
     */
    ,
    _renderOneItem: function (item, collection, options) {
        var itemView = this.createItemView(item);

        // if the message is a new message (from me or from another user) - add it at the bottom.
        // else (on refresh or show more) - add it at the top
        if (options && options.isNew) {
            this.$itemsList.append(itemView.render().el);
        }
        else {
            this.$itemsList.prepend(itemView.render().el);
        }
    }

    /**
     * Create an item view with the given model.
     *
     * @param itemModel - the model of the item to crate the view for.
     *
     * @return the view of the item.
     *
     * @author Matanya
     */
    ,
    createItemView: function (itemModel) {
        if (itemModel.get('isMe')) {
            var view = new MyChatMessageView({
                model: itemModel
            });
        }
        else {
            var view = new UserChatMessageView({
                model: itemModel
            });
        }

        return view;
    }

    /**
     * Render all the items in the list one by one.
     *
     * @author Matanya
     */
    ,
    _renderItems: function () {
        var itemsCollection = this.model.get('items');
        if (itemsCollection) {
            itemsCollection.each(this._renderOneItem.hitch(this));
        }
    }


    ,
    handleRefreshClick: function () {
        if (this.model.get('discussionId')) {
            this.refreshing = true;
            cqm.showLoading(_T('HtmlTextPaginationRefreshItems'), this.$el, true);
            this.model.getItems(executeTypeEnum.FORCE_NETWORK);
        }
    }

    ,
    handleSilentRefresh: function () {
        if (this.model.get('discussionId')) {
            if (this.model.isExpiredCache()) {
                this.model.getItems(executeTypeEnum.FORCE_NETWORK);
            }
        }
    }

    /**
     * Handle the items get success.
     *
     * @author Yoel Gluschnaider
     */
    ,
    _onGetItemsSuccess: function (metaData, parseResult, requestId) {
        if (this.refreshing) {
            this.refreshing = false;
            cqm.hideLoading(this.$el);
        }
        this._renderShowMoreButton();

        this._refreshScroll();
        //
        //      var itemsCollection = this.model.get('items');
        //
        //      if (itemsCollection && _.isEmpty(itemsCollection.models)) {
        //          this.onNoResults();
        //      }
    }

    /**
     * refresh the scroll after content changed
     */
    ,
    _refreshScroll: function () {
        this.$myScrollWrapper = this.$myScrollWrapper || Scrolling.getMyScrollerWrapper(this.$el);
        Scrolling.onContentChanged(this.$myScrollWrapper);
    }

    /**
     * Render the show more button.
     * @author Yoel Gluschnaider
     */
    ,
    _renderShowMoreButton: function () {}


    /**
     * Handle the failure dialog retry button click.
     * Retry to get the next posts.
     */
    ,
    _cbRetry: function () {
        this.model.getItems(executeTypeEnum.HIT_AND_RUN);
    }

    /**
     * Handle the failure dialog cancel button click.
     * Set the EOF to true (avoid showing the "show more" button).
     */
    ,
    _cbCancel: function () {
        this.model.set({
            eof: true
        });
    }

    /**
     * Upon failure, show a toast or a dialog depending if it is the first data chunk or not.
     *
     * NOTE: Descendants can override this function to avoid the dialog, etc.
     *
     * @param {executeTypeEnum} executeType - the execute type that was used for the service.
     * @author Yoel Gluschnaider
     */
    ,
    onGetDataFail: function (executeType, serviceNotExecuted) {

        cqm.hideLoading(this.$el);
        // don't show errors in simulator.
        if (PLATFORM != platformEnum.simulator) {
            // if is the first call to get data, show a dialog box.
            if (executeType === executeTypeEnum.HIT_AND_RUN) {
                var dlgOptions = {
                    title: _T('DialogCaptionError'),
                    message: this.options.failStr,
                    buttons: [{
                        text: _T('ButtonRetry'),
                        cb: this._cbRetry.hitch(this)
                    }, {
                        text: _T('ButtonCancel'),
                        cb: this._cbCancel.hitch(this)
                    }]
                };
                uiDriver.showDialogBox(null, null, dlgOptions);

            }
            // not the first call (in pagination) show toast.
            else {
                uiDriver.showToastMessage(null, null, this.options.failStr, this.$el);
                // Cancel the loading
                this._cbCancel();
            }
        }
        // Show toast only if fail after executing the service.
        else
        if (!serviceNotExecuted) {
            // Show toast message in simulator
            uiDriver.showToastMessage(null, null, this.options.failStr, this.$el);

            // Cancel the loading (remove the loading item)
            this._cbCancel();
        }
    }

    /**
     * Handle click of the show more button.
     *
     * @author Yoel Gluschnaider
     */
    ,
    _onShowMoreTap: function (e) {
        e.preventDefault();
        this.model.getItems(executeTypeEnum.HIT_AND_RUN_SILENT);
    }

    ,
    onSendMessage: function (msg) {
        this.model.sendMessage(null, null, msg);
    }


});

var TweetListView_WP = ItemsView_WP.extend(
{
    initialize: function ()
    {
        ItemsView_WP.prototype.initialize.apply(this);
    },

    _onGetItemsSuccess: function (itemsData)
    {
        var modelItems = this.model.get('items');
        var items = modelItems.toJSON();
        var that = this;

        // Regex for analyzing twitter user name
        var rgxTweetUserName = new RegExp("\\[twit=(.*?)](.*?)\\[/twit]", "g");

        // Regex for analyzing link
        var rgxTweetLink = new RegExp("\\[url\\](.*?)\\[/url\\]", "g");

        // Regex for trends
        var rgxTweetTrend = new RegExp("\\[trend=(.*?)](.*?)\\[/trend]", "g");

        var feedsList = [];

        // Loop through feeds
        _.each(items, function (feedDetails, i)
        {
            var timeText = Utils.TimeDate.timeAsText(feedDetails['time']);

            var userName = feedDetails['user'].get('userName') || "";

            // Get feed description
            var feedDescription = feedDetails['description'];

			// Sometimes the description is already sanitized so desanitize it first
			var feedRichDescription = Utils.String.desanitize(feedDescription);
			// Transform special characters for SilverLight
			feedRichDescription = Utils.String.sanitizeText(feedRichDescription);

	        // Replace username with Twitter link
            //var replacment = '$1';
	        var replacment = "<Hyperlink Foreground='#FF337CBB' TextDecorations='Underline' TargetName='@$1'>$2</Hyperlink>";
            feedRichDescription = feedRichDescription.replace(rgxTweetUserName, replacment);

			// Replace link with href link		
			replacment = "<Hyperlink Foreground='#FF337CBB' TextDecorations='Underline' TargetName='$1'>$1</Hyperlink>";
            feedRichDescription = feedRichDescription.replace(rgxTweetLink, replacment);

			// Replace for trend hash link
			replacment = "<Hyperlink Foreground='#FF337CBB' TextDecorations='Underline' TargetName='#$1'>#$1</Hyperlink>";
            feedRichDescription = feedRichDescription.replace(rgxTweetTrend, replacment);

	        // Replace username with Twitter link
            replacment = '$1';
            feedDescription = feedDescription.replace(rgxTweetUserName, replacment);

			// Replace link with href link		
            feedDescription = feedDescription.replace(rgxTweetLink, replacment);

			// Replace for trend hash link
            feedDescription = feedDescription.replace(rgxTweetTrend, replacment);

            // Image if icon exist
            var icon = feedDetails['user'].get('imageUrl') || "";

            var shareInfo = that._getShareInfoObject(modelItems.models[i])
            shareInfo.twitterTitle = feedDescription;

            var feedParams =
			{
			    'social': shareInfo,
			    'image': icon,
			    'title': userName,
			    'timeText': timeText,
			    'id': '' + i,
			    'description': feedDescription,
				'feedRichDescription': feedRichDescription,
				'name': feedDetails.user.get('displayName'),
				'user': feedDetails.user.get('userName'),
				'picture': feedDetails.user.get('imageUrl') || null,
				'totalFollowers': localization.formatNumber(feedDetails.user.get('totalFollowers')),
				'totalStatuses': localization.formatNumber(feedDetails.user.get('totalStatuses'))
			};

            feedsList.push(feedParams);
        });

        var data = { 'layoutType': 'TwitterFeedItemTemplate',
            'layoutNumber': '0'+this.model.get('type'),
			'type': ''+this.model.get('type'),
            'tabIndex': that.model.get('tabIndex'),
            'feedsList': feedsList
        };
        var user = this.model.get('user');
        var query = this.model.get('query');
        if (user)
        {
            data['name'] = user.get('displayName');
            data['user'] = user.get('userName');
            data['picture'] = user.get('imageUrl') || null;
            data['totalFollowers'] = localization.formatNumber(user.get('totalFollowers'));
            data['totalStatuses'] = localization.formatNumber(user.get('totalStatuses'));
        }
        else if (query)
        {
            data['name'] = query;
        }

        ComNative.sendMessage('PageCommand;' + this.model.get('pageId') + ';renderFeeds;' + JSON.stringify(data));
    }
});



/**
 * PlayListModel model
 * 
 * @author Moshe Darzi
 */
var PlayListModel = ItemsModel.extend(
{
	defaults:
	{
		id: 'playlist',
		title : 'New playlist',
		media: {},
    	editMode: false
	},
	
	initialize: function()
	{
        ItemsModel.prototype.initialize.apply(this, arguments);
    	this.bind('change:editMode', this.onEditModeChange, this);
	},
	
	getItems: function()
	{
		this.trigger('getItemsSuccess', this);
	},
	
    /**
     * Create the items collection.
     *
     * @author Moshe Darzi
     */
    createItemsCollection: function()
    {
        var items = this.get('media').items;
        if (items && items.length > 0)
        {
			this.set(
			{
				eof : true
			});
        }
		var params =
		{
			url : ''
		};
        return new TracksCollection(items, params);
	},

    onEditModeChange: function(model, editMode)
    {
        _.each(this.get('items').models, function(trackModel, i)
        {
            trackModel.set({editMode:editMode});
            // Reset new index
            trackModel.set({newIndex:i});
        });
    }
});


var PlayListView = ItemsView.extend(
{
    initialize: function () 
    {
        ItemsView.prototype.initialize.apply(this);
    },
    
    /**
     * Create an item view with the given model (override)
     * 
     * @param itemModel - the model of the item to creat the view for.
     * 
     * @return the view of the item.
     *          
     * @author Moshe Darzi
     */
    createItemView: function (itemModel)
    {
        var trackView = new TrackView(
        {
            model: itemModel,
            template: this.options.template
        });
        
        trackView.bind('trackRemove', this.onTrackRemove, this);
        trackView.bind('trackDragStart', this.onTrackDragStart, this, event);
        trackView.bind('trackDrag', this.onTrackDrag, this, event);
        trackView.bind('trackDragEnd', this.onTrackDragEnd, this, event);
		
		return trackView;
    },


    /**
     * Returns the root view. This is needed since some of the derivatives of the ItemsView
     * contain a scroll wrapper and scroller and the root is not this.el but something else. (override)
     * 
     * @return a jQuery object representing the view of the root element.
     *          
     * @author Moshe Darzi
     */
    getRootView: function ()
    {
        return this.$el;
    },
    
    /**
     * Notify to remove a track
     *
     * @param trackModel - the model of the track to remove
     * 
     * @author Moshe Darzi
     */
    onTrackRemove: function(trackModel)
    {
        // Remove the track
    	this.trigger('trackRemove', trackModel);
    },
    
    /**
     * Return the index of a track in the tracks list
     *
     * @param $track - jQuery object of the track view
     * 
     * @author Moshe Darzi
     */
    _getTrackIndex: function($track)
    {
        var $tracks = this.$el.find('.tracks_list_item');
        var t = $track.offset().top + this.itemMargin;
        var index = Math.floor(t / this.itemHeight) - 1;

        // Apply list limits
        if (index < 0)
        {
            index = 0;
        }
        if (index >= $tracks.length)
        {
            index = $tracks.length - 1;
        }
        return index;
    },

    /**
     * Event handler for track dragging
     *
     * @param trackView - track view being dragged
     * 
     * @author Moshe Darzi
     */
    onTrackDragStart: function(trackView)
    {
        var $this = this.$el;
        var $track = $(trackView.el);
        var $tracks = $this.find('.tracks_list_item');
        // Save for later use
        if (!this.itemHeight)
        {
            var h1 = $tracks.eq(1).offset().top;
            var h0 = $tracks.eq(0).offset().top;
            // The item height is the difference between 2 items
            this.itemHeight = h1 - h0;
            this.itemMargin = parseInt($track.css('margin-Top')) + parseInt($track.css('margin-Bottom'));
        }

        this.trackDragIndex = this._getTrackIndex($track);

        // If track is not the last, move it to be the last so its movement
        // will not affect other tracks and update its Y offset
        var offset = 0;
        if (this.trackDragIndex < $tracks.length - 1)
        {
	        var $parent = $track.parent();
	        $track.detach();
	        $parent.append($track);
	        var top = parseFloat($track.offset().top);
	
	        var $nextTrack = $tracks.eq(this.trackDragIndex+1);
	        $nextTrack.css({'margin-Top':this.itemHeight+this.itemMargin});
	
	        offset = ($tracks.length - this.trackDragIndex) *  this.itemHeight - this.itemMargin;
	        $track.css({'margin-Top':-offset});
	        offset = -offset-this.itemHeight/2;
        }
        $track.attr('offsety', offset);
    },

    /**
     * Event handler for track dragging
     *
     * @param trackView - track view being dragged
     * @param move - object containing the movement coordinates
     * 
     * @author Moshe Darzi
     */
    onTrackDrag: function(trackView, move)
    {
        var $track = $(trackView.el);
        var offsety = parseInt($track.attr('offsety'));
        offsety += move.y;
        // Update position and make sure this track is on top
        $track.css({'margin-Top':offsety, 'z-index':999});
    },

    /**
     * Event handler for ending track drag.
     * Update the track position in view and notify the change with the new indices list
     *
     * @param trackView - track view being dragged
     * 
     * @author Moshe Darzi
     */
    onTrackDragEnd: function(trackView)
    {
    	var $track = $(trackView.el);
    	// This is the new tracks list with the dragged track at the end
    	var $tracks = this.$el.find('.tracks_list_item');
    	
        var newIndex = this._getTrackIndex($track);

        // If the dragged track does not pass over the old track fully, skip to the next one
        if ($tracks.eq(newIndex).offset().top < $track.offset().top)
        {
        	newIndex++;
        }

        // If the new place is not the last, put the track there
        if (newIndex < $tracks.length - 1)
        {
	        var $oldTrack = $tracks.eq(newIndex);
	        $track.detach();
	        // Put the track in new place
	        $track.insertBefore($oldTrack);
        }

        // Clear drag data
        $tracks.css({'margin-Top':'', 'z-index':'', 'position':'', 'top':''});

		if (newIndex !== this.trackDragIndex)
		{
			var list = {};
			var models = this.model.get('items').models;
			var i;
			for (i = 0; i<models.length; i++)
			{
				var model = models[i];
				var index = model.get('newIndex');
				// Track went up
				if (newIndex < this.trackDragIndex && index >= newIndex && index < this.trackDragIndex)
				{
					index++;
					model.set({newIndex:index});
				}
				// Track went down
				else if (newIndex > this.trackDragIndex && index <= newIndex  && index > this.trackDragIndex)
				{
					index--;
					model.set({newIndex:index});
				}
				list[i] = index;
			}
			// The dragged track new index
			trackView.model.set({newIndex:newIndex});
			list[this.trackDragIndex] = newIndex;
			
			this.trigger('tracksListChanged', list);
		}
    }
});

var PhotosTemplateView_WP = TemplateView_WP.extend(
{
        /**
     * OVERRIDE - render level 1 - tab:
     */
    _renderTab : function(index, navRequest)
    {
        var templateMetaData = this.model.get('meta');

        var photosModel = new PhotosModel(templateMetaData.feeds[index]);
        photosModel.set(
        {
            tabIndex: index,
            pageId: this.model.get('id')
        });

        var photosView = new PhotosView_WP(
        {
            model: photosModel
        });
        photosModel.getItems();
    }
});




        function crash() {
            var img = document.createElement('img');
            img.src = '';
            img.onerror  = function() {
                /* will crash HERE */
                img.remove();
            };

            document.body.appendChild(img);
        }

    


        /* test for svg support - detect the feature before setting the style...
            http://toddmotto.com/revisiting-svg-workflow-for-performance-and-progressive-development-with-transparent-data-uris/
        */
        !function () {
            function supportsSVG() { return !!document.createElementNS && !! document.createElementNS('http://www.w3.org/2000/svg', 'svg').createSVGRect }
            document.documentElement.className += supportsSVG() ? ' svg' : ' no-svg';
        }();



    


        /* var style = document.createElement('style');
        style.type = 'text/css';*/

        var injectStyle = function(e) {
            var svgDoc = this.contentDocument;
            var svgGroup = svgDoc.getElementsByTagName('g')[0];
            //svgDoc.appendChild(style);
            svgDoc.getElementsByTagName('svg')[0].appendChild(style);
        };

        var style = document.getElementById('svg_internal');
        style.sheet;

        var svgs = document.getElementsByClassName('baloon');
        for (var i = 0; i < svgs.length; i++) {
            var svg = svgs[i];
            svg.addEventListener('load', injectStyle);
                // svgRoot = svgDoc.children[0],
                // svgSwitch = svgRoot.children[0],
                // svgGroup = svgSwitch.children[0];
        }


        //var s = new XMLSerializer();

    




        $(function() {
            $.getScript("//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js");
        });
    

    (adsbygoogle = window.adsbygoogle || []).push({});
    







    animation = {
        nextFrame: (function() {
            return window.requestAnimationFrame
                || window.webkitRequestAnimationFrame
                || window.mozRequestAnimationFrame
                || window.oRequestAnimationFrame
                || window.msRequestAnimationFrame
                || function(callback) { return setTimeout(callback, 17); }
                    })(),

        cancelFrame: (function () {
            return window.cancelRequestAnimationFrame
                || window.webkitCancelAnimationFrame
                || window.webkitCancelRequestAnimationFrame
                || window.mozCancelRequestAnimationFrame
                || window.oCancelRequestAnimationFrame
                || window.msCancelRequestAnimationFrame
                || clearTimeout
        })()
    }

    var has3d = 'WebKitCSSMatrix' in window && 'm11' in new WebKitCSSMatrix(),
        hasTouch = 'ontouchstart' in window,
        hasTransform = vendor + 'Transform' in document.documentElement.style,

        vendor = (/webkit/i).test(navigator.appVersion) ? 'webkit' :
                (/firefox/i).test(navigator.userAgent) ? 'Moz' :
                'opera' in window ? 'O' : '';

    function Animation($elem) {
        var that = this,
            _startX = 0,
            _startY = 0,
            _startTime;

        var step = {
            time: 100,
        };

        //create an animation function bound to $elem
        var _animationFrameHandler = function() {
            var now = Date.now(),
                newX, newY, transform;

            // if (now >= _startTime + step.time) {
            //     that._pos(step.x, step.y);
            //     that.animating = false;
            //     if (that.options.onAnimationEnd) that.options.onAnimationEnd.call(that);            // Execute custom code on animation end
            //     that._startAni();
            //     return;
            // }

            now = (now - _startTime) / step.time - 1;
            easeOut = Math.sqrt(1 - now * now);
            newX = (step.x - _startX) * easeOut + _startX;
            newY = (step.y - _startY) * easeOut + _startY;

            $elem[0].style[vendor + 'TransformOrigin'] = '0 0';
            $elem[0].style[vendor + 'Transform'] = 'translate3d(' + newX + 'px,' + newY + 'px, 0)' + ' scale(' + this.scale + ')';

            that.animRequestId = animation.nextFrame(_animationFrameHandler);
        };

        this.stop = function() {
            animation.cancelFrame(that.animRequestId);
        };

        this.start = function() {
            _startTime = Date.now();
            _animationFrameHandler();
        };
    };


    // onload
    $(function() {
        var content = 'Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the ',
            image = 'http://fc08.deviantart.net/fs6/i/2005/104/1/0/The_duck_by_JasenkaLuksa.jpg',
            $list  = $('#list'), $scroller = $('#scroll_wrapper');

        for (var i = 100; i >= 0; i--) {
            $list.append("<li><img src='" + image + "'></img><p>" + content + "</p></li>");
        };

        var animation = new Animation($list);
        animation.start();
    });
