


    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-2896444-10']);    
    _gaq.push(['_trackPageview', '/nativeApp/splashscreen']);
    


	function onBodyLoad()
	{			
	   document.addEventListener("deviceready", startApp, false);
	   //startApp();	
	}	




























































































































































































window.cl_EmailReceived=Backbone.Collection.extend({model:md_EmailReceivedList,url:function(){var d=this.pluck("currentPageNo")[0];var c="fetch";var a="received";var b="&currentPageNo="+d+"&action="+c+"&mailtype="+a;if(this.pluck("sort_order")[0]!=undefined){b=b+"&sort_order="+this.pluck("sort_order")[0]+"&sort_field="+this.pluck("sort_field")[0]}return utils.buildWebServiceUrl("zz_pg_mail_inbox.php",b)},dataType:"jsonp",defaults:{currentPageNo:"1"}});

window.cl_UserProfile=Backbone.Collection.extend({model:md_UserProfile,url:function(){var a="&userid=105431";return utils.buildWebServiceUrl("zz_my_view_profile.php",a)},dataType:"json"});

window.cl_MySettingBlockedUsers=Backbone.Collection.extend({model:md_MySettingBlockedUsers,url:function(){var b=this.pluck("block_this_user");var a=this.pluck("add_block_user");if(b==1&&a==0){sQueryString="&block_this_user="+b}else{if(b==0&&a==1){sQueryString="&add_block_user="+a+"&block_this_user="+b+"&u_username="+this.pluck("username")+"&block_reason="+this.pluck("block_reason")}else{if(b==2){sQueryString="&block_this_user="+b+"&block_id="+this.pluck("block_id")}}}return utils.buildWebServiceUrl("zz_pg_account_setting.php",sQueryString)},dataType:"json",defaults:{username:"abc",error_msg:""}});

window.cl_FaqList=Backbone.Collection.extend({model:md_FaqList,url:function(){return utils.buildWebServiceUrl("zz_pg_faq.php","")},dataType:"jsonp"});

window.cl_UserAdvanceSearch=Backbone.Collection.extend({model:md_User,url:function(){var a=this.pluck("type");var b=this.pluck("currentPageNo");sQueryString="&searchFor="+a+"&currentPageNo="+b;return utils.buildWebServiceUrl("zz_pg_search_user_list.php",sQueryString)},type:"post",dataType:"json",contentType:"json",defaults:{currentPageNo:"1"},fetch:function(b){appLogger.writeLog("fetch","cl_UserAdvanceSearch.js",appLogger.logLevelInfo,"Entering");objThisModel=this;var a=new Object();a.success=function(d,c){try{appLogger.writeLog("fetch","cl_UserAdvanceSearch.js",appLogger.logLevelDebug,"Success");appLogger.removeLog();app.objUserList=new cl_UserAdvanceSearch(d);if(d!=null){app.objUserList.first().set(objThisModel.first());app.m_objSearchParam.set({remember_search:constants.advancedSearchRememberOff});b.success(d,c)}else{b.success(d,null)}}catch(f){appLogger.writeLog("fetch.success","cl_UserAdvanceSearch.js",appLogger.logLevelError,"Error message :["+f.message+"] , model :["+JSON.stringify(d)+"]")}};a.error=function(d,c){try{appLogger.writeLog("fetch","cl_UserAdvanceSearch.js",appLogger.logLevelError,"Error");app.m_objSearchParam.set({remember_search:constants.advancedSearchRememberOff});b.error(d,c)}catch(f){appLogger.writeLog("error","md_Login.js",appLogger.logLevelError,"Error message :["+f.message+"] , model :["+JSON.stringify(d)+"]")}};objThisModel.first().set({appLog:appLogger.prepareLogForPostRequest()});Backbone.sync("create",objThisModel,a);return this}});

window.cl_EmailSent=Backbone.Collection.extend({model:md_EmailSentList,url:function(){var c=this.pluck("currentPageNo")[0];var a="sent";var b="&currentPageNo="+c+"&mailtype="+a;if(this.pluck("sort_order")[0]!=undefined){b=b+"&sort_order="+this.pluck("sort_order")[0]+"&sort_field="+this.pluck("sort_field")[0]}return utils.buildWebServiceUrl("zz_pg_mail_inbox.php",b)},dataType:"jsonp",defaults:{currentPageNo:"1"}});

window.cl_AppConfig_Setting=Backbone.Collection.extend({model:md_AppConfig_Setting,url:function(){var a="";return utils.buildWebServiceUrl("zz_pg_appConfig.php",a)},dataType:"jsonp",defaults:{}});

window.cl_UserProfile_PhotoUpdate=Backbone.Collection.extend({model:md_UserProfile_PhotoUpdate,url:function(){var a="";if(this.get("userAction")!=undefined){a=a+"&user_action="+this.get("userAction")+"&u_img_id="+this.get("PhotoID")}if(this.get("userAction")==constants.photoRotation_init||this.get("userAction")==constants.photoRotation_apply){a=a+"&nRotationAngle="+this.get("nRotationAngle")}else{a=a+"&get_photo_list=true"}if(this.get("userAction")=="update"){a=a+"&u_img_main="+this.get("MainImage")+"&u_img_profile="+this.get("ShowOnProfile")}return utils.buildWebServiceUrl("zz_pg_user_image.php",a)},dataType:"jsonp"});

window.cl_User=Backbone.Collection.extend({model:md_User,url:function(){var b=this.pluck("type")[0];var c=this.pluck("currentPageNo")[0];if(b==constants.searchForMyMatches){var a="&type="+b+"&currentPageNo="+c;if(this.pluck("sort_order")[0]!=undefined){a=a+"&sort_order="+this.pluck("sort_order")[0]+"&sort_field="+this.pluck("sort_field")[0]}return utils.buildWebServiceUrl("zz_pg_user_interaction_details_list.php",a)}else{a="&searchFor="+b+"&currentPageNo="+c;if(app.m_objSearchParam!=null){$.each(app.m_objSearchParam.attributes,function(d,e){a+="&"+d+"="+e})}}return utils.buildWebServiceUrl("zz_pg_search_user_list.php",a)},dataType:"json",defaults:{currentPageNo:"1"}});

window.cl_Login=Backbone.Collection.extend({model:md_Login,url:function(){var a="&username="+this.get("u_username")+"&password="+this.get("u_password");return utils.buildWebServiceUrl("zz_pg_login_func.php",a)},dataType:"jsonp"});

window.cl_ViewedMe=Backbone.Collection.extend({model:md_ViewedMe,url:function(){var b=this.pluck("currentPageNo")[0];var a="&type="+this.pluck("user_interaction_type")[0]+"&currentPageNo="+b;if(this.pluck("sort_order")[0]!=undefined){a=a+"&sort_order="+this.pluck("sort_order")[0]+"&sort_field="+this.pluck("sort_field")[0]}return utils.buildWebServiceUrl("zz_pg_user_interaction_details_list.php",a)},dataType:"json",defaults:{currentPageNo:"1"}});

appLogger={m_arrLog:[],m_nLogDisplayOrder:0,m_sLogCollectionForPostRequest:[],m_bNetworkAvailability:false,mobileDeviceMaxLogCount:120,fifoLogDeleteCount:15,appConfigLogLevel:3,logLevelError:1,logLevelInfo:2,logLevelDebug:3,writeLog:function(e,b,a,h){var d=new Object();var g="";var c=new Date();g=c.getFullYear()+"-"+("0"+(c.getMonth()+1)).slice(-2)+"-"+("0"+c.getDate()).slice(-2)+" "+c.getHours()+":"+c.getMinutes()+":"+c.getSeconds()+"."+c.getMilliseconds();if(!appLogger.m_bNetworkAvailability){if(a<=appLogger.appConfigLogLevel){if(constants.isTestingEnvironmentBrowser){console.log(b+"."+e+"() : "+h)}else{var f=window.localStorage.getItem("edating_log");var i=new Object();if(f!=null&&f!=""){appLogger.m_arrLog=[];appLogger.m_arrLog=JSON.parse(f)}i.timestamp=g;i.Filename=b;i.FunctionName=e;i.LogLevel=a;i.LogMessage=h;if(appLogger.m_arrLog!=null&&appLogger.m_arrLog.length>=appLogger.mobileDeviceMaxLogCount){appLogger.m_arrLog.splice(0,appLogger.fifoLogDeleteCount)}appLogger.m_arrLog.push(i);window.localStorage.setItem("edating_log",JSON.stringify(appLogger.m_arrLog))}}}},prepareLogForPostRequest:function(){if(!constants.isTestingEnvironmentBrowser){appLogger.m_sLogCollectionForPostRequest=[];var a=window.localStorage.getItem("edating_log");if(a!=null&&a!=""){appLogger.m_sLogCollectionForPostRequest=JSON.parse(a)}return JSON.stringify(appLogger.m_sLogCollectionForPostRequest)}return"none"},removeLog:function(){if(!constants.isTestingEnvironmentBrowser){window.localStorage.removeItem("edating_log");appLogger.m_arrLog=[];appLogger.m_sLogCollectionForPostRequest=[]}}};

appConfigSetting={showHideConfigElements:function(b,a){this.getPageSettingsValues(a);if(app.objAppConfig_Setting_tmp!=null){b.find("*[showHideConfigName]").each(function(){var c=$(this).attr("showHideConfigName");bflag=true;bMandatoryElement=$(this).attr("isMandatory");if(bMandatoryElement){bflag=false;$.each(c.split(","),function(){if(app.objAppConfig_Setting_tmp.has(this)==false||!app.objAppConfig_Setting_tmp.get(this)){bflag=true}})}else{bflag=true;$.each(c.split(","),function(){if(app.objAppConfig_Setting_tmp.has(this)==false||app.objAppConfig_Setting_tmp.get(this)){bflag=false}})}if(bflag){$(this).addClass("hide")}});app.objAppConfig_Setting_tmp=null}},getPageSettingsValues:function(a){app.objAppConfig_Setting_tmp=new md_AppConfig_Setting();for(i=0;i<app.objAppConfig_Setting.length;i++){if(app.objAppConfig_Setting.models[i].get("page")==a){app.objAppConfig_Setting_tmp.set(app.objAppConfig_Setting.models[i].get("settings"));break}}},hideRelatedDataForHiddenElements:function(a,b,c,d){this.hideDataForHiddenElements(a,b,c,d,null,null)},hideRelatedDataForHiddenElements_ReplaceString:function(a,d,e,f,b,c){this.hideDataForHiddenElements(a,d,e,f,b,c)},hideRelatedDataForHiddenElements_ConfigSettings:function(a,c,d,e,b){this.hideDataForHiddenElements(a,c,d,e,b,null)},hideDataForHiddenElements:function(j,d,a,e,h,g){if(j==null){if(!a.hasClass("hide")){this.getPageSettingsValues(h);if(app.objAppConfig_Setting_tmp!=null){var b=a.attr("showHideConfigName");var f="";if(g!=undefined&&g!=null&&g!=""){a=g}f=a.text().split(e);i=0;var c="";$.each(b.split(","),function(){if(app.objAppConfig_Setting_tmp.has(this)==true&&app.objAppConfig_Setting_tmp.get(this)){if(c==""){c=f[i].trim()}else{c+=" "+e+" "+f[i].trim()}}i=i+1});a.text("");a.text(c)}}app.objAppConfig_Setting_tmp=null}else{if(!(j.hasClass("hide")&&d.hasClass("hide"))){sHeading=a.text();arrDisplayLegend=a.text().split(e);a.text("");if(j.hasClass("hide")||d.hasClass("hide")){if(j.hasClass("hide")){a.text(arrDisplayLegend[1])}else{a.text(arrDisplayLegend[0])}}else{a.text(sHeading)}}}},addSectionWiseURL:function(b,a){this.getPageSettingsValues(a+"_Section");if(Object.keys(app.objAppConfig_Setting_tmp.attributes).length<=0){app.obj_md_AppConfig_Setting=new md_AppConfig_Setting();objSetting={};b.find("*[section]").each(function(){if(!$(this).hasClass("hide")){sSection=$(this).attr("section");objSetting[sSection]="#registrationCategory/"+sSection}});app.obj_md_AppConfig_Setting.attributes={page:a+"_Section",settings:objSetting};app.objAppConfig_Setting.add(app.obj_md_AppConfig_Setting);app.obj_md_AppConfig_Setting=null}}};

function startApp(){utils.loadTemplates(["tp_AppTitleBar","tp_AppTabsMyMatches","tp_AppHome","tp_AppMoreData","tp_AppSort","tp_AppMultiSelectHeader","tp_AppMultiSelectList","tp_AppTabsProfile","tp_AppTabsCommunication","tp_AppTabsMyFavorites","tp_UserList","tp_UserList_AdvanceSearchSummary","tp_UserList_BasicSearchStep1","tp_UserList_BasicSearchStep2","tp_UserList_AdvanceSearchStep1","tp_UserList_AdvanceSearchStep2","tp_UserList_AdvanceSearchStep3","tp_UserList_AdvanceSearchStep4","tp_UserList_AdvanceSearchStep12","tp_UserList_UserSearch","tp_UserProfile_Detail","tp_AbuseReport","tp_AbuseReportSuccess","tp_UserProfile_Info","tp_UserProfile_Photo","tp_UserProfile_PhotoExpanded","tp_UserProfile","tp_UserProfile_EditProfileMenu","tp_UserProfile_EditPrimaryInfo","tp_UserProfile_EditAddress","tp_UserProfile_EditEthnicityDenomination","tp_UserProfile_EditMaritalInfo","tp_UserProfile_EditEducationProfession","tp_UserProfile_EditPersonalityTraits","tp_UserProfile_EditProfileDescriptives","tp_UserListItem","tp_ViewedMeList","tp_ViewedMeListItem","tp_Login","tp_EmailReceivedList","tp_EmailReceivedListItem","tp_EmailReceivedDetail","tp_EmailReceived_Photo","tp_EmailReceived_Reply","tp_EmailReceived_ReportForReview","tp_EmailSentList","tp_EmailSentListItem","tp_EmailSentDetail","tp_EmailSent_Photo","tp_NoDataFound","tp_UserProfile_UploadPhoto","tp_UserProfile_PhotoUpdateList","tp_UserProfile_SendMessage","tp_WinkReceivedList","tp_WinkReceivedListItem","tp_WinkSentList","tp_WinkSentListItem","tp_Wink","tp_FavoritesList","tp_FavoritesListItem","tp_FavoritedByList","tp_FavoritedByListItem","tp_MySettingMenu","tp_MySetting_AgeRange","tp_MySetting_BlockSmokerAndDrinker","tp_MySetting_ProfileVisit","tp_MySetting_BlockOutsideUsers","tp_MySetting_ForumPost","tp_MySetting_HideFavoriteCount","tp_MySetting_EmailNotifications","tp_MySetting_OnlineStatus","tp_MySetting_BlockedUsersList","tp_MySetting_BlockedUsersListItem","tp_MySetting_AddBlockUsers","tp_Registration","tp_Registration_AccountDetails","tp_Registration_PrimaryInfo","tp_Registration1","tp_Registration1_ChurchInfo","tp_Registration1_PrimaryInfo","tp_RegistrationII","tp_ChangePassword","tp_DeleteListItem","tp_Smile","tp_FaqList","tp_FaqListItem","tp_AboutUs","tp_ContactUs","tp_PrivacyPolicy","tp_UpgradeMessage","tp_AppConfigMessage","tp_PushNotificationSetting"],function(){app=new AppRouter();Backbone.history.start();var a="";document.addEventListener("backbutton",function(b){a=Backbone.history.fragment.trim();var c="loginAuthenticate";if(a!=""){if(a!="logout"){if(c!=a.substring(0,c.length)){window.history.back()}}}setTimeout(function(){if(a==Backbone.history.fragment.trim()){utils.showAppConfirmation("Are you sure you want to exit? ","Ok,Cancel",function(){navigator.app.exitApp()},null,null,null)}},100)},false)})};

var pns={registerDevice:function(){appLogger.writeLog("receivedEvent","pns.js",appLogger.logLevelDebug,"Registering device");try{if(constants.isTestingEnvironmentBrowser){app.before(function(){appLogger.writeLog("rt_LoginAuthentication","pns.js",appLogger.logLevelDebug,"Success");app.m_nLoggedInUserId=app.objLoginAuthentication.get("u_id");app.objLoginAuthentication.set({app_landing_url:"InboxDetail_Info/10922/user/117380/0"});objThisView.rt_appConfig_Settings(app.rt_RequestLoginAuthentication)},function(){appLogger.writeLog("rt_LoginAuthentication","pns.js",appLogger.logLevelDebug,"Error");app.navigate("",{trigger:true});utils.showError(app.objLoginAuthentication.get("error_msg"))},app.objLoginAuthentication);return}pushNotification=window.plugins.pushNotification;if(device.platform=="android"||device.platform=="Android"){appLogger.writeLog("receivedEvent","pns.js",appLogger.logLevelDebug,"registering android");pushNotification.register(this.successHandler,this.errorHandler,{senderID:constants.pnsGCMProjectId,ecb:"pns.onNotificationGCM"})}else{$("#app-status-ul").append("<li>registering iOS</li>");appLogger.writeLog("receivedEvent","pns.js",appLogger.logLevelDebug,"registering iOS");pushNotification.register(this.tokenHandler,this.errorHandler,{badge:"true",sound:"true",alert:"true",ecb:"pns.onNotificationAPN"})}}catch(a){appLogger.writeLog("receivedEvent","pns.js",appLogger.logLevelError,"There was an error when receiving event. Error description - ["+a.message+"].")}},onNotificationGCM:function(b){appLogger.writeLog("onNotificationGCM","pns.js",appLogger.logLevelDebug,"Event received is ["+b.event+"]");switch(b.event){case"registered":try{if(b.regid.length>0){appLogger.writeLog("onNotificationGCM","pns.js",appLogger.logLevelDebug,"Event -> registered. regID is ["+b.regid+"]");app.objLoginAuthentication.set({pns_registration_id:b.regid});app.before(function(){appLogger.writeLog("onNotificationGCM","pns.js",appLogger.logLevelDebug,"Success");app.m_nLoggedInUserId=app.objLoginAuthentication.get("u_id");objThisView.rt_appConfig_Settings(app.rt_RequestLoginAuthentication)},function(){appLogger.writeLog("onNotificationGCM","pns.js",appLogger.logLevelDebug,"Error");app.navigate("",{trigger:true});utils.showError(app.objLoginAuthentication.get("error_msg"))},app.objLoginAuthentication)}}catch(a){appLogger.writeLog("onNotificationGCM","pns.js",appLogger.logLevelError,"Event -> registered. There was an error during device registration. Error description - ["+a.message+"].")}break;case"message":try{appLogger.writeLog("onNotificationGCM","pns.js",appLogger.logLevelDebug,"Event -> message. Message received.");if(b.foreground){utils.showAppAlert(b.payload.message);appLogger.writeLog("onNotificationGCM","pns.js",appLogger.logLevelDebug,"Event -> message. INLINE NOTIFICATION.")}else{app.objLoginAuthentication.set({app_landing_url:"InboxDetail_Info/0/user/0/0"});if(b.coldstart){appLogger.writeLog("onNotificationGCM","pns.js",appLogger.logLevelDebug,"Event -> message. COLDSTART NOTIFICATION.")}else{appLogger.writeLog("onNotificationGCM","pns.js",appLogger.logLevelDebug,"Event -> message. BACKGROUND NOTIFICATION.")}}appLogger.writeLog("onNotificationGCM","pns.js",appLogger.logLevelDebug,"Event -> message. MSG - ["+b.payload.message+"]")}catch(a){appLogger.writeLog("onNotificationGCM","pns.js",appLogger.logLevelError,"Event -> message. There was an error on receipt of message. Error description - ["+a.message+"].")}break;case"error":appLogger.writeLog("onNotificationGCM","pns.js",appLogger.logLevelError,"Event -> error. Error message is - ["+b.msg+"].");break;default:appLogger.writeLog("onNotificationGCM","pns.js",appLogger.logLevelError,"Event -> Unknown. An unknown event - ["+b.event+"] was received.");break}},onNotificationAPN:function(b){if(b.alert&&b.foreground==1){navigator.notification.alert(b.alert)}if(b.sound&&b.foreground==1){var a=new Media(b.sound);a.play()}if(b.badge&&b.foreground==1){pushNotification.setApplicationIconBadgeNumber(successHandler,errorHandler,b.badge)}},tokenHandler:function(b){try{if(b.length>0){appLogger.writeLog("tokenHandler","pns.js",appLogger.logLevelDebug,"Event -> registered. regID is ["+b+"]");app.objLoginAuthentication.set({pns_registration_id:b});app.before(function(){appLogger.writeLog("tokenHandler","pns.js",appLogger.logLevelDebug,"Success");app.m_nLoggedInUserId=app.objLoginAuthentication.get("u_id");objThisView.rt_appConfig_Settings(app.rt_RequestLoginAuthentication)},function(){appLogger.writeLog("tokenHandler","pns.js",appLogger.logLevelDebug,"Error");app.navigate("",{trigger:true});utils.showError(app.objLoginAuthentication.get("error_msg"))},app.objLoginAuthentication)}}catch(a){appLogger.writeLog("tokenHandler","pns.js",appLogger.logLevelError,"Event -> registered. There was an error during device registration. Error description - ["+a.message+"].")}},successHandler:function(a){appLogger.writeLog("successHandler","pns.js",appLogger.logLevelInfo,a)},errorHandler:function(a){appLogger.writeLog("errorHandler","pns.js",appLogger.logLevelError,a)}};

Backbone.View.prototype.close=function(){if(this.beforeClose){this.beforeClose()}this.remove();this.unbind()};var AppRouter=Backbone.Router.extend({m_nLoggedInUserId:0,m_sSelectedTab:"",flagForMySettingCancel:"",m_objErrorCallBack:null,m_bUserListPersist:false,m_nPosition:-1,m_nUserID:0,jsonSortAttribute:{Sort_order:"none",Sort_field:"none",Sort_display:"none",Pagename:"none",},i_CurrentPage:0,i_CurrentPageSentList:0,routes:{home:"rt_Home","users/:id/:disptype":"rt_UserProfile","AbuseReport/:id/:uname/:name":"rt_AbuseReport","usersEdit/:edittype":"rt_UserProfileEdit_Render","users_SendMessage/:id/:action_type":"rt_UserProfile_SendMessage","users/MY_MATCHES":"rt_UserList_MyMatches","users/online_today":"rt_UserList_OnlineToday","users/online_now":"rt_UserList_OnlineNow","users/new_user":"rt_UserList_NewUser","users/user_search":"rt_UserList_UserSearch","users/basic_search":"rt_UserList_BasicSearch","users_basic_search/:step":"rt_UserList_BasicSearchStep","users_advance_search/:step":"rt_UserList_AdvanceSearchStep","advance/:type":"rt_UserList_AdvanceSearch_render","users/:type":"rt_UserList","viewedMeUsers/:user_interaction_type":"rt_ViewedMeList","loginAuthenticate/:userName/:password":"rt_LoginAuthentication","":"rt_UserLogin",userInbox:"rt_InboxList",userSent:"rt_SentList","InboxDetail_SendReply/:mail_id/:u_id/:type/:polite":"rt_InboxDetail_EmailReply","InboxDetail_SendReportForReview/:mail_id/:type":"rt_InboxDetail_EmailReportForReview","InboxDetail_AttachedPhoto/:mail_id/:type/:phototype":"rt_InboxDetail_EmailAttachedPhoto","InboxDetail_Info/:mail_id/:type/:u_id/:block_user":"rt_InboxDetail","SentDetail/:mail_id/:disptype":"rt_SentDetail","editProfile_UploadPhoto/:actionType":"rt_EditProfile_UploadPhoto","winkReceived/:user_interaction_type":"rt_WinkReceived","winkSent/:user_interaction_type":"rt_WinkSent","wink/:u_id/:confirm":"rt_Wink","FavoritesList/:user_interaction_type":"rt_FavoritesList","FavoritedByList/:user_interaction_type":"rt_FavoritedByList","addFavorites/:user_id":"rt_AddFavorites","registration/:registrationNo/track":"rt_Registration","registration/:registrationNo":"rt_Registration","registrationCategory/:category":"rt_Registration_Category","MySetting/:settingType":"rt_MySetting","MySettingBlockedUsers/:type":"rt_MySettingBlockedUsers","pushNotificationSetting/:status/:successfunc":"rt_PushNotification_Setting",logout:"rt_Logout",ChangePassword:"rt_ChangePassword","deleteItem/:mail_id/:type/:deletetype/:tdDeletedItem":"rt_DeleteItem","blockUser/:mail_id/:type/:u_id/:block_user":"rt_BlockUser",faqList:"rt_faqList","summary/:type":"rt_aboutAndContactUs",contactUs:"rt_contactUs","appConfigMessage/:type":"rt_appConfigReport",new_communication_count:"rt_new_communication_count","termsandprivacy/:type":"rt_privacyPolicy","appLog/show":"rt_appLogShow","appLog/clear":"rt_appLogClear",},rt_UserLogin:function(){appLogger.writeLog("rt_UserLogin","router.js",appLogger.logLevelInfo,"Entering");var a=false;app.m_bUserListPersist=false;app.objUserListClone=null;app.objUserList=null;app.resetSortParameters();app.m_sAppLandingUrl=utils.getQueryStringValue("sAppLandingUrl");if(app.objLoginAuthentication==null){a=utils.getLoginAuthenticationObject();app.m_objSearchParam=new md_SearchParam()}app.objUserList=null;if(a==false){this.rt_appConfig_Settings(app.rt_IsAlreadyLoggedIn)}else{if(!this.isNetworkReachable()){utils.showNetworkError()}else{app.objAppConfig_Setting=null;app.m_nLoggedInUserId=0;app.navigate("loginAuthenticate/"+app.objLoginAuthentication.get("u_username")+"/"+app.objLoginAuthentication.get("u_password"),{trigger:true})}}},rt_IsAlreadyLoggedIn:function(){appLogger.writeLog("rt_IsAlreadyLoggedIn","router.js",appLogger.logLevelInfo,"Entering");if(app.m_nLoggedInUserId==0){app.objRegistration=null;app.objContactUs=null;app.showView(new vw_Login({model:app.objLoginAuthentication}));if(app.objLoginAuthentication.has("error_msg")){utils.showError(app.objLoginAuthentication.get("error_msg"))}}else{app.rt_Home()}},rt_LoginAuthentication:function(a,b){appLogger.writeLog("rt_LoginAuthentication","router.js",appLogger.logLevelInfo,"Entering");if(app.m_nLoggedInUserId==0){if(app.objLoginAuthentication==undefined||app.objLoginAuthentication==null){app.objLoginAuthentication=new md_Login()}app.objLoginAuthentication.set({u_username:a,u_password:b,u_id:0,actionType:"LOGIN",error_msg:"",u_ScreenResolution:screen.width+"x"+screen.height,u_ScreenDepth:screen.colorDepth,app_landing_url:""});objThisView=this;pns.registerDevice()}else{app.rt_Home()}},rt_RequestLoginAuthentication:function(){appLogger.writeLog("rt_RequestLoginAuthentication","router.js",appLogger.logLevelInfo,"Entering");if(app.m_nLoggedInUserId==0){if(app.objLoginAuthentication.get("error_msg")=="Incompleted"){app.objLoginAuthentication.set({error_msg:""});objThisView.rt_registrationIncomplete(app.objLoginAuthentication.get("code_id"))}else{if(app.objLoginAuthentication.get("error_msg")=="Upgrade"){app.showView(new vw_UpgradeMessage({sUpgradeMessage:utils.base64_decode(app.objLoginAuthentication.get("Message"))}))}else{app.navigate("",{trigger:true})}}}else{appLogger.writeLog("rt_RequestLoginAuthentication","router.js",appLogger.logLevelInfo,"Logged in successfully");utils.saveLoginAuthenticationObjectToCookie();if(app.m_sAppLandingUrl==""){app.rt_Home()}else{appLogger.writeLog("rt_RequestLoginAuthentication","router.js",appLogger.logLevelInfo,"before navigating, app.m_sAppLandingUrl is ["+app.m_sAppLandingUrl+"]");app.navigate(app.m_sAppLandingUrl,{trigger:true})}utils.startInterstitialAds(true,app.objLoginAuthentication.get("show_ads"))}},rt_appConfig_Settings:function(a){appLogger.writeLog("rt_appConfig_Settings","router.js",appLogger.logLevelInfo,"Entering");if(app.objAppConfig_Setting==undefined||app.objAppConfig_Setting==null||app.objAppConfig_Setting.length<=0){app.objAppConfig_Setting=new cl_AppConfig_Setting();this.m_objErrorCallBack=this.rt_appConfigErrorCallBack;objUserView=this;app.before(function(){appLogger.writeLog("rt_appConfig_Settings","router.js",appLogger.logLevelDebug,"Success");appConfigSetting.getPageSettingsValues("loggerConfig");appLogger.writeLog("rt_appConfig_Settings","router.js",appLogger.logLevelDebug,"MOBILE_DEVICE_MAX_LOG_COUNT : "+app.objAppConfig_Setting_tmp.has("MOBILE_DEVICE_MAX_LOG_COUNT")+", FIFO_LOG_DELETE_COUNT : "+app.objAppConfig_Setting_tmp.has("FIFO_LOG_DELETE_COUNT")+", NATIVE_APP_MOBILE_LOG : "+app.objAppConfig_Setting_tmp.has("NATIVE_APP_MOBILE_LOG"));if(app.objAppConfig_Setting_tmp.has("MOBILE_DEVICE_MAX_LOG_COUNT")){appLogger.mobileDeviceMaxLogCount=app.objAppConfig_Setting_tmp.get("MOBILE_DEVICE_MAX_LOG_COUNT")}if(app.objAppConfig_Setting_tmp.has("FIFO_LOG_DELETE_COUNT")){appLogger.fifoLogDeleteCount=app.objAppConfig_Setting_tmp.get("FIFO_LOG_DELETE_COUNT")}if(app.objAppConfig_Setting_tmp.has("NATIVE_APP_MOBILE_LOG")){appLogger.appConfigLogLevel=app.objAppConfig_Setting_tmp.get("NATIVE_APP_MOBILE_LOG")}a()},function(){appLogger.writeLog("rt_appConfig_Settings","router.js",appLogger.logLevelDebug,"Error");objUserView.rt_appConfigErrorCallBack()},app.objAppConfig_Setting)}else{a()}},rt_appConfigErrorCallBack:function(){appLogger.writeLog("rt_appConfigErrorCallBack","router.js",appLogger.logLevelInfo,"Entering");this.m_objErrorCallBack=null;app.showView(new vw_AppConfigMessage({model:app.objAppConfig_Setting}));app.objAppConfig_Setting=null},rt_registrationIncomplete:function(a){appLogger.writeLog("rt_registrationIncomplete","router.js",appLogger.logLevelInfo,"Entering");app.objRegistration=new md_Registration();app.objRegistration.set({u_page:"registration1",u_id:a,u_requestType:""});this.rt_Registration_Save()},rt_Home:function(){appLogger.writeLog("rt_Home","router.js",appLogger.logLevelInfo,"Entering");this.objNew_Communication_Count=new md_New_Communication_Count();this.objNew_Communication_Count.set({user_id:app.m_nLoggedInUserId});this.before(function(){appLogger.writeLog("rt_Home","router.js",appLogger.logLevelDebug,"Success");app.showView(new vw_AppHome({model:app.objNew_Communication_Count}));$("#homeScreen").hide();$("#homeScreen").slideDown(400,"swing")},function(){appLogger.writeLog("rt_Home","router.js",appLogger.logLevelDebug,"Error")},this.objNew_Communication_Count)},rt_UserList_MyMatches:function(){appLogger.writeLog("rt_UserList_MyMatches","router.js",appLogger.logLevelInfo,"Entering");this.rt_UserList(constants.searchForMyMatches)},rt_UserList_OnlineToday:function(){appLogger.writeLog("rt_UserList_OnlineToday","router.js",appLogger.logLevelInfo,"Entering");app.m_objSearchParam.clear();app.resetSortParameters();app.m_objSearchParam.set({key:app.objLoginAuthentication.get("online_today_gender")});this.rt_UserList(constants.searchForOnlineToday)},rt_UserList_OnlineNow:function(){appLogger.writeLog("rt_UserList_OnlineNow","router.js",appLogger.logLevelInfo,"Entering");utils.writeConsoleLog("Entering Online Now");app.m_objSearchParam.clear();app.resetSortParameters();app.m_objSearchParam.set({key:app.objLoginAuthentication.get("online_today_gender")});this.rt_UserList(constants.searchForOnlineNow)},rt_UserList_NewUser:function(){appLogger.writeLog("rt_UserList_NewUser","router.js",appLogger.logLevelInfo,"Entering");app.m_objSearchParam.clear();app.resetSortParameters();this.rt_UserList(constants.searchForNewUser)},rt_UserList_UserSearch:function(){appLogger.writeLog("rt_UserList_UserSearch","router.js",appLogger.logLevelInfo,"Entering");if(!app.m_bUserListPersist){app.m_objSearchParam.clear()}app.resetSortParameters();this.rt_UserList(constants.searchForUserSearch)},rt_UserList_BasicSearch:function(){appLogger.writeLog("rt_UserList_BasicSearch","router.js",appLogger.logLevelInfo,"Entering");this.rt_UserList(constants.searchForBasicSearch)},rt_UserList_BasicSearchStep:function(a){appLogger.writeLog("rt_UserList_BasicSearchStep","router.js",appLogger.logLevelInfo,"Entering "+a);if(a=="step1"){app.m_objSearchParam.clear();app.objUserListClone=null;app.resetSortParameters()}this.before(function(){appLogger.writeLog("rt_UserList_BasicSearchStep","router.js",appLogger.logLevelDebug,"Success");app.showView(new vw_UserList_BasicSearch({dropdown_type:a}));$("#divScrollTabs").scrollLeft(($(app.m_sSelectedTab).index()-1)*145)},function(){appLogger.writeLog("rt_appConfig_Settings","router.js",appLogger.logLevelDebug,"Error");app.showNoDataFound("No user found in basic search");$("#divScrollTabs").scrollLeft(($(app.m_sSelectedTab).index()-1)*145)},null)},rt_UserList_AdvanceSearchStep:function(a){appLogger.writeLog("rt_UserList_AdvanceSearchStep","router.js",appLogger.logLevelInfo,"Entering");if(a==constants.searchStepSummary&&!app.m_objSearchParam.has("u_clear_search")){this.rt_UserList_AdvanceSearch_Summary();app.objUserListClone=null;app.resetSortParameters()}else{app.showView(new vw_UserList_AdvanceSearch({sStepNo:a}))}$("#divScrollTabs").scrollLeft(($(app.m_sSelectedTab).index()-1)*145)},rt_UserList_AdvanceSearch_Summary:function(){appLogger.writeLog("rt_UserList_AdvanceSearch_Summary","router.js",appLogger.logLevelInfo,"Entering");this.m_objSearchParam=new md_SearchParam();this.before(function(){appLogger.writeLog("rt_UserList_AdvanceSearch_Summary","router.js",appLogger.logLevelDebug,"Success");app.showView(new vw_UserList_AdvanceSearch({model:app.m_objSearchParam,sStepNo:constants.searchStepSummary}));$("#divScrollTabs").scrollLeft(($(app.m_sSelectedTab).index()-1)*145)},null,this.m_objSearchParam)},rt_UserList_AdvanceSearch_render:function(a){appLogger.writeLog("rt_UserList_AdvanceSearch_render","router.js",appLogger.logLevelInfo,"Entering "+a);this.objUserList=new cl_UserAdvanceSearch();if(!app.m_bUserListPersist){app.objUserListClone=new cl_UserAdvanceSearch()}this.objUserList.add({currentPageNo:1,type:a,searchParams:app.m_objSearchParam});console.log("EDating : rt_UserList_AdvanceSearch_render = "+JSON.stringify(this.objUserList));if(app.m_bUserListPersist){app.objUserList=app.objUserListClone;app.objUserListClone=new cl_UserAdvanceSearch();app.showView(new vw_UserList({model:app.objUserList,type:a,no_data_found_msg:" "}));app.m_bUserListPersist=false}else{this.before(function(){appLogger.writeLog("rt_UserList_AdvanceSearch_render","router.js",appLogger.logLevelDebug,"Success");app.showView(new vw_UserList({model:app.objUserList,type:a,no_data_found_msg:" "}));app.m_bUserListPersist=false;$("#divScrollTabs").scrollLeft(($(app.m_sSelectedTab).index()-1)*145)},function(){appLogger.writeLog("rt_UserList_AdvanceSearch_render","router.js",appLogger.logLevelDebug,"Error");app.m_bUserListPersist=false;app.showView(new vw_UserList({model:app.objUserList,type:a,no_data_found_msg:"No user found"}));$("#divScrollTabs").scrollLeft(($(app.m_sSelectedTab).index()-1)*145)},this.objUserList)}},rt_UserList:function(a){appLogger.writeLog("rt_UserList","router.js",appLogger.logLevelInfo,"Entering "+a);this.objUserList=new cl_User();if(!app.m_bUserListPersist){this.objUserListClone=new cl_User()}this.objUserList.add({currentPageNo:1,type:a,sort_order:(app.jsonSortAttribute.Sort_order!="none"?app.jsonSortAttribute.Sort_order:""),sort_field:(app.jsonSortAttribute.Sort_field!="none"?app.jsonSortAttribute.Sort_field:"")});if(app.m_bUserListPersist){app.objUserList=app.objUserListClone;app.objUserListClone=new cl_User();app.showView(new vw_UserList({model:app.objUserList,type:a,no_data_found_msg:" "}));app.m_bUserListPersist=false}else{this.before(function(){appLogger.writeLog("rt_UserList","router.js",appLogger.logLevelDebug,"Success");app.showView(new vw_UserList({model:app.objUserList,type:a,no_data_found_msg:" "}));app.m_bUserListPersist=false;$("#divScrollTabs").scrollLeft(($(app.m_sSelectedTab).index()-1)*145)},function(){appLogger.writeLog("rt_UserList","router.js",appLogger.logLevelDebug,"Error");app.m_bUserListPersist=false;app.showView(new vw_UserList({model:app.objUserList,type:a,no_data_found_msg:"No user found"}));$("#divScrollTabs").scrollLeft(($(app.m_sSelectedTab).index()-1)*145)},this.objUserList)}},rt_UserProfile:function(b,a){appLogger.writeLog("rt_UserProfile","router.js",appLogger.logLevelInfo,"Entering "+a);this.objUserProfile=new md_UserProfile();this.objUserProfile.set({u_id:b,sDisplayType:a});this.before(function(){appLogger.writeLog("rt_UserProfile","router.js",appLogger.logLevelDebug,"Success");app.showView(new vw_UserProfile({model:app.objUserProfile,sDisplayType:a}))},function(){appLogger.writeLog("rt_UserProfile","router.js",appLogger.logLevelDebug,"Error");app.showNoDataFound("User Profiles not found")},this.objUserProfile)},rt_AbuseReport:function(b,c,a){appLogger.writeLog("rt_AbuseReport","router.js",appLogger.logLevelInfo,"Entering");this.objAbuseReport=new md_AbuseReport();app.objAbuseReport.set({u_id:b,u_username:c,});app.showView(new vw_AbuseReport({model:app.objAbuseReport,u_id:b,Name:a}))},rt_AbuseReport_submit:function(){appLogger.writeLog("rt_AbuseReport_submit","router.js",appLogger.logLevelInfo,"Entering");this.before(function(){appLogger.writeLog("rt_AbuseReport_submit","router.js",appLogger.logLevelDebug,"Success");app.showView(new vw_AbuseReportSuccess({model:app.objAbuseReport,}))},function(){appLogger.writeLog("rt_AbuseReport_submit","router.js",appLogger.logLevelDebug,"Error");utils.showError(app.objAbuseReport.get("error_msg"))},app.objAbuseReport)},rt_UserProfileEdit_Render:function(a){appLogger.writeLog("rt_UserProfileEdit_Render","router.js",appLogger.logLevelInfo,"Entering");app.objLoginAuthentication.set({actionType:"LOGIN",getUserDetails:1});if(a==constants.userProfile_EditProfileMenu){app.showView(new vw_UserProfile_Edit({sEditType:a}))}else{this.before(function(){appLogger.writeLog("rt_UserProfileEdit_Render","router.js",appLogger.logLevelDebug,"Success");app.showView(new vw_UserProfile_Edit({sEditType:a}))},function(){appLogger.writeLog("rt_UserProfileEdit_Render","router.js",appLogger.logLevelDebug,"Error");utils.showError(app.objLoginAuthentication.get("error_msg"))},app.objLoginAuthentication)}if(this.objLoginAuthentication_RollbackCopy==null){this.objLoginAuthentication_RollbackCopy=new md_Login()}},rt_UserProfileEdit_Save:function(){appLogger.writeLog("rt_UserProfileEdit_Save","router.js",appLogger.logLevelInfo,"Entering");app.objLoginAuthentication.set({actionType:"EDIT"});this.before(function(){appLogger.writeLog("rt_UserProfileEdit_Save","router.js",appLogger.logLevelDebug,"Success");app.showView(new vw_UserProfile_Edit({sEditType:constants.userProfile_EditProfileMenu}))},function(){appLogger.writeLog("rt_UserProfileEdit_Save","router.js",appLogger.logLevelDebug,"Error");utils.showError(app.objLoginAuthentication.get("error_msg"))},app.objLoginAuthentication)},rt_UserProfile_SendMessage:function(b,a){appLogger.writeLog("rt_UserProfile_SendMessage","router.js",appLogger.logLevelInfo,"Entering");if(a=="NewMessage"){this.objUserProfile_SendMessage=new md_UserProfile_SendMessage();this.objUserProfile_SendMessage.set({u_id:b})}this.before(function(){appLogger.writeLog("rt_UserProfile_SendMessage","router.js",appLogger.logLevelDebug,"Success");if(app.objUserProfile_SendMessage.get("error_msg")==""){app.showView(new vw_UserProfile_SendMessage({model:app.objUserProfile_SendMessage}))}else{utils.showError(app.objUserProfile_SendMessage.get("error_msg"))}},function(){appLogger.writeLog("rt_UserProfile_SendMessage","router.js",appLogger.logLevelDebug,"Error");app.showNoDataFound("User Profiles not found")},this.objUserProfile_SendMessage)},rt_ViewedMeList:function(a){appLogger.writeLog("rt_ViewedMeList","router.js",appLogger.logLevelInfo,"Entering");if(this.objViewedMeList==null||this.objViewedMeList.length<1){this.objViewedMeList=new cl_ViewedMe();this.objViewedMeList.add({user_interaction_type:a,currentPageNo:1})}else{this.objViewedMeList.first().set({user_interaction_type:a,currentPageNo:1})}this.before(function(){appLogger.writeLog("rt_ViewedMeList","router.js",appLogger.logLevelDebug,"Success");app.showView(new vw_ViewedMeList({model:app.objViewedMeList,user_interaction_type:a,no_data_found_msg:" "}))},function(){appLogger.writeLog("rt_ViewedMeList","router.js",appLogger.logLevelDebug,"Error");app.showView(new vw_ViewedMeList({model:app.objViewedMeList,user_interaction_type:a,no_data_found_msg:"Sorry, no record found!"}))},this.objViewedMeList)},rt_InboxListFromHome:function(){this.objInboxList=new cl_EmailReceived();if(this.objInboxList==null||this.objInboxList.length<1){this.objInboxList.add({currentPageNo:1})}else{app.objInboxList.first().set({currentPageNo:1})}app.i_CurrentPage=0;app.navigate("#userInbox",{trigger:true})},rt_InboxList:function(){var a=1;appLogger.writeLog("rt_InboxList","router.js",appLogger.logLevelInfo,"Entering");app.rt_Logger();if(this.objInboxList==null||this.objInboxList.length<1){this.objInboxList=new cl_EmailReceived();this.objInboxList.add({currentPageNo:1})}else{a=this.objInboxList.first().get("currentPageNo")}this.before(function(){appLogger.writeLog("rt_InboxList","router.js",appLogger.logLevelDebug,"Success");if(app.i_CurrentPage!=0){app.objInboxList.first().set({currentPageNo:app.i_CurrentPage})}else{app.objInboxList.first().set({currentPageNo:a})}app.showView(new vw_EmailReceivedList({model:app.objInboxList,no_data_found_msg:" "}));app.i_CurrentPage=0},function(){appLogger.writeLog("rt_InboxList","router.js",appLogger.logLevelDebug,"Error");app.showView(new vw_EmailReceivedList({model:app.objInboxList,no_data_found_msg:"There are no messages in your Received MSG Folder.",currentPage:a}))},this.objInboxList)},rt_InboxDetail:function(d,b,a,c){appLogger.writeLog("rt_InboxDetail","router.js",3,"Entering");this.objInboxDetail=new md_EmailReceivedDetail();this.objInboxDetail.set({recid:d,type:b,from_userid:a,block_user:c});this.before(function(){appLogger.writeLog("rt_InboxDetail","router.js",appLogger.logLevelDebug,"Success");app.showView(new vw_EmailReceivedDetail({model:app.objInboxDetail}))},function(){appLogger.writeLog("rt_InboxDetail","router.js",appLogger.logLevelDebug,"Error");app.showNoDataFound("You do not have any ,messages in your InboxDetail")},this.objInboxDetail)},rt_InboxDetail_EmailAttachedPhoto:function(c,b,a){appLogger.writeLog("rt_InboxDetail_EmailAttachedPhoto","router.js",appLogger.logLevelInfo,"Entering");this.objEmailAttachedPhoto=new md_EmailReceivedDetail_ActionType();this.objEmailAttachedPhoto.set({recid:c,type:b,action_type:a});this.before(function(){appLogger.writeLog("rt_InboxDetail_EmailAttachedPhoto","router.js",appLogger.logLevelDebug,"Success");app.appendToView(new vw_EmailReceivedDetail_ActionType({model:app.objEmailAttachedPhoto}),"#divInboxDetail_ViewPhoto")},function(){appLogger.writeLog("rt_InboxDetail_EmailAttachedPhoto","router.js",appLogger.logLevelDebug,"Error");app.showNoDataFound("You have not Attached Photo to this message yet")},this.objEmailAttachedPhoto)},rt_InboxDetail_EmailReply:function(b,d,a,c){appLogger.writeLog("rt_InboxDetail_EmailReply","router.js",appLogger.logLevelInfo,"Entering");if(a=="NewEmail"){this.objEmailReply=new md_EmailReceivedDetail_ActionType();this.objEmailReply.set({recid:b,u_id:d,action_type:constants.emailReceivedDetail_reply,polite:c,})}$("#divInboxDetail_Reply, #divInboxDetail_ReportForReview").children().remove();this.before(function(){appLogger.writeLog("rt_InboxDetail_EmailReply","router.js",appLogger.logLevelDebug,"Success");if(app.objEmailReply.get("error_msg")==""){app.appendToView(new vw_EmailReceivedDetail_ActionType({model:app.objEmailReply}),"#divInboxDetail_Reply")}else{utils.showError(app.objEmailReply.get("error_msg"))}},function(){appLogger.writeLog("rt_InboxDetail_EmailReply","router.js",appLogger.logLevelDebug,"Error");app.showNoDataFound("You have not replied to this message yet")},this.objEmailReply)},rt_InboxDetail_EmailReportForReview:function(b,a){appLogger.writeLog("rt_InboxDetail_EmailReportForReview","router.js",appLogger.logLevelInfo,"Entering");if(a=="NewEmail"){this.objEmailReportForReview=new md_EmailReceivedDetail_ActionType();this.objEmailReportForReview.set({recid:b,action_type:constants.emailReceivedDetail_reportForReview})}$("#divInboxDetail_Reply, #divInboxDetail_ReportForReview").children().remove();this.before(function(){appLogger.writeLog("rt_InboxDetail_EmailReportForReview","router.js",appLogger.logLevelDebug,"Success");app.appendToView(new vw_EmailReceivedDetail_ActionType({model:app.objEmailReportForReview}),"#divInboxDetail_ReportForReview")},function(){appLogger.writeLog("rt_InboxDetail_EmailReportForReview","router.js",appLogger.logLevelDebug,"Error");app.showNoDataFound("You have not replied to this message yet")},this.objEmailReportForReview)},rt_SentListFromHome:function(){if(this.objSentList==null||this.objSentList.length<1){this.objSentList=new cl_EmailSent();this.objSentList.add({currentPageNo:1})}else{currentPage=this.objSentList.first().get("currentPageNo")}app.i_CurrentPageSentList=0;app.navigate("userSent",{trigger:true})},rt_SentList:function(){var a=1;appLogger.writeLog("rt_SentList","router.js",appLogger.logLevelInfo,"Entering");if(this.objSentList==null||this.objSentList.length<1){this.objSentList=new cl_EmailSent();this.objSentList.add({currentPageNo:1})}else{a=this.objSentList.first().get("currentPageNo")}this.before(function(){appLogger.writeLog("rt_SentList","router.js",appLogger.logLevelDebug,"Success");if(app.i_CurrentPageSentList!=0){app.objSentList.first().set({currentPageNo:app.i_CurrentPageSentList})}else{app.objSentList.first().set({currentPageNo:a})}app.showView(new vw_EmailSentList({model:app.objSentList,no_data_found_msg:" "}));app.i_CurrentPageSentList=0},function(){appLogger.writeLog("rt_SentList","router.js",appLogger.logLevelDebug,"Error");app.showView(new vw_EmailSentList({model:app.objSentList,no_data_found_msg:"There are no messages in your Sent MSG Folder.",currentPage:a}))},this.objSentList)},rt_SentDetail:function(b,a){appLogger.writeLog("rt_SentDetail","router.js",appLogger.logLevelInfo,"Entering");this.objSentDetail=new md_EmailSentDetail();this.objSentDetail.set({sentid:b});this.before(function(){appLogger.writeLog("rt_SentDetail","router.js",appLogger.logLevelDebug,"Success");app.showView(new vw_EmailSentDetail({model:app.objSentDetail,sDisplayType:a}))},function(){appLogger.writeLog("rt_SentDetail","router.js",appLogger.logLevelDebug,"Error");app.showNoDataFound("You do not have any ,messages in your SentDetail")},this.objSentDetail)},rt_EditProfile_UploadPhoto:function(a){appLogger.writeLog("rt_EditProfile_UploadPhoto","router.js",appLogger.logLevelInfo,"Entering");utils.writeConsoleLog("rt_EditProfile_UploadPhoto() - Entering");var b=new vw_UserProfile_UploadPhoto();switch(a){case"render":app.showView(b);b.displayPhotoList();break;case"selectPhoto":b.selectPhoto();break}utils.writeConsoleLog("rt_EditProfile_UploadPhoto() - Exiting")},rt_Registration:function(a){appLogger.writeLog("rt_Registration","router.js",appLogger.logLevelInfo,"Entering");if(app.objRegistration==null){app.objRegistration=new md_Registration()}app.objRegistration.set({u_page:a});app.showView(new vw_Registration({model:app.objRegistration,registrationType:a}));if(app.objRegistration.get("error_msg")!=undefined&&app.objRegistration.get("error_msg")!=""){app.rt_registrationErrorMsg()}},rt_Registration_Category:function(a){appLogger.writeLog("rt_Registration_Category","router.js",appLogger.logLevelInfo,"Entering");objThis=this;app.showView(new vw_RegistrationCategory({RegistrationCategory:a,model:objThis.objRegistration}));if(app.objRegistration.get("error_msg")!=undefined&&app.objRegistration.get("error_msg")!=""){utils.showError(app.objRegistration.get("error_msg"))}},rt_Registration_Save:function(){appLogger.writeLog("rt_Registration_Save","router.js",appLogger.logLevelInfo,"Entering");this.before(function(){appLogger.writeLog("rt_Registration_Save","router.js",appLogger.logLevelDebug,"Success callback - Entering");if(app.objRegistration.get("u_requestType")!=""){app.navigate(app.objRegistration.get("u_requestType"),{trigger:true})}else{if(app.objRegistration.get("u_requestType")==""&&app.objRegistration.get("u_page")==constants.userRegistration1){app.objRegistration.set({error_msg:""});app.navigate("#registration/"+constants.userRegistration2+"/track",{trigger:true})}else{if(app.objRegistration.get("u_requestType")==""&&app.objRegistration.get("u_page")==constants.userRegistration2){app.objRegistration.set({error_msg:""});app.navigate("#registration/"+constants.userRegistration3,{trigger:true})}}}},function(){appLogger.writeLog("rt_Registration_Save","router.js",appLogger.logLevelError,"Error callback - Entering");if(app.objRegistration.get("u_requestType")!=""){utils.showError(app.objRegistration.get("error_msg"));if($(".error").length==0){app.navigate(app.objRegistration.get("u_requestType"),{trigger:true})}}else{app.rt_registrationErrorMsg()}},app.objRegistration)},rt_registrationErrorMsg:function(){appLogger.writeLog("rt_registrationErrorMsg","router.js",appLogger.logLevelInfo,"Entering");utils.showSummaryError(app.objRegistration.get("error_msg"));if($("div .control-group").length>0){utils.showError(app.objRegistration.get("error_msg"))}if($(".text-error").length>1||$(".error").length>0){$("#divDisplayMsg").removeClass("hide")}else{$("#divDisplayMsg").addClass("hide")}},rt_aboutAndContactUs:function(a){appLogger.writeLog("rt_aboutAndContactUs","router.js",appLogger.logLevelInfo,"Entering");this.objAboutUs=new md_AboutUs();this.objAboutUs.set({type:a});this.before(function(){appLogger.writeLog("rt_aboutAndContactUs","router.js",appLogger.logLevelDebug,"Success");utils.writeConsoleLog("rt_aboutAndContactUs :: Success-Entering");app.showView(new vw_AboutUs({type:a,model:app.objAboutUs}))},null,this.objAboutUs)},rt_contactUs:function(){appLogger.writeLog("rt_contactUs","router.js",appLogger.logLevelInfo,"Entering");this.objContactUs=new md_ContactUs();app.showView(new vw_ContactUs())},rt_appConfigReport:function(a){appLogger.writeLog("rt_appConfigReport","router.js",appLogger.logLevelInfo,"Entering");objView=this;this.before(function(){appLogger.writeLog("rt_appConfigReport","router.js",appLogger.logLevelDebug,"Success callback - Entering");if(a==constants.appConfigSettingReport){app.navigate("summary/"+a,{trigger:true})}else{objView.rt_aboutAndContactUs(a)}},function(){appLogger.writeLog("rt_appConfigReport","router.js",appLogger.logLevelError,"Error callback - Entering");utils.showError(app.objContactUs.get("error_msg"))},app.objContactUs)},rt_contactUsSubmit:function(){appLogger.writeLog("rt_contactUsSubmit","router.js",appLogger.logLevelInfo,"Entering");this.rt_appConfigReport(constants.ContactUs)},rt_RotateImage:function(c,b,a){appLogger.writeLog("rt_RotateImage","router.js",appLogger.logLevelInfo,"Entering");app.objImageRotate=new md_UserProfile_PhotoUpdate();app.objImageRotate.set({userAction:b,PhotoID:c,nRotationAngle:a});objThisRotateView=this;this.before(function(){bflag=false;appLogger.writeLog("rt_RotateImage","router.js",appLogger.logLevelDebug,"Success callback - Entering");if(app.objImageRotate.has("error_msg")&&app.objImageRotate.get("error_msg")!=""){bflag=true}if(b==constants.photoRotation_init&&app.objImageRotate.get("user_photo_thumbnail_url")!=""){if(app.objImageRotate.get("user_photo_thumbnail_url")!=""){$("#imgRotateSrc").attr("src",app.objImageRotate.get("user_photo_thumbnail_url"));if(!constants.isTestingEnvironmentBrowser&&constants.platform_id==1){if(utils.fetchVersion()<constants.versionForFixedUI){$("body").animate({scrollTop:20},"fast")}}}else{flag=true}}if(!bflag&&b==constants.photoRotation_apply){app.rt_EditProfile_UploadPhoto("render");$("#divModalPhotoEdit").modal("hide")}if(bflag){utils.showAppAlert(app.objImageRotate.get("error_msg"),null);$("#divModalPhotoEdit").modal("hide")}},function(){appLogger.writeLog("rt_RotateImage","router.js",appLogger.logLevelError,"Error callback - Entering");$("#divModalPhotoEdit").modal("hide")},app.objImageRotate)},rt_PushNotification_Setting:function(a,b){appLogger.writeLog("rt_PushNotification_Setting","router.js",appLogger.logLevelInfo,"Entering");if(a==constants.pushNotificationFetchSetting){app.objPushNotificationSetting=new md_PushNotificationSetting()}app.objPushNotificationSetting.set({status:a});this.before(function(){if(b!=""){if(app.objPushNotificationSetting.has("success_msg")){b()}}else{app.showView(new vw_PushNotificationSetting({model:app.objPushNotificationSetting}))}},function(){appLogger.writeLog("rt_PushNotification_Setting","router.js",appLogger.logLevelError,"Error callback - Entering")},app.objPushNotificationSetting)},rt_Logout:function(){appLogger.writeLog("rt_Logout","router.js",appLogger.logLevelInfo,"Entering");app.objLoginAuthentication.set({actionType:"LOGOUT"});bShowAds=app.objLoginAuthentication.get("show_ads");this.before(function(){appLogger.writeLog("rt_Logout","router.js",appLogger.logLevelDebug,"Success");app.m_nLoggedInUserId=0;app.showView(new vw_Login({model:app.objLoginAuthentication}));app.objLoginAuthentication.clear();$.removeCookie(constants.loginAuthenticationCookie);window.localStorage.removeItem(constants.loginAuthenticationCookie);utils.startInterstitialAds(false,bShowAds);utils.writeConsoleLog("rt_Logout : After removing local storage entry")},function(){appLogger.writeLog("rt_Logout","router.js",appLogger.logLevelError,"Logout out unsuccessful");app.objLoginAuthentication.clear()},app.objLoginAuthentication)},rt_ChangePassword:function(){appLogger.writeLog("rt_ChangePassword","router.js",appLogger.logLevelInfo,"Entering");app.objLoginAuthentication.set({actionType:"ChangePassword"});app.showView(new vw_ChangePassword({model:app.objLoginAuthentication}))},rt_MySetting:function(a){appLogger.writeLog("rt_MySetting","router.js",appLogger.logLevelInfo,"Entering");app.objLoginAuthentication.set({actionType:"LOGIN",getUserDetails:1});if(a==constants.MySettingMenu&&app.flagForMySettingCancel==true){app.showView(new vw_MySetting({model:app.objLoginAuthentication,settingType:a}))}else{this.before(function(){appLogger.writeLog("rt_MySetting","router.js",appLogger.logLevelDebug,"Success");app.showView(new vw_MySetting({model:app.objLoginAuthentication,settingType:a}))},function(){appLogger.writeLog("rt_MySetting","router.js",appLogger.logLevelDebug,"Error");utils.showError(app.objLoginAuthentication.get("error_msg"))},app.objLoginAuthentication)}},rt_MySetting_Save:function(){appLogger.writeLog("rt_MySetting_Save","router.js",appLogger.logLevelInfo,"Entering");app.objLoginAuthentication.set({actionType:"AccountSetting"});this.before(function(){appLogger.writeLog("rt_MySetting_Save","router.js",appLogger.logLevelDebug,"Success");app.showView(new vw_MySetting({model:app.objLoginAuthentication}));window.location="#MySetting/"+constants.MySettingMenu},function(){appLogger.writeLog("rt_MySetting_Save","router.js",appLogger.logLevelDebug,"Error");utils.showError(app.objLoginAuthentication.get("error_msg"))},app.objLoginAuthentication)},rt_MySettingBlockedUsers:function(a){appLogger.writeLog("rt_MySettingBlockedUsers","router.js",appLogger.logLevelInfo,"Entering");this.objBlockedUsersList=new cl_MySettingBlockedUsers();if(a==constants.MySetting_AddBlockUsers){app.showView(new vw_MySettingBlockedUsersList({model:app.objBlockedUsersList,blockActionType:a}))}else{this.objBlockedUsersList.add({add_block_user:0,block_this_user:1});this.before(function(){appLogger.writeLog("rt_MySettingBlockedUsers","router.js",appLogger.logLevelDebug,"Success");app.showView(new vw_MySettingBlockedUsersList({model:app.objBlockedUsersList,no_data_found_msg:"",blockActionType:a}))},function(){appLogger.writeLog("rt_MySettingBlockedUsers","router.js",appLogger.logLevelDebug,"Error");app.showView(new vw_MySettingBlockedUsersList({model:app.objBlockedUsersList,no_data_found_msg:"No blocked user found",blockActionType:a}))},this.objBlockedUsersList)}},rt_WinkReceived:function(a){appLogger.writeLog("rt_WinkReceived","router.js",appLogger.logLevelInfo,"Entering");if(this.objWinkReceivedList==null||this.objWinkReceivedList.length<1){this.objWinkReceivedList=new cl_ViewedMe();this.objWinkReceivedList.add({user_interaction_type:a,currentPageNo:1})}else{this.objWinkReceivedList.first().set({user_interaction_type:a,currentPageNo:1})}this.before(function(){appLogger.writeLog("rt_WinkReceived","router.js",appLogger.logLevelDebug,"Success");app.showView(new vw_WinkReceivedList({model:app.objWinkReceivedList,user_interaction_type:a,no_data_found_msg:" "}))},function(){appLogger.writeLog("rt_WinkReceived","router.js",appLogger.logLevelDebug,"Error");app.showView(new vw_WinkReceivedList({model:app.objWinkReceivedList,user_interaction_type:a,no_data_found_msg:"You currently have no Winks."}))},this.objWinkReceivedList)},rt_WinkSent:function(a){appLogger.writeLog("rt_WinkSent","router.js",appLogger.logLevelInfo,"Entering");if(this.objWinkSentList==null||this.objWinkSentList.length<1){this.objWinkSentList=new cl_ViewedMe();this.objWinkSentList.add({user_interaction_type:a,currentPageNo:1})}else{this.objWinkSentList.first().set({user_interaction_type:a,currentPageNo:1})}this.before(function(){appLogger.writeLog("rt_WinkSent","router.js",appLogger.logLevelDebug,"Success");app.showView(new vw_WinkSentList({model:app.objWinkSentList,user_interaction_type:a,no_data_found_msg:" "}))},function(){appLogger.writeLog("rt_WinkSent","router.js",appLogger.logLevelDebug,"Error");app.showView(new vw_WinkSentList({model:app.objWinkSentList,user_interaction_type:a,no_data_found_msg:"You have not sent any Winks."}))},this.objWinkSentList)},rt_Wink:function(b,a){appLogger.writeLog("rt_Wink","router.js",appLogger.logLevelInfo,"Entering");this.objWink=new md_Wink();this.objWink.set({user_id:b,click_confirm:a});this.before(function(){appLogger.writeLog("rt_Wink","router.js",appLogger.logLevelDebug,"Success");if(app.objWink.get("nCount_Error")!="0"){utils.showAppAlert(app.objWink.get("err_msg")[0],null)}else{app.showView(new vw_Wink({model:app.objWink}))}},function(){appLogger.writeLog("rt_Wink","router.js",appLogger.logLevelDebug,"Error");app.showNoDataFound("No data found in Wink ")},this.objWink)},rt_FavoritesList:function(a){appLogger.writeLog("rt_FavoritesList","router.js",appLogger.logLevelInfo,"Entering");if(this.objFavoritesList==null||this.objFavoritesList.length<1){this.objFavoritesList=new cl_ViewedMe();this.objFavoritesList.add({user_interaction_type:a,currentPageNo:1})}else{this.objFavoritesList.first().set({user_interaction_type:a})}this.before(function(){appLogger.writeLog("rt_FavoritesList","router.js",appLogger.logLevelDebug,"Success");app.showView(new vw_FavoritesList({model:app.objFavoritesList,user_interaction_type:a,no_data_found_msg:" "}))},function(){appLogger.writeLog("rt_FavoritesList","router.js",appLogger.logLevelDebug,"Error");app.showView(new vw_FavoritesList({model:app.objFavoritesList,user_interaction_type:a,no_data_found_msg:'Sorry, you have not designated anyone to be on your favorites list.</br>To add someone, go to their profile and click on the "Add to Favorites button"'}))},this.objFavoritesList)},rt_FavoritedByList:function(a){appLogger.writeLog("rt_FavoritedByList","router.js",appLogger.logLevelInfo,"Entering");if(this.objFavoritedByList==null||this.objFavoritedByList.length<1){this.objFavoritedByList=new cl_ViewedMe();this.sSort_display="";this.objFavoritedByList.add({user_interaction_type:a,currentPageNo:1})}else{this.objFavoritedByList.first().set({user_interaction_type:a})}this.before(function(){appLogger.writeLog("rt_FavoritedByList","router.js",appLogger.logLevelDebug,"Success");app.showView(new vw_FavoritedByList({model:app.objFavoritedByList,user_interaction_type:a,no_data_found_msg:" "}))},function(){appLogger.writeLog("rt_FavoritedByList","router.js",appLogger.logLevelDebug,"Error");app.showView(new vw_FavoritedByList({model:app.objFavoritedByList,user_interaction_type:a,no_data_found_msg:"Sorry, you are not currently designated as a favorite by another member. "}))},this.objFavoritedByList)},rt_AddFavorites:function(a){appLogger.writeLog("rt_AddFavorites","router.js",appLogger.logLevelInfo,"Entering");this.objAddFavorites=new md_AddFavorites();this.objAddFavorites.set({user_id:a});this.before(function(){appLogger.writeLog("rt_AddFavorites","router.js",appLogger.logLevelDebug,"Success");if(app.objAddFavorites.get("err_msg")!=" "){var b=app.objAddFavorites.get("err_msg");utils.showAppAlert(b,null)}else{utils.showAppAlert("User Successfully added in Favorite list!",null)}},function(){appLogger.writeLog("rt_AddFavorites","router.js",appLogger.logLevelDebug,"Error");app.showNoDataFound("No data found in Add Favorites ")},this.objAddFavorites)},rt_DeleteItem:function(a,d,b,c){appLogger.writeLog("rt_DeleteItem","router.js",appLogger.logLevelInfo,"Entering");this.objDeleteItem=new md_DeleteItem();this.objDeleteItem.set({mail_id:a,type:d,deletetype:b});this.before(function(){appLogger.writeLog("rt_DeleteItem","router.js",appLogger.logLevelDebug,"Success");c.remove();if($("#lstFavoritesList tr").length==0){var e=$("#lstFavoritesList");$("#trFetchNextRecord").addClass("hide");e.append("<table width='100%' class='table'><tr class='info'><td class='muted'><h6><center>Sorry, you have not designated anyone to be on your favorites list.</br>To add someone, go to their profile and click on the \"Add to Favorites button\"<a class='btn btn-danger btn-mini'><i class='icon-star-empty icon-white'></i></a></center></h6></td></tr></table>")}},function(){appLogger.writeLog("rt_DeleteItem","router.js",appLogger.logLevelDebug,"Error");app.showNoDataFound("Item cannot be deleted ")},this.objDeleteItem)},rt_BlockUser:function(d,b,a,c){appLogger.writeLog("rt_BlockUser","router.js",appLogger.logLevelInfo,"Entering");this.objBlockUser=new md_EmailReceivedDetail();this.objBlockUser.set({recid:d,type:b,from_userid:a,block_user:c});this.before(function(){appLogger.writeLog("rt_BlockUser","router.js",appLogger.logLevelDebug,"Success");if(app.objBlockUser.get("block_count")!="0"){utils.showAppAlert("This user is already on your blocked user list!",null)}else{utils.showAppAlert("User blocked successfully!",null)}},function(){appLogger.writeLog("rt_BlockUser","router.js",appLogger.logLevelDebug,"Error");app.showNoDataFound("No data found in Blocked User ")},this.objBlockUser)},rt_faqList:function(){appLogger.writeLog("rt_faqList","router.js",appLogger.logLevelInfo,"Entering");this.objFaqList=new cl_FaqList();this.before(function(){appLogger.writeLog("rt_faqList","router.js",appLogger.logLevelDebug,"Success");app.showView(new vw_FaqList({model:app.objFaqList}))},function(){appLogger.writeLog("rt_faqList","router.js",appLogger.logLevelDebug,"Error");app.showView(new vw_FaqList({model:app.objFaqList,no_data_found_msg:"No Faq found"}))},this.objFaqList)},rt_privacyPolicy:function(a){appLogger.writeLog("rt_privacyPolicy","router.js",appLogger.logLevelInfo,"Entering");this.objprivacyPolicy=new md_PrivacyPolicy();this.objprivacyPolicy.set({Type:a});this.before(function(){appLogger.writeLog("rt_privacyPolicy","router.js",appLogger.logLevelDebug,"Success");app.showView(new vw_PrivacyPolicy({model:app.objprivacyPolicy}))},null,this.objprivacyPolicy)},rt_Logger:function(){appLogger.writeLog("rt_Logger","router.js",appLogger.logLevelInfo,"Entering");app.objLog=new md_Log();this.before(function(){appLogger.writeLog("rt_Logger","router.js",appLogger.logLevelDebug,"Success")},function(){appLogger.writeLog("rt_Logger","router.js",appLogger.logLevelDebug,"Error")},app.objLog)},showView:function(a){appLogger.writeLog("showView","router.js",appLogger.logLevelInfo,"Entering");if(this.currentView){this.currentView.close()}$("body").html(a.render().el);this.currentView=a;var b=Backbone.history.fragment;if(app.m_bUserListPersist&&b.indexOf("profile")==-1&&app.m_nUserID>0&&app.m_nUserID<constants.userListPageLimit){if(app.m_nPosition!=-1){$("html, body").animate({scrollTop:app.m_nPosition},"fast")}else{$("html, body").animate({scrollTop:$("#lstUsers tr").eq(app.m_nUserID).offset().top-150},"fast")}}else{$("html, body").animate({scrollTop:0},"fast")}if(!this.isNetworkReachable()){utils.showNetworkError();return}utils.writeConsoleLog("showView() - Exiting");return a},appendToView:function(a,b){appLogger.writeLog("appendToView","router.js",appLogger.logLevelInfo,"Entering");$(b).html(a.render().el);var c=Backbone.history.fragment;if(app.m_bUserListPersist&&c.indexOf("profile")==-1&&app.m_nUserID>0&&app.m_nUserID<constants.userListPageLimit){if(app.m_nPosition!=-1){$("html, body").animate({scrollTop:app.m_nPosition},"fast")}else{$("html, body").animate({scrollTop:$("#lstUsers tr").eq(app.m_nUserID).offset().top-150},"fast")}}else{$("html, body").animate({scrollTop:0},"fast")}if(!this.isNetworkReachable()){utils.showNetworkError();return}return a},showNoDataFound:function(a){appLogger.writeLog("showNoDataFound","router.js",appLogger.logLevelInfo,"Entering");if(this.currentView){this.currentView.close()}view=new vw_NoDataFound({sDataNotFoundMessage:a});$("body").html(view.render().el);this.currentView=view},before:function(a,d,b){var c=Backbone.history.fragment;appLogger.writeLog("before","router.js",appLogger.logLevelInfo,"Entering ["+c+"]");utils.writeConsoleLog("Entering before ");if(b==null){a()}else{c=c.split("/")[0];if(app.m_nLoggedInUserId==0&&c!="summary"&&c!="contactUs"&&c!="faqList"&&c!="loginAuthenticate"&&c!="registrationCategory"&&c!="registration"&&c!="termsandprivacy"&&c!=""&&c!="appConfigMessage"){app.navigate("",{trigger:true,replace:true});return}if(!this.isNetworkReachable()){utils.showNetworkError();return}else{utils.showProgressBar();objThisRouter=this;b.fetch({success:function(f,e){utils.dismissProgressBar();objThisRouter.m_objErrorCallBack=null;utils.writeConsoleLog("before.fetch.success callback : Success in fetching result");if(e!=null){utils.writeConsoleLog("before.fetch.success callback : response obtained is "+JSON.stringify(e));a()}else{utils.writeConsoleLog("before.fetch.success callback : But response obtained is NULL");d()}},error:function(f,e){utils.writeConsoleLog("Error in fetching result for ["+c+"]. response = ["+JSON.stringify(e)+"], model = ["+JSON.stringify(f)+"]");appLogger.writeLog("before","router.js",appLogger.logLevelError,"Error in fetching result for ["+c+"]. response = ["+JSON.stringify(e)+"], model = ["+JSON.stringify(f)+"]");utils.dismissProgressBar();if(objThisRouter.m_objErrorCallBack!=null){b.add({error_msg:"ready State - "+e.readyState+", response status - "+e.status+", response status text - "+e.statusText});objThisRouter.m_objErrorCallBack()}}})}}},isNetworkReachable:function(){appLogger.writeLog("isNetworkReachable","router.js",appLogger.logLevelInfo,"Entering");utils.writeConsoleLog("Entering isNetworkReachable");if(!constants.isTestingEnvironmentBrowser){if((constants.platform_id==1||constants.platform_id==2)?(navigator.network.connection.type==Connection.NONE||navigator.network.connection.type==Connection.UNKNOWN):(navigator.connection.type==Connection.NONE||navigator.connection.type==Connection.UNKNOWN)){appLogger.writeLog("isNetworkReachable","router.js",appLogger.logLevelError,"Network not reachable");utils.writeConsoleLog("Return false ");return false}appLogger.m_bNetworkAvailability=false}utils.writeConsoleLog("Return true ");return true},acknowledgeWebserviceResponse:function(){utils.writeConsoleLog("Acknowledged")},resetSortParameters:function(){appLogger.writeLog("resetSortParameters","router.js",appLogger.logLevelInfo,"Entering");app.jsonSortAttribute.Sort_order="none";app.jsonSortAttribute.Sort_field="none";app.jsonSortAttribute.Sort_display="none";app.jsonSortAttribute.Pagename="none"},rt_appLogShow:function(){$("body").append('<div id="divAppErrors"><h5>Log List</h5>'+window.localStorage.getItem("app_log")+'<br/><a href="#appLog/clear" class="btn btn-info"><i class="icon-trash icon-white"></i>Clear Log</a>')},rt_appLogClear:function(){window.localStorage.setItem("app_log","");$("#divAppErrors").remove()}});

window.md_AboutUs=Backbone.Model.extend({url:function(){sQueryString="&type="+app.objAboutUs.get("type");return utils.buildWebServiceUrl("zz_pg_aboutus.php",sQueryString)}});

window.md_UserProfile=Backbone.Model.extend({url:function(){var a=this.get("sDisplayType");var b="&userid="+this.get("u_id");return utils.buildWebServiceUrl("zz_pg_view_profile.php",b)}});

window.md_EmailSentDetail=Backbone.Model.extend({url:function(){var a="&sent_id="+this.get("sentid");return utils.buildWebServiceUrl("zz_pg_mail_sent_read.php",a)},dataType:"jsonp",defaults:{to_user:"xyz",subject:"testing",date:"Sep 13, 2012",message:"No",profile_image:" ",mail_id:" ",no_u_photo:"0"}});

window.md_EmailReceivedList=Backbone.Model.extend({url:function(){return utils.buildWebServiceUrl("zz_pg_mail_inbox.php","&action=fetch&mailtype=received")},dataType:"jsonp",defaults:{from_user_name:"xyz",from_user_id:" ",subject:"testing",read_status:"Unread",date:"Sep 13, 2012",replied:" ",imgreplied:" ",mail_id:"10342",photo:"img/correct-answer.png",currentPageNo:"1"}});

window.md_SearchParam=Backbone.Model.extend({defaults:{u_username:"",remember_search:"Off"},url:function(){return utils.buildWebServiceUrl("zz_pg_advance_search.php","&user_type="+app.objLoginAuthentication.get("u_gender"))}});

window.md_AppDropDown=Backbone.Model.extend({url:function(){var b="";if(this.has("calledFrom")){b=this.get("calledFrom")}var a="&dropdownType="+this.get("dropdownType")+"&userSelection="+this.get("userSelection")+"&calledFrom="+b;if(this.has("filters")){$.each(this.get("filters"),function(c,d){a+="&"+c+"="+d})}return utils.buildWebServiceUrl("zz_pg_app_dropdown.php",a)},dataType:"jsonp"});

window.md_AddFavorites=Backbone.Model.extend({url:function(){var a="&user_id="+this.get("user_id");return utils.buildWebServiceUrl("zz_pg_favorites_add.php",a)},dataType:"json",defaults:{user_id:0}});

window.md_UserProfile_PhotoUpdate=Backbone.Model.extend({url:function(){var a="";if(this.get("userAction")!=undefined){a=a+"&user_action="+this.get("userAction")+"&u_img_id="+this.get("PhotoID")}if(this.get("userAction")==constants.photoRotation_init||this.get("userAction")==constants.photoRotation_apply){a=a+"&nRotationAngle="+this.get("nRotationAngle")}else{a=a+"&get_photo_list=true"}if(this.get("userAction")=="update"){a=a+"&u_img_main="+this.get("MainImage")+"&u_img_profile="+this.get("ShowOnProfile")}return utils.buildWebServiceUrl("zz_pg_user_image.php",a)},dataType:"json"});

window.md_MySettingBlockedUsers=Backbone.Model.extend({url:function(){var b=this.get("block_this_user");var a=this.get("add_block_user");if(b==1&&a==0){sQueryString="&block_this_user="+b}else{if(b==0&&a==1){sQueryString="&add_block_user="+a+"&block_this_user="+b+"&u_username="+this.get("username")+"&block_reason="+this.get("block_reason")}else{if(b==2){sQueryString="&block_this_user="+b+"&block_id="+this.get("block_id")}}}return utils.buildWebServiceUrl("zz_pg_account_setting.php",sQueryString)},dataType:"json",defaults:{error_msg:""}});

window.md_User=Backbone.Model.extend({url:function(){var b=this.pluck("type");if(b==constants.searchForMyMatches){var a="&type="+b;if(this.pluck("sort_order")[0]!=undefined){a=a+"&sort_order="+this.pluck("sort_order")[0]+"&sort_field="+this.pluck("sort_field")[0]}return utils.buildWebServiceUrl("zz_pg_user_interaction_details_list.php",a)}else{a="&searchFor="+b;if(app.m_objSearchParam!=null){$.each(app.m_objSearchParam.attributes,function(c,d){a+="&"+c+"="+d})}}return utils.buildWebServiceUrl("zz_pg_search_user_list.php",a)},dataType:"json",crossDomain:false,defaults:{currentPageNo:"1"}});

window.md_Log=Backbone.Model.extend({url:function(){return utils.buildWebServiceUrl("zz_pg_login_func.php","")},type:"post",dataType:"jsonp",fetch:function(){appLogger.writeLog("fetch","md_Log.js",appLogger.logLevelInfo,"Entering");var a=new Object();a.success=function(c,b){appLogger.writeLog("fetch","md_Log.js",appLogger.logLevelDebug,"Success");appLogger.removeLog()};a.error=function(c,b){appLogger.writeLog("fetch","md_Log.js",appLogger.logLevelDebug,"Error");console.log("Couldn't send log")};app.objLog.set({appLog:appLogger.prepareLogForPostRequest()});Backbone.sync("create",app.objLog,a);return this}});

window.md_Login=Backbone.Model.extend({url:function(){var a=this.get("actionType");if(a=="LOGIN"){if(this.get("getUserDetails")==1){sQueryString="&getUserDetails="+this.get("getUserDetails")}else{sQueryString="&username="+this.get("u_username")+"&password="+this.get("u_password")}return utils.buildWebServiceUrl("zz_pg_login_func.php",sQueryString)}else{if(a=="EDIT"){return utils.buildWebServiceUrl("zz_pg_edit_profile.php","")}else{if(a=="LOGOUT"){return utils.buildWebServiceUrl("zz_pg_logout.php","")}else{if(a=="AccountSetting"){return utils.buildWebServiceUrl("zz_pg_account_setting.php","")}else{if(a=="ChangePassword"){return utils.buildWebServiceUrl("zz_pg_change_password.php","")}}}}}},type:"post",dataType:"jsonp",defaults:{u_username:"",u_password:"",u_id:"",error_msg:""},fetch:function(b){appLogger.writeLog("fetch","md_Login.js",appLogger.logLevelInfo,"Entering");objThisModel=this;var a=new Object();a.success=function(d,c){try{appLogger.writeLog("fetch","md_Login.js",appLogger.logLevelDebug,"Success");appLogger.removeLog();if(d.error_msg!=null&&d.error_msg!=""&&d.error_msg!="Incompleted"&&d.error_msg!="Upgrade"){app.objLoginAuthentication.set(app.objLoginAuthentication_RollbackCopy);app.objLoginAuthentication.set({error_msg:d.error_msg});b.success(app.objLoginAuthentication,null)}else{objThisModel.clear();objThisModel.set(d);b.success(d,c)}}catch(f){appLogger.writeLog("fetch.success","md_Login.js",appLogger.logLevelError,"Error message :["+f.message+"] , model :["+JSON.stringify(d)+"]")}};a.error=function(d,c){try{appLogger.writeLog("fetch","md_Login.js",appLogger.logLevelError,"Error");if(objThisModel.get("actionType")=="EDIT"){app.objLoginAuthentication.set(app.objLoginAuthentication_RollbackCopy)}b.error(d,c)}catch(f){appLogger.writeLog("error","md_Login.js",appLogger.logLevelError,"Error message :["+f.message+"] , model :["+JSON.stringify(d)+"]")}};app.objLoginAuthentication.set({appLog:appLogger.prepareLogForPostRequest()});console.log("Edating :  Value appLogger.m_sLogCollectionForPostRequest = "+JSON.stringify(app.objLoginAuthentication));Backbone.sync("create",app.objLoginAuthentication,a);return this}});

window.md_AbuseReport=Backbone.Model.extend({url:function(){var a="&u_id="+this.get("u_id")+"&u_username="+this.get("u_username");return utils.buildWebServiceUrl("zz_pg_ban_request.php","sQueryString")},type:"post",dataType:"jsonp",fetch:function(b){appLogger.writeLog("fetch","md_AbuseReport.js",appLogger.logLevelInfo,"Entering");objThisModel=this;var a=new Object();a.success=function(d,c){try{appLogger.writeLog("fetch","md_AbuseReport.js",appLogger.logLevelDebug,"Success");if(d.error_msg!=null&&d.error_msg!=""){app.objAbuseReport.set({error_msg:d.error_msg});b.success(app.objAbuseReport,null)}else{objThisModel.clear();objThisModel.set(d);b.success(d,c)}}catch(f){appLogger.writeLog("fetch.success","md_AbuseReport.js",appLogger.logLevelError,"Error message :["+f.message+"] , model :["+JSON.stringify(d)+"]")}};a.error=function(d,c){appLogger.writeLog("fetch","md_AbuseReport.js",appLogger.logLevelError,"Error");b.error(d,c)};app.objAbuseReport.set({appLog:appLogger.prepareLogForPostRequest()});Backbone.sync("create",app.objAbuseReport,a);return this},defaults:{u_id:"",u_username:"",regard:"",comments:"",loginuser_id:"",loginuser_email:"",}});

window.md_EmailReceivedDetail_ActionType=Backbone.Model.extend({url:function(){if(this.get("action_type")==constants.emailReceivedDetail_reply){var a="&rec_id="+this.get("recid")+"&u_id="+this.get("u_id")+"&polite="+this.get("polite");return utils.buildWebServiceUrl("zz_pg_mail_reply.php",a)}else{if(this.get("action_type")==constants.emailReceivedDetail_photo|this.get("action_type")==constants.emailReceivedDetail_photoExpanded){var a="&rec_id="+this.get("recid")+"&type="+this.get("type");return utils.buildWebServiceUrl("zz_pg_mail_inbox_read.php",a)}else{if(this.get("action_type")==constants.emailReceivedDetail_reportForReview){var a="&rec_id="+this.get("recid");return utils.buildWebServiceUrl("zz_pg_msg_abuse.php",a)}}}},type:"post",dataType:"jsonp",defaults:{from_user:" ",from_user_id:" ",rec_id:" ",msg:" ",subject:" ",to_user:" ",no_u_photo:" ",to_user_name:" ",message:" ",mail_id:" ",click_submit:"0"},fetch:function(b){appLogger.writeLog("fetch","md_EmailReceivedDetail_ActionType.js",appLogger.logLevelInfo,"Entering "+this.get("action_type"));objThisModel=this;var a=new Object();a.success=function(d,c){try{appLogger.writeLog("fetch","md_EmailReceivedDetail_ActionType.js",appLogger.logLevelDebug,"Success");objThisModel.set(d);b.success(d,c);appLogger.removeLog()}catch(f){appLogger.writeLog("fetch.success","md_EmailReceivedDetail_ActionType.js",appLogger.logLevelError,"Error message :["+f.message+"] , model :["+JSON.stringify(d)+"]")}};a.error=function(d,c){appLogger.writeLog("fetch","md_EmailReceivedDetail_ActionType.js",appLogger.logLevelError,"Error");b.error(d,c)};if(this.get("action_type")==constants.emailReceivedDetail_photo|this.get("action_type")==constants.emailReceivedDetail_photoExpanded){app.objEmailAttachedPhoto.set({appLog:appLogger.prepareLogForPostRequest()});Backbone.sync("create",app.objEmailAttachedPhoto,a)}else{if(this.get("action_type")==constants.emailReceivedDetail_reply){app.objEmailReply.set({appLog:appLogger.prepareLogForPostRequest()});Backbone.sync("create",app.objEmailReply,a)}else{if(this.get("action_type")==constants.emailReceivedDetail_reportForReview){app.objEmailReportForReview.set({appLog:appLogger.prepareLogForPostRequest()});Backbone.sync("create",app.objEmailReportForReview,a)}}}return this}});

window.md_AppConfig_Setting=Backbone.Model.extend({url:function(){var a="";return utils.buildWebServiceUrl("zz_pg_appConfig.php",a)},dataType:"jsonp",defaults:{}});

window.md_DeleteItem=Backbone.Model.extend({url:function(){var a="&rec_id="+this.get("mail_id")+"&type="+this.get("type")+"&deletetype="+this.get("deletetype");return utils.buildWebServiceUrl("zz_pg_delete_item.php",a)},dataType:"json",defaults:{rec_id:0}});

window.md_Wink=Backbone.Model.extend({url:function(){var a="&u_id="+this.get("user_id")+"&click_confirm="+this.get("click_confirm");return utils.buildWebServiceUrl("zz_pg_wink_pop.php",a)},dataType:"json",defaults:{user_id:0,click_confirm:0}});

window.md_FaqList=Backbone.Model.extend({url:function(){return utils.buildWebServiceUrl("zz_pg_faq.php","")},dataType:"jsonp"});

window.md_ContactUs=Backbone.Model.extend({url:function(){return utils.buildWebServiceUrl("zz_pg_contactus.php","")},type:"post",dataType:"jsonp",fetch:function(b){appLogger.writeLog("fetch","md_ContactUs.js",appLogger.logLevelInfo,"Entering");objThisModel=this;var a=new Object();a.success=function(d,c){try{appLogger.writeLog("fetch","md_ContactUs.js",appLogger.logLevelDebug,"Success");appLogger.removeLog();if(d.error_msg!=null&&d.error_msg!=""){app.objContactUs.set({error_msg:d.error_msg});b.success(app.objContactUs,null)}else{objThisModel.clear();objThisModel.set(d);b.success(d,c)}}catch(f){appLogger.writeLog("fetch.success","md_ContactUs.js",appLogger.logLevelError,"Error message :["+f.message+"] , model :["+JSON.stringify(d)+"]")}};a.error=function(d,c){appLogger.writeLog("fetch","md_ContactUs.js",appLogger.logLevelError,"Error");b.error(d,c)};app.objContactUs.set({appLog:appLogger.prepareLogForPostRequest()});Backbone.sync("create",app.objContactUs,a);return this},defaults:{name:"",username:"",email:"",regard:"",comments:""}});

window.md_Registration=Backbone.Model.extend({url:function(){PHPPage="";if(app.objRegistration.get("u_page")==constants.userRegistration1){PHPPage="zz_pg_registration.php"}else{if(app.objRegistration.get("u_page")==constants.userRegistration2){PHPPage="zz_pg_registrationII.php"}}return utils.buildWebServiceUrl(PHPPage,"")},type:"post",dataType:"jsonp",fetch:function(b){appLogger.writeLog("fetch","md_Registration.js",appLogger.logLevelInfo,"Entering");objThisModel=this;var a=new Object();a.success=function(d,c){try{appLogger.writeLog("fetch","md_Registration.js",appLogger.logLevelDebug,"Success");appLogger.removeLog();if(d.error_msg!=null&&d.error_msg!=""){app.objRegistration.set({error_msg:d.error_msg});b.success(app.objRegistration,null)}else{objThisModel.set(d);b.success(d,c)}}catch(f){appLogger.writeLog("fetch.success","md_Registration.js",appLogger.logLevelError,"Error message :["+f.message+"] , model :["+JSON.stringify(d)+"]")}};a.error=function(d,c){appLogger.writeLog("fetch","md_Registration.js",appLogger.logLevelError,"Error");b.error(d,c)};app.objRegistration.set({appLog:appLogger.prepareLogForPostRequest()});Backbone.sync("create",app.objRegistration,a);return this},defaults:{u_name:"",u_password:"",u_email_address:"",u_firstName:"",u_lastName:"",u_gender:"",u_dob:"",u_ethnicity:"",u_ethnicityText:"",u_country:"",u_countryText:"",u_state:"",u_stateText:"",u_city:"",u_postalcode:"",u_headline:"",u_description:"",u_first_date:"",u_interests:"",u_marital_text:"",u_looking_for_text:"",u_children_have_text:"",u_children_want_text:"",u_relocate_text:"",u_edu_level_text:"",u_profession:"",u_height_text:"",u_body_type_text:"",u_hair_color_text:"",u_eye_color_text:"",u_church_name:"",u_church_attendence_text:"",u_church_raised_in_text:"",u_denomination_text:"",u_denomination_other:"",u_language_text:"",u_smoke_text:"",u_drink_text:"",u_age_from:"",u_age_to:"",u_terms:""}});

window.md_ViewedMe=Backbone.Model.extend({url:function(){var a="&type="+this.pluck("user_interaction_type");if(this.pluck("sort_order")[0]!=undefined){a=a+"&sort_order="+this.pluck("sort_order")[0]+"&sort_field="+this.pluck("sort_field")[0]}return utils.buildWebServiceUrl("zz_pg_user_interaction_details_list.php",a)},dataType:"json",defaults:{id:0,user_id:0,username:"",last_login:"Jan 1, 2001",is_favorite:false,message_sent_date:"",message_status:"None",wink_sent_date:"Jan 1, 2001",no_of_viewed:"1",viewed_date:"Jan 1, 2001",photo:"",currentPageNo:"1"}});

window.md_UserProfile_SendMessage=Backbone.Model.extend({url:function(){var a="&u_id="+this.get("u_id");return utils.buildWebServiceUrl("zz_pg_mail_send.php",a)},type:"post",dataType:"jsonp",defaults:{subject:" ",u_id:" ",to_user:" ",message:" ",err1_sendmsg:" ",click_submit:"0"},fetch:function(b){appLogger.writeLog("fetch","md_UserProfile_SendMessage.js",appLogger.logLevelInfo,"Entering");objThisModel=this;var a=new Object();a.success=function(d,c){try{appLogger.writeLog("fetch","md_UserProfile_SendMessage.js",appLogger.logLevelDebug,"Success");appLogger.removeLog();objThisModel.set(d);b.success(d,c)}catch(f){appLogger.writeLog("fetch.success","md_UserProfile_SendMessage.js",appLogger.logLevelError,"Error message :["+f.message+"] , model :["+JSON.stringify(d)+"]")}};a.error=function(d,c){appLogger.writeLog("fetch","md_UserProfile_SendMessage.js",appLogger.logLevelError,"Error");b.error(d,c)};app.objUserProfile_SendMessage.set({appLog:appLogger.prepareLogForPostRequest()});Backbone.sync("create",app.objUserProfile_SendMessage,a);return this}});

window.md_PushNotificationSetting=Backbone.Model.extend({url:function(){return utils.buildWebServiceUrl("zz_pg_user_notification_settings.php",sQueryString)},type:"post",dataType:"jsonp",fetch:function(b){appLogger.writeLog("fetch","md_PushNotificationSetting.js",appLogger.logLevelInfo,"Entering");objThisModel=this;var a=new Object();a.success=function(d,c){try{appLogger.writeLog("fetch","md_PushNotificationSetting.js",appLogger.logLevelDebug,"Success");if(d.error_msg!=null&&d.error_msg!=""){app.objPushNotificationSetting.set({error_msg:d.error_msg});b.success(app.objContactUs,null)}else{objThisModel.clear();objThisModel.set(d);b.success(d,c)}}catch(f){appLogger.writeLog("fetch.success","md_PushNotificationSetting.js",appLogger.logLevelError,"Error message :["+f.message+"] , model :["+JSON.stringify(d)+"]")}};a.error=function(d,c){appLogger.writeLog("fetch","md_PushNotificationSetting.js",appLogger.logLevelError,"Error");b.error(d,c)};app.objPushNotificationSetting.set({user_id:app.m_nLoggedInUserId});Backbone.sync("create",app.objPushNotificationSetting,a);return this},defaults:{user_id:"0",},});

window.md_New_Communication_Count=Backbone.Model.extend({url:function(){var a=" ";return utils.buildWebServiceUrl("zz_pg_new_communication_count.php",a)},dataType:"json",defaults:{num_messages:"0"}});

window.md_EmailSentList=Backbone.Model.extend({url:function(){return utils.buildWebServiceUrl("zz_pg_mail_inbox.php","&mailtype=sent")},dataType:"jsonp",defaults:{from_user_name:"xyz",subject:"testing",read_status:"Unread",date:"Sep 13, 2012",status:"Unread",mail_id:"10342",photo:"imgs/correct-answer.png",currentPageNo:"1"}});

window.md_EmailReceivedDetail=Backbone.Model.extend({url:function(){var a="&rec_id="+this.get("recid")+"&type="+this.get("type")+"&from_userid="+this.get("from_userid")+"&block_user="+this.get("block_user");return utils.buildWebServiceUrl("zz_pg_mail_inbox_read.php",a)},dataType:"jsonp",defaults:{from_user:"xyz",from_user_id:" ",subject:"testing",to_user:"xyzzz",date:" ",message:"No",url:"",profile_image:" ",mail_id:" ",type:" ",no_u_photo:"0",click_ok:"0"}});

window.md_PrivacyPolicy=Backbone.Model.extend({url:function(){var b="";var a="";if(this.get("Type")==constants.privacyPolicy){a="zz_pg_privacy_policy.php"}else{if(this.get("Type")==constants.termsOfServices){a="zz_pg_terms.php"}}return utils.buildWebServiceUrl(a,b)},dataType:"json",defaults:{}});

window.vw_AppDropDown=Backbone.View.extend({el:$("body"),initialize:function(){},events:{"click .radioImage":"radioImage_onClick","click tr[name=trLstItem]":"trLstItem_onClick","click tr[name=trLstItemCheckAll]":"trLstItemCheckAll_onClick"},checkElementVisibility:function(a){appLogger.writeLog("checkElementVisibility","vw_AppDropDown.js",appLogger.logLevelDebug,"Entering");bflag=true;if(a.parent().hasClass("hide")){bflag=false;if(a.attr("fetchData")!=undefined&&a.attr("fetchData")=="true"){bflag=true}}return bflag},renderDropDown:function(b,a){appLogger.writeLog("renderDropDown","vw_AppDropDown.js",appLogger.logLevelDebug,"Entering");if(this.checkElementVisibility(b)){b.empty();app.before(function(){var c="";$.each(a.get("list"),function(d,e){c+="<option value='"+d+"'>"+e+"</option>"});b.html(c);b.val(a.get("selectedItem")).change();a=null},null,a)}return this},renderImages:function(a,b){appLogger.writeLog("renderImages","vw_AppDropDown.js",appLogger.logLevelDebug,"Entering");if(this.checkElementVisibility(a)){bhideOption=false;if(b.has("hideOption")){bhideOption=b.get("hideOption")}app.before(function(){var d="<table width='100%'><tr>";var f=0;var c="TD_WIDTH";$.each(b.get("list"),function(h,g){d+="<td width='"+c+"%'>";d+="<ul class='thumbnails'><li class='thumbnail radioImage'>";d+="<img src='img/"+g.toLowerCase()+".png' value = '"+g+"'/>";d+="<center><h6>"+h+"</h6></center>";d+="</li></ul>";d+="</td>";f++});d+="</tr></table>";var e=100/f;d=d.replace(/TD_WIDTH/g,e.toString());a.append(d);if(a.find("img[value="+b.get("selectedItem")+"]").length>0){a.find("img[value="+b.get("selectedItem")+"]").click()}if(bhideOption){a.find("img[value="+b.get("selectedItem")+"]").parents(":eq(2)").css({width:"100%"});a.find("img:NOT([value="+b.get("selectedItem")+"])").parents(":eq(2)").addClass("hide")}d=null;b=null},null,b)}return this},renderSmiles:function(b,a){appLogger.writeLog("renderSmiles","vw_AppDropDown.js",appLogger.logLevelDebug,"Entering");if(this.checkElementVisibility(b.parent().parent().parent().parent())){app.before(function(){var e="divscrollsmile";if(!constants.isTestingEnvironmentBrowser&&parseInt(utils.fetchVersion())<4){e="divheightsmile"}var c='<div class="'+e+'">';var d="";b.html("");nCount=0;$.each(a.get("list"),function(f,g){nCount++;d+='<ul class="nav ulsmileImage"><li>';d+="<a href=\"javascript:void(insertAtCaret('"+f+"'))\">";d+='<img src="img/smilies/'+g+'" border="0" onmousedown="return false">';d+="</a>";d+="</li></ul>";if(nCount%5==0){d='<ul class="nav ulsmilerow"><li>'+d+"</li></ul>";c+=d;d=""}});c+="</div>";b.append(c);$("#liSmile").find("a.dropdown-toggle, .dropdown-menu li div").on("touchstart",function(f){f.stopPropagation()});a=null},null,a)}return this},radioImage_onClick:function(b){appLogger.writeLog("radioImage_onClick","vw_AppDropDown.js",appLogger.logLevelDebug,"Entering");var a=$(b.currentTarget);a.closest("table").find(".selectedItem").removeClass("selectedItem");a.addClass("selectedItem")},getSelectedValue:function(a){appLogger.writeLog("getSelectedValue","vw_AppDropDown.js",appLogger.logLevelDebug,"Entering");if(a.is("select")){return a.val()}else{if(a.is("table")&&a.attr("type")=="list"){sSelectedIds="";a.find("tr[name=trLstItem][isSelected=1]").each(function(b,c){sSelectedIds+=$(c).attr("value")+","});sSelectedIds=sSelectedIds.substring(0,sSelectedIds.length-1);return sSelectedIds}else{if(a.find(".selectedItem").length>0){return a.find(".selectedItem").children("img").attr("value")}else{return""}}}},renderListBox:function(a,b){appLogger.writeLog("renderListBox","vw_AppDropDown.js",appLogger.logLevelDebug,"Entering");objThisView=this;app.before(function(){a.html("");a.addClass("table table-striped table-bordered");a.html(_.template(utils.get("tp_AppMultiSelectHeader"))({listHeading:a.attr("listHeading")}));$.each(b.get("list"),function(c,d){a.append(_.template(utils.get("tp_AppMultiSelectList"))({id:c,description:d}))});objThisView.showSelectedItems(a,b.get("userSelection"));b=null},null,b);return this},trLstItem_onClick:function(a){appLogger.writeLog("trLstItem_onClick","vw_AppDropDown.js",appLogger.logLevelDebug,"Entering");objTRLstItem=$(a.currentTarget);if(objTRLstItem.attr("isSelected")=="1"){this.lstItem_applyUnCheckedStyle(objTRLstItem)}else{this.lstItem_applyCheckedStyle(objTRLstItem)}a.stopImmediatePropagation()},trLstItemCheckAll_onClick:function(a){appLogger.writeLog("trLstItemCheckAll_onClick","vw_AppDropDown.js",appLogger.logLevelDebug,"Entering");objThisView=this;objTRLstItem=$(a.currentTarget);objTableLstItem=objTRLstItem.closest("table");if(objTRLstItem.attr("isSelected")=="1"){$.each(objTableLstItem.find("tr[name=trLstItem][isSelected=1]"),function(b,c){objThisView.lstItem_applyUnCheckedStyle($(c))})}else{$.each(objTableLstItem.find("tr[name=trLstItem][isSelected=0]"),function(b,c){objThisView.lstItem_applyCheckedStyle($(c))})}a.stopImmediatePropagation()},lstItem_applyCheckedStyle:function(a){appLogger.writeLog("lstItem_applyCheckedStyle","vw_AppDropDown.js",appLogger.logLevelDebug,"Entering");a.find("i").removeClass("icon-stop").addClass("icon-ok");a.find("button[name=btnLstItemCheckbox]").addClass("btn-primary");a.attr("isSelected","1");if(a.attr("name")=="trLstItem"){this.lstItemCheckAll_applyCheckedUncheckedStyle(a)}},lstItem_applyUnCheckedStyle:function(a){appLogger.writeLog("lstItem_applyUnCheckedStyle","vw_AppDropDown.js",appLogger.logLevelDebug,"Entering");a.find("i").removeClass("icon-ok").addClass("icon-stop");a.find("button[name=btnLstItemCheckbox]").removeClass("btn-primary");a.attr("isSelected","0");if(a.attr("name")=="trLstItem"){this.lstItemCheckAll_applyCheckedUncheckedStyle(a)}},lstItemCheckAll_applyCheckedUncheckedStyle:function(a){appLogger.writeLog("lstItemCheckAll_applyCheckedUncheckedStyle","vw_AppDropDown.js",appLogger.logLevelDebug,"Entering");objTableLstItem=a.closest("table");objTRLstItemCheckAll=objTableLstItem.find("tr[name=trLstItemCheckAll]");nListItemCount=objTableLstItem.find("tr[name=trLstItem]").length;nListItemSelectionCount=objTableLstItem.find("tr[name=trLstItem][isSelected=1]").length;if(nListItemCount==nListItemSelectionCount){this.lstItem_applyCheckedStyle(objTRLstItemCheckAll);objTRLstItemCheckAll.find("button[name=btnLstItemCheckboxText]").html("&nbsp;Tap here to Un-select All")}else{this.lstItem_applyUnCheckedStyle(objTRLstItemCheckAll);objTRLstItemCheckAll.find("button[name=btnLstItemCheckboxText]").html("&nbsp;Tap here to Select All")}},showSelectedItems:function(a,b){appLogger.writeLog("showSelectedItems","vw_AppDropDown.js",appLogger.logLevelDebug,"Entering");objThisView=this;if(b!=null){$(b).each(function(c,d){objTrListItem=a.find("tr[name=trLstItem][value="+d+"]");objThisView.lstItem_applyCheckedStyle(objTrListItem)})}}});

window.vw_WinkSentList=Backbone.View.extend({m_sTemplate:"",m_objViewAppSort:null,initialize:function(){this.template=_.template(utils.get("tp_WinkSentList"));m_sTemplate="tp_DeleteListItem"},render:function(b){appLogger.writeLog("render","vw_WinkSentList.js",appLogger.logLevelDebug,"Entering");app.m_sSelectedTab="#tabWinks";m_objViewAppSort=new vw_AppSort();$(this.el).html(this.template());var a=$("#tblContainerWinkSentList",$(this.el));utils.renderAppTitleBar(a);utils.renderNotificationAppTabs(constants.tabType_Communication,a,app.m_sSelectedTab);utils.renderBottomClickControl(a);$("#swipeInfo",$(this.el)).append(" winks");var c=$("#divSort",$(this.el));$("#divSort",$(this.el)).removeClass("hide");m_objViewAppSort.renderSort(constants.tabType_WinkSent,c);this.displayWinkSentList(this.model,this.options.no_data_found_msg,this.options.user_interaction_type);this.registerSwipeUpEvent_WinkSentList();return this},events:{"click #btn_DeleteItemOk":"Onclick_DeleteItemOk","click #btn_DeleteItemCancel":"Onclick_DeleteItemCancel","click #hrefFetchNextRecord":"Onclick_GetMoreData"},Onclick_GetMoreData:function(){appLogger.writeLog("Onclick_GetMoreData","vw_WinkSentList.js",appLogger.logLevelDebug,"Entering");var b=this.options.user_interaction_type;var a=new cl_ViewedMe();a.add({user_interaction_type:b,});utils.getMoreData(this,app.objWinkSentList,a,function(e,d,c){app.objWinkSentList=e;c.displayWinkSentList(e,d,c.options.user_interaction_type)},function(e,d,c){app.objWinkSentList=e;c.displayWinkSentList(e,"No more Winks found!",c.options.user_interaction_type)},true,true)},Onclick_DeleteItemOk:function(a){appLogger.writeLog("Onclick_DeleteItemOk","vw_WinkSentList.js",appLogger.logLevelDebug,"Entering");ItemId=$(a.target).closest("table").prev("table").attr("ItemId");sMailType=" ";sActionType="WinkSent";i_tdDeletedItem=$(a.target).closest("table").parent("td").parent("tr");app.rt_DeleteItem(ItemId,sMailType,sActionType,i_tdDeletedItem)},Onclick_DeleteItemCancel:function(a){appLogger.writeLog("Onclick_DeleteItemCancel","vw_WinkSentList.js",appLogger.logLevelDebug,"Entering");$(a.target).closest("table").prev("table").removeClass("hide");$(a.target).closest("table").remove()},displayWinkSentList:function(c,a,d){appLogger.writeLog("displayWinkSentList","vw_WinkSentList.js",appLogger.logLevelDebug,"Entering");var b=$("#lstWinkSent",$(this.el));if(a!=" "){b.append("<table width='100%' class='table'><tr class='info'><td class='muted'><h6><center>"+a+"</center></h6></td></tr></table>");$("#trFetchNextRecord",$(this.el)).addClass("hide")}if(!(c.length>0)){$("#trFetchNextRecord",$(this.el)).addClass("hide")}_.each(c.models,function(e){e.set({searchType:d});b.append(new vw_WinkSentListItem({model:e}).render().el)},this)},registerSwipeUpEvent_WinkSentList:function(){appLogger.writeLog("registerSwipeUpEvent_WinkSentList","vw_WinkSentList.js",appLogger.logLevelDebug,"Entering");var b=this.options.no_data_found_msg;var a=this.options.user_interaction_type;var c=this.model;var d=this;$("#lstWinkSent",this.el).swipe({swipeUp:function(h,k,l,j,e){var f=$(h.target).closest('td[name="ItemSentWinkList"]').closest("tr").index();var i=$("td[name=ItemSentWinkList]",$(h.currentTarget)).length;if(f>=i-5){utils.writeConsoleLog("tr index = "+$(h.target).closest("tr").index());var g=1;if(app.objWinkSentList!=null&&app.objWinkSentList.length>0){g=parseInt(app.objWinkSentList.first().get("currentPageNo"))+1}if(g!=1){app.objWinkSentList=new cl_ViewedMe();app.objWinkSentList.add({user_interaction_type:a,currentPageNo:g,sort_order:(app.jsonSortAttribute.Sort_order!="none"?app.jsonSortAttribute.Sort_order:""),sort_field:(app.jsonSortAttribute.Sort_field!="none"?app.jsonSortAttribute.Sort_field:"")});app.before(function(){d.displayWinkSentList(app.objWinkSentList," ",d.options.user_interaction_type);app.objWinkSentList.first().set({currentPageNo:g})},function(){d.displayWinkSentList(app.objWinkSentList,"No more Winks found!",d.options.user_interaction_type)},app.objWinkSentList)}}},threshold:100,allowPageScroll:"vertical"})}});window.vw_WinkSentListItem=Backbone.View.extend({tagName:"tr",initialize:function(){this.template=_.template(utils.get("tp_WinkSentListItem"));this.model.bind("change",this.render,this);this.model.bind("destroy",this.close,this)},render:function(a){appLogger.writeLog("render","vw_WinkSentListItem.js",appLogger.logLevelDebug,"Entering");if(this.model.get("message_status")=="None"){this.model.set({date_lastmsg:"None"})}else{this.model.set({date_lastmsg:this.model.get("message_sent_date")})}$(this.el).html(this.template(this.model.toJSON()));$("a[name=lnkIsFavorite][value=false]",$(this.el)).addClass("hide");$("a[name=lnkAddToFavorite][value=true]",$(this.el)).addClass("hide");if("Message Not Yet Read"==this.model.get("message_status")|"None"==this.model.get("message_status")){$("small[name=Idlastmsgsent]",$(this.el)).removeClass("label label-light-gray");$("small[name=Idlastmsgsent]",$(this.el)).addClass("text-info");$("em[name=Idlastmsgsent]",$(this.el)).removeClass("label label-light-gray");$("em[name=Idlastmsgsent]",$(this.el)).addClass("text-info")}this.registerSwipeRightEvents_EmailReceivedList($(this.el).children("td[name=ItemSentWinkList]"));return this},registerSwipeRightEvents_EmailReceivedList:function(b){appLogger.writeLog("registerSwipeRightEvents_EmailReceivedList","vw_WinkSentListItem.js",appLogger.logLevelDebug,"Entering");var a=this;b.swipe({swipeRight:function(e,g,h,f,c){var d=$(e.currentTarget);d.children("table").addClass("hide");a.template=_.template(utils.get(m_sTemplate));d.append(a.template())},threshold:0})},events:{"click #btn_AddFavorite":"AddFavorite_onClick"},AddFavorite_onClick:function(){appLogger.writeLog("AddFavorite_onClick","vw_WinkSentListItem.js",appLogger.logLevelDebug,"Entering");var a=this.model.get("user_id");app.rt_AddFavorites(a)}});

window.vw_UserList=Backbone.View.extend({m_objViewAppSort:null,initialize:function(){},render:function(b){appLogger.writeLog("render","vw_UserList.js",appLogger.logLevelDebug,"Entering");var c="";m_objViewAppSort=new vw_AppSort();switch(this.options.type){case constants.searchForMyMatches:app.m_sSelectedTab="#tabMyMatches";c="tp_UserList";break;case constants.searchForOnlineToday:app.m_sSelectedTab="#tabOnlineToday";c="tp_UserList";break;case constants.searchForOnlineNow:app.m_sSelectedTab="#tabOnlineNow";c="tp_UserList";break;case constants.searchForUserSearch:app.m_sSelectedTab="#tabUserSearch";c="tp_UserList_UserSearch";break;case constants.searchForNewUser:app.m_sSelectedTab="#tabNewUser";c="tp_UserList";break;case constants.searchForBasicSearch:app.m_sSelectedTab="#tabBasicSearch";c="tp_UserList";break;case constants.searchForAdvanceSearch:app.m_sSelectedTab="#tabAdvanceSearch";c="tp_UserList";break;default:app.m_sSelectedTab="";break}this.template=_.template(utils.get(c));$(this.el).html(this.template());var a=$("#tblContainerUserList",$(this.el));if(this.options.type==constants.searchForUserSearch&&app.m_objSearchParam!=null){$("#txtSearchUserName",$(this.el)).attr("value",app.m_objSearchParam.get("u_username"));appConfigSetting.showHideConfigElements($("#tblContainerUserList",$(this.el)),"user_search")}if(this.options.type==constants.searchForMyMatches){$("#divSort",$(this.el)).removeClass("hide");var d=$("#divSort",$(this.el));m_objViewAppSort.renderSort(constants.searchForMyMatches,d)}if(this.options.type==constants.searchForOnlineNow){$("#divRefresh",$(this.el)).removeClass("hide");if(!constants.requiredFixedElements&&parseInt(utils.fetchVersion())<constants.versionForFixedUI){$("#divRefresh",$(this.el)).parent().removeClass("navbar fixedTop divRefreshOnlineNow");a.parent().css("border","0px")}}else{$("#divRefresh",$(this.el)).parent().removeClass("navbar fixedTop divRefreshOnlineNow")}utils.renderAppTitleBar(a);utils.renderAppTabs(constants.tabType_MyMatches,a,app.m_sSelectedTab);utils.renderBottomClickControl(a);$("#swipeInfo",$(this.el)).append(" users");this.displayUserList(this.model,this.options.no_data_found_msg,this.options.type,constants.nextUserList);if($("#lstUsers tr",$(this.el)).length>=10){$("#hrefMoveDown, #hrefMoveUp",$(this.el)).removeClass("hide")}this.registerSwipeUpEvent();return this},events:{"click #imgUserSearch":"imgUserSearch_onClick","keypress 'input[id = txtSearchUserName]'":"doEnterKey","click #lnkProfile":"lnkProfile_OnClick","click #btnSortOrder":"btnSortOrder_OnClick","click #hrefFetchNextRecord":"btnNextUserList_OnClick","click #btnPreviousUserList":"btnPreviousUserList_OnClick","touchstart #divRefresh":"btnRefresh_OnClick","click #hrefMoveDown":"hrefMoveDown_OnClick","click #hrefMoveUp":"hrefMoveUp_OnClick"},hrefMoveDown_OnClick:function(){$("html, body").animate({scrollTop:$("#lstUsers").height()},"fast")},hrefMoveUp_OnClick:function(){$("html, body").animate({scrollTop:0},"fast")},btnPreviousUserList_OnClick:function(){if($("#lblPageNo:first").text()!="1"){nCurrentPageNo=parseInt($("#lblPageNo:first").text())-2;app.objUserList.first().set({currentPageNo:nCurrentPageNo});this.Onclick_GetMoreData(constants.previousUserList)}},btnNextUserList_OnClick:function(){nCurrentPageNo=parseInt($("#lstUsers tr:last #lblPageNo").text());app.objUserList.first().set({currentPageNo:nCurrentPageNo});this.Onclick_GetMoreData(constants.nextUserList)},btnRefresh_OnClick:function(){app.rt_UserList_OnlineNow()},Onclick_GetMoreData:function(a){appLogger.writeLog("Onclick_GetMoreData","vw_UserList.js",appLogger.logLevelDebug,"Entering");var d=this.options.type;if(d==constants.searchForAdvanceSearch){var c=new cl_UserAdvanceSearch();c.add({type:d,searchParams:app.m_objSearchParam,});utils.getMoreData(this,app.objUserList,c,function(g,f,e){e.displayUserList(app.objUserList,f,d,a)},function(g,f,e){e.displayUserList(app.objUserList,"No more users found!",d,a)},true,false)}else{var b=new cl_User();b.add({type:d,sort_order:(app.jsonSortAttribute.Sort_order!="none"?app.jsonSortAttribute.Sort_order:""),sort_field:(app.jsonSortAttribute.Sort_field!="none"?app.jsonSortAttribute.Sort_field:"")});if(constants.searchForMyMatches){utils.getMoreData(this,app.objUserList,b,function(g,f,e){app.objUserList=g;e.displayUserList(g,f,d,a)},function(g,f,e){app.objUserList=g;e.displayUserList(g,"No more users found!",d,a)},true,true)}else{utils.getMoreData(this,app.objUserList,b,function(g,f,e){app.objUserList=g;e.displayUserList(g,f,d,a)},function(g,f,e){app.objUserList=g;e.displayUserList(g,"No more users found!",d,a)},true,false)}}},btnSortOrder_OnClick:function(a){appLogger.writeLog("btnSortOrder_OnClick","vw_UserList.js",appLogger.logLevelDebug,"Entering");thisButton=$(a.currentTarget);sSort_order=thisButton.attr("value");sSort_field=thisButton.parent().parent().find("td:first").attr("value");if(app.objUserList.length>0){app.objUserList.first().set({sort_order:sSort_order,sort_field:sSort_field,type:constants.searchForMyMatches})}else{app.objUserList.add({sort_order:sSort_order,sort_field:sSort_field,type:constants.searchForMyMatches})}app.rt_UserList(constants.searchForMyMatches)},lnkProfile_OnClick:function(a){appLogger.writeLog("lnkProfile_OnClick","vw_UserList.js",appLogger.logLevelDebug,"Entering");nUserListLength=app.objUserList.length;app.m_bUserListPersist=true;app.m_nPosition=window.scrollY;bLastRecord=false;sStrUserID=$(a.target).closest("tr");app.m_nUserID=sStrUserID.index();if(app.objUserList.length==0){bLastRecord=true}app.objUserList.reset();app.objUserList.add();app.objUserList.first().set({blastRecord:bLastRecord,searchType:this.options.type,sort_order:(app.jsonSortAttribute.Sort_order!="none"?app.jsonSortAttribute.Sort_order:""),sort_field:(app.jsonSortAttribute.Sort_field!="none"?app.jsonSortAttribute.Sort_field:"")})},imgUserSearch_onClick:function(){appLogger.writeLog("imgUserSearch_onClick","vw_UserList.js",appLogger.logLevelDebug,"Entering");var a=$("#txtSearchUserName").val();app.m_objSearchParam.set({u_username:a});app.rt_UserList("user_search")},doEnterKey:function(a){if(a.keyCode=="13"||a.which=="13"){this.imgUserSearch_onClick()}},displayUserList:function(a,b,f,c){appLogger.writeLog("displayUserList","vw_UserList.js",appLogger.logLevelDebug,"Entering");var g="";var e=$("#lstUsers",$(this.el));if(b!=" "){e.parent().find("tfoot").append("<tr class='info'><td colspan=2 class='muted'><h6><center>"+b+"</center></h6></td></tr>");$("#trFetchNextRecord",$(this.el)).addClass("hide")}if(a.length>0){g=a.first().get("currentPageNo");if(app.objUserList.length<=10){app.objUserList.invoke("set",{currentPageNo:g})}}else{$("#trFetchNextRecord",$(this.el)).addClass("hide")}if(c==constants.nextUserList){var d=0;app.objUserListClone.add(app.objUserList.models);_.each(a.models,function(h){h.set({searchType:f});e.append(new vw_UserListItem({model:h,PageNo:g}).render().el);d=d+1},this);if(d>constants.mobilePageSize){app.objUserList.reset();app.objUserList.add(app.objUserListClone.models.slice((parseInt((d-1)/constants.mobilePageSize)*constants.mobilePageSize),(d-1)))}if(app.objUserListClone.length>=constants.userListPageLimit){app.objUserListClone.remove(app.objUserListClone.models.slice(0,(constants.mobilePageSize)));e.find("tr:lt("+constants.mobilePageSize+")").remove()}}else{app.objUserListClone.add(app.objUserList.models.reverse(),{at:0});app.objUserListClone.remove(app.objUserListClone.models.slice((constants.userListPageLimit-constants.mobilePageSize),(constants.userListPageLimit)));tr=$("#lstUsers tr",$(this.el)).eq(0);app.objUserList.models.reverse();_.each(a.models,function(h){h.set({searchType:f});tr.before(new vw_UserListItem({model:h,PageNo:g}).render().el)},this);e.find("tr:gt("+(constants.userListPageLimit-constants.mobilePageSize-1)+")").remove()}if($("#lblPageNo:first",$(this.el)).text()=="1"||$("#lblPageNo:first",$(this.el)).text()==""){$("#btnPreviousUserList",$(this.el)).closest("td").addClass("hide")}else{$("#btnPreviousUserList",$(this.el)).closest("td").removeClass("hide")}},registerSwipeUpEvent:function(){appLogger.writeLog("registerSwipeUpEvent","vw_UserList.js",appLogger.logLevelDebug,"Entering");var c=this.options.type;var a=this.options.no_data_found_msg;var b=this.model;var d=this;$("#lstUsers ",this.el).swipe({swipeUp:function(g,j,k,i,e){var f=$(g.target).closest("tr");var h=f.nextAll("tr").length-1;if(h<=5){utils.writeConsoleLog("tr index = "+$(g.target).closest("tr").index());d.Onclick_GetMoreData(constants.nextUserList)}},swipeDown:function(g,j,k,i,e){var f=$(g.target).closest("tr");var h=f.prevAll("tr").length-1;if(h<=5){if($("#lblPageNo:first").text()!=1){nCurrentPageNo=parseInt($("#lblPageNo:first").text())-2;app.objUserList.first().set({currentPageNo:nCurrentPageNo});d.Onclick_GetMoreData(constants.previousUserList)}}},threshold:50,allowPageScroll:"vertical"})}});window.vw_UserListItem=Backbone.View.extend({tagName:"tr",initialize:function(){this.getFormattedAddress(this.model);this.template=_.template(utils.get("tp_UserListItem"));this.model.bind("change",this.render,this);this.model.bind("destroy",this.close,this)},render:function(a){appLogger.writeLog("render","vw_UserListItem.js",appLogger.logLevelDebug,"Entering");$(this.el).html(this.template(this.model.toJSON()));this.setLoginStatus(this.model.has("login_status")?this.model.get("login_status"):null);return this},getFormattedAddress:function(b){appLogger.writeLog("getFormattedAddress","vw_UserListItem.js",appLogger.logLevelDebug,"Entering");var a=null;if(b.get("searchType")==constants.searchForMyMatches){a=b.get("city")+","+b.get("state")+","+b.get("country")}else{if(b.get("country")==""){a=b.get("city")+","+b.get("state")}else{a=b.get("city")+","+b.get("country")}}b.set({formattedAddress:a})},setLoginStatus:function(a){appLogger.writeLog("setLoginStatus","vw_UserListItem.js",appLogger.logLevelDebug,"Entering");if(a!=null){if(a.search("now")!=-1){$("label[name=lblonline_now]",$(this.el)).removeClass("hide")}else{if(a.search("today")!=-1){$("label[name=lblonline_today]",$(this.el)).removeClass("hide")}}}}});

window.vw_UserProfile_SendMessage=Backbone.View.extend({m_sthisSelection:"",m_objViewAppDropDown:null,initialize:function(){m_objViewAppDropDown=new vw_AppDropDown();this.template=_.template(utils.get("tp_UserProfile_SendMessage"))},events:{"click #but_SendMessageSubmit":"onClick_SendMessageSubmit","focus textarea[name = smile]":"inputNameSmile_OnFocus","click #btn_AttachPhoto":"onClick_AttachPhoto"},render:function(c){appLogger.writeLog("render","vw_UserProfile_SendMessage.js",appLogger.logLevelDebug,"Entering");$(this.el).html(this.template(this.model.toJSON()));var b=$("#tblContainer_UserProfile_SendMessage",$(this.el));utils.renderAppTitleBar(b);utils.renderAppTabs(constants.tabType_Home,b,app.m_sSelectedTab);appConfigSetting.showHideConfigElements($(b,$(this.el)),"mail_send");var a=this.model.get("mailsent_successfully");if(a=="1"){var d=this.model.get("u_id");window.location="#users/"+d+"/profile"}utils.renderSmiles($("#td_SmileHeader",$(this.el)));m_objViewAppDropDown.renderSmiles($("#tblIterateSmiles",$(this.el)),new md_AppDropDown().set({dropdownType:constants.dropdown_smiles}));m_sthisSelection=null;return this},inputNameSmile_OnFocus:function(a){appLogger.writeLog("inputNameSmile_OnFocus","vw_UserProfile_SendMessage.js",appLogger.logLevelDebug,"Entering");m_sthisSelection=$(a.currentTarget)},onClick_SendMessageSubmit:function(){appLogger.writeLog("onClick_SendMessageSubmit","vw_UserProfile_SendMessage.js",appLogger.logLevelDebug,"Entering");var i=new Array();$("input[name=userImageChkBox]").filter(":checked").each(function(k,l){i.push(l.value)});var g=$("#txt_Subject").val();var j=$("#txt_Message").val();var e="Please enter subject and message";var d="Please enter subject";var c="Please enter message";if(g==""||j==""){if(g==""&&j==""){utils.showAppAlert(e,null)}else{if(g==""){utils.showAppAlert(d,null)}else{utils.showAppAlert(c,null)}}}else{var f="1";var a=this.model.get("u_id");var b=this.model.get("arr_sendmessage_error");var h=" ";if(b!=""){var f="0"}app.objUserProfile_SendMessage.set({subject:$("#txt_Subject").val(),message:$("#txt_Message").val(),click_submit:f,arr_img_ids:i});app.rt_UserProfile_SendMessage(a,h)}},onClick_AttachPhoto:function(){appLogger.writeLog("onClick_AttachPhoto","vw_UserProfile_SendMessage.js",appLogger.logLevelDebug,"Entering");$('tr[name="Attachphoto"]',$(this.el)).removeClass("hide")}});

window.vw_EmailSentDetail=Backbone.View.extend({tagName:"divSentContainer",initialize:function(){this.template=_.template(utils.get("tp_EmailSentDetail"));try{app.i_CurrentPageSentList=app.objSentList.first().get("currentPageNo")}catch(a){console.log("Exception in vw_EmailSentDetail cannot set current page no. : "+a)}},events:{"click #btn_ViewPhoto":"onClick_ViewPhoto"},showEnlargedPhoto:function(a){appLogger.writeLog("showEnlargedPhoto","vw_EmailSentDetail.js",appLogger.logLevelDebug,"Entering");utils.writeConsoleLog("Clicked photo for viewing enlarged image");$("#divEnlargedPhoto","body").remove();$("body").append('<div id="divEnlargedPhoto" class="modal hide fade in "><div class="modal-header">	<button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button></div><div class="modal-body"><img id="imgEnlargedPhoto"></div></div>');sEnlargedImageUrl=$(a.target).closest("a").attr("enlargedPhoto");$("#imgEnlargedPhoto","body").attr("src",sEnlargedImageUrl)},render:function(c){appLogger.writeLog("render","vw_EmailSentDetail.js",appLogger.logLevelDebug,"Entering");var d="";switch(this.options.sDisplayType){case constants.emailSentDetail_photoExpanded:d="tp_UserProfile_PhotoExpanded";break;default:d="tp_EmailSent_Photo";break}sDecodedMessage=utils.base64_decode(this.model.get("message"));this.model.set({message:sDecodedMessage});$(this.el).html(this.template(this.model.toJSON()));var b=$("#tblContainerSentDetail",$(this.el));utils.renderAppTitleBar(b);appConfigSetting.showHideConfigElements($(b,$(this.el)),"mail_sent_read");$('td[name="0"]',$(this.el)).addClass("hide");this.template=_.template(utils.get(d));var a=$("#divSentContainer",$(this.el));a.html(this.template(this.model.toJSON()));return this},onClick_ViewPhoto:function(){appLogger.writeLog("onClick_ViewPhoto","vw_EmailSentDetail.js",appLogger.logLevelDebug,"Entering");$('tr[name="btn_Viewphoto"]',$(this.el)).addClass("hide");$('tr[name="Idviewphoto"]',$(this.el)).removeClass("hide")}});

window.vw_AbuseReport=Backbone.View.extend({initialize:function(){this.template=_.template(utils.get("tp_AbuseReport"))},render:function(b){appLogger.writeLog("render","vw_AbuseReport.js",appLogger.logLevelDebug,"Entering");$(this.el).html(this.template(this.model.toJSON()));var a=$("#tblAbuseReport",$(this.el));if(this.options.Name=="Scammer"){a.find("legend").html("Scammer")}else{a.find("legend").html("Abuse Report")}utils.renderAppTitleBar(a);appConfigSetting.showHideConfigElements($("#tblAbuseReport",$(this.el)),constants.page_AbuseReport);m_objViewAppDropDown=new vw_AppDropDown();m_objViewAppDropDown.renderDropDown($("#dropdown_AbuseReportRegarding",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_AbuseReport,dropdownType:constants.dropdown_AbuseReportRegarding,userSelection:app.objAbuseReport.get("regard")==undefined?"":app.objAbuseReport.get("regard")}));return this},events:{"click #btnAbuseReportSubmit":"btnAbuseReportSubmit_OnClick","click #btnAbuseReportCancel":"btnAbuseReportCancel_OnClick",},btnAbuseReportSubmit_OnClick:function(){var c=this.options.u_id;var a=app.objLoginAuthentication.get("u_id");var b=app.objLoginAuthentication.get("u_email");appLogger.writeLog("btnAbuseReportSubmit_OnClick","vw_AbuseReport.js",appLogger.logLevelDebug,"Entering");app.objAbuseReport.set({u_id:c,loginuser_id:a,loginuser_email:b,u_username:$("#txt_UserName").val(),regard:m_objViewAppDropDown.getSelectedValue($("#dropdown_AbuseReportRegarding")),comments:$("#txtArea_AbuseReportComments").val(),});app.rt_AbuseReport_submit()},btnAbuseReportCancel_OnClick:function(){appLogger.writeLog("btnAbuseReportCancel_OnClick","vw_AbuseReport.js",appLogger.logLevelDebug,"Entering");app.navigate("users/"+this.options.u_id+"/profile",{trigger:true})}});

window.vw_EmailReceivedList=Backbone.View.extend({m_sTemplate:"",m_objViewAppSort:null,i_currentPageNumber:1,initialize:function(){this.template=_.template(utils.get("tp_EmailReceivedList"));m_sTemplate="tp_DeleteListItem"},render:function(b){appLogger.writeLog("render","vw_EmailReceivedList.js",appLogger.logLevelDebug,"Entering");m_objViewAppSort=new vw_AppSort();app.m_sSelectedTab="#tabMessage";$(this.el).html(this.template());var a=$("#tblContainerInboxList",$(this.el));utils.renderAppTitleBar(a);utils.renderNotificationAppTabs(constants.tabType_Communication,a,app.m_sSelectedTab);utils.renderBottomClickControl(a);$("#swipeInfo",$(this.el)).text("View older messages");var c=$("#divSort",$(this.el));$("#divSort",$(this.el)).removeClass("hide");m_objViewAppSort.renderSort(constants.tabType_Inbox,c);this.displayInboxList(this.model,this.options.no_data_found_msg,"next");this.registerSwipeUpEvent_EmailReceivedList();$("#UserExtraInfo",$(this.el)).popover({placement:"right",title:"Navigation info",html:true,content:"<ul> <li> Swipe up to get older messages.</li> <li>Swipe down to get newer messages.</li><li>Swipe right to delete message.</li> <li> Click on the icon again to hide this message.</li></ul>"});return this},events:{"click #linkSent":"Sent","click #btn_DeleteItemOk":"Onclick_DeleteItemOk","click #btn_DeleteItemCancel":"Onclick_DeleteItemCancel","click #hrefFetchNextRecord":"Onclick_GetMoreData","click div[currentPageNumber]":"setReturnCurrentPage","click #buttonPrevious":"previousRecords","click #UserExtraInfo":"showExtraInfo","click linkSent":"navigateToSentList"},navigateToSentList:function(){app.rt_SentListFromHome()},showExtraInfo:function(){$("#UserExtraInfo").popover({placement:"right",title:"Navigation info",content:"Swipe up to get older messages and swipe down to get newer messages. Click on the icon again to hide this message."})},previousRecords:function(){var a=0;a=parseInt($("#lstInbox tr:first").find("div[currentpagenumber]").attr("currentpagenumber"));if(!(app.objInboxList.first().get("currentPageNo")-1<a)){app.objInboxList.first().set({currentPageNo:a})}if(app.objInboxList.first().get("currentPageNo")!=0){app.objInboxList.first().set({currentPageNo:app.objInboxList.first().get("currentPageNo")-2});utils.getMoreData(this,app.objInboxList,new cl_EmailReceived(),function(d,c,b){app.objInboxList=d;b.displayInboxList(d,c,"previous")},function(d,c,b){app.objInboxList=d;b.displayInboxList(d,c,"previous")},false,true)}},setReturnCurrentPage:function(b){try{app.objInboxList.first().set({currentPageNo:$(b.currentTarget).parent().find("div[currentpagenumber]").attr("currentpagenumber")});console.log("Current pg : "+app.objInboxList.first().get("currentPageNo"))}catch(a){console.log("Exception occured setReturnCurrentPage() in vw_EmailRecievedList : "+a)}},Onclick_GetMoreData:function(b){appLogger.writeLog("Onclick_GetMoreData","vw_EmailReceivedList.js",appLogger.logLevelDebug,"Entering");var a=0;a=parseInt($("#lstInbox tr:last").parent().parent().parent().attr("currentpagenumber"));if(!(app.objInboxList.first().get("currentPageNo")+1>a)){app.objInboxList.first().set({currentPageNo:a})}utils.getMoreData(this,app.objInboxList,new cl_EmailReceived(),function(e,d,c){app.objInboxList=e;c.displayInboxList(e,d,"next")},function(e,d,c){app.objInboxList=e;c.displayInboxList(e,d,"next")},false,true)},Sent:function(){appLogger.writeLog("Sent","vw_EmailReceivedList.js",appLogger.logLevelDebug,"Entering");$("#linkSent").attr("href","#userSent");utils.showProgressBar()},Onclick_DeleteItemOk:function(a){appLogger.writeLog("Onclick_DeleteItemOk","vw_EmailReceivedList.js",appLogger.logLevelDebug,"Entering");nMailId=$(a.target).closest("table").prev("div").find("table").attr("mailId");sMailType=$(a.target).closest("table").prev("div").find("table").attr("mailType");sActionType="received";i_tdDeletedItem=$(a.target).closest("table").parent("td").parent("tr");app.rt_DeleteItem(nMailId,sMailType,sActionType,i_tdDeletedItem)},Onclick_DeleteItemCancel:function(a){appLogger.writeLog("Onclick_DeleteItemCancel","vw_EmailReceivedList.js",appLogger.logLevelDebug,"Entering");$(a.target).closest("table").prev("div").removeClass("hide");$(a.target).closest("table").remove()},displayInboxList:function(c,b,a){appLogger.writeLog("displayInboxList","vw_EmailReceivedList.js",appLogger.logLevelDebug,"Entering");var g=$("<div></div>");var f=$("#lstInbox",$(this.el));var d=this;if(b!=" "){if(!($("#lastPageReachedInfo").length>0)){f.append("<table id='lastPageReachedInfo' width='100%' class='table'><tr class='info'><td class='muted'><h6><center>"+b+"</center></h6></td></tr></table>")}$("#trFetchNextRecord",$(this.el)).addClass("hide")}if(!(c.length>0)){$("#trFetchNextRecord",$(this.el)).addClass("hide");if(!($("#lstInbox div[currentpagenumber]").length>0)){$(this.el).find("#buttonPrevious").attr("class","hide")}}if(a=="next"){_.each(c.models,function(i){console.log("Next currentPageNo : "+c.first().get("currentPageNo"));i.set({currentPageNo:c.first().get("currentPageNo")});f.append(new vw_EmailReceivedListItem({model:i}).render().el)},this)}else{if(a=="previous"){_.each(c.models,function(i){console.log("Previous currentPageNo : "+c.first().get("currentPageNo"));i.set({currentPageNo:c.first().get("currentPageNo")});g.append(new vw_EmailReceivedListItem({model:i}).render().el)},this);var h=$(g).html();f.prepend(h)}}try{if(c.first().get("currentPageNo")==1){$(this.el).find("#buttonPrevious").attr("class","hide")}}catch(e){c.add({currentPageNo:this.i_currentPageNumber});console.log("Exception : "+e)}},registerSwipeUpEvent_EmailReceivedList:function(){appLogger.writeLog("registerSwipeUpEvent_EmailReceivedList","vw_EmailReceivedList.js",appLogger.logLevelDebug,"Entering");var b=this.options.no_data_found_msg;var c=this.model;var a=this;$("#lstInbox",this.el).swipe({swipe:function(e,m,d,i,l){var n=$(e.target).closest('td[name="ItemInboxList"]').closest("tr").index();var h=$('td[name="ItemInboxList"]',$(e.currentTarget)).length;if(m=="up"){if(n>=h-5){utils.writeConsoleLog("tr index = "+$(e.target).closest("tr").index());var j=1;var g=1;var f=0;g=parseInt(app.objInboxList.first().get("currentPageNo"));if(app.objInboxList!=null&&app.objInboxList.length>0){j=parseInt(app.objInboxList.first().get("currentPageNo"))+1}f=parseInt($("#lstInbox .dotted-seperator tr:last").parent().parent().parent().attr("currentpagenumber"));if(!(j>f)){j=f+1;g=f}if(j!=1){app.objInboxList=new cl_EmailReceived();app.objInboxList.add({currentPageNo:j,sort_order:(app.jsonSortAttribute.Sort_order!="none"?app.jsonSortAttribute.Sort_order:""),sort_field:(app.jsonSortAttribute.Sort_field!="none"?app.jsonSortAttribute.Sort_field:"")});app.before(function(){app.objInboxList.first().set({currentPageNo:j});a.displayInboxList(app.objInboxList," ","next")},function(){a.i_currentPageNumber=g;a.displayInboxList(app.objInboxList,"There are no more messages","next")},app.objInboxList)}}}else{if(m=="down"){if(n>=0&&n<=5){utils.writeConsoleLog("tr index = "+$(e.target).closest("tr").index());var k=1;var o=0;if(app.objInboxList!=null&&app.objInboxList.length>0){k=parseInt(app.objInboxList.first().get("currentPageNo"))-1}o=parseInt($("#lstInbox tr:first").find("div[currentpagenumber]").attr("currentpagenumber"));if(!(k<o)){k=o-1}if(k!=0){app.objInboxList=new cl_EmailReceived();app.objInboxList.add({currentPageNo:k,sort_order:(app.jsonSortAttribute.Sort_order!="none"?app.jsonSortAttribute.Sort_order:""),sort_field:(app.jsonSortAttribute.Sort_field!="none"?app.jsonSortAttribute.Sort_field:"")});app.before(function(){app.objInboxList.first().set({currentPageNo:k});a.displayInboxList(app.objInboxList," ","previous")},function(){a.displayInboxList(app.objInboxList,"There are no more messages","previous")},app.objInboxList)}}}}},threshold:50,allowPageScroll:"vertical"})},callback:function(){appLogger.writeLog("callback","vw_EmailReceivedList.js",appLogger.logLevelDebug,"Entering");setTimeout(function(){swipedLeftTdobj.hide().fadeIn()},1000)}});window.vw_EmailReceivedListItem=Backbone.View.extend({tagName:"tr",initialize:function(){this.template=_.template(utils.get("tp_EmailReceivedListItem"));this.model.bind("change",this.render,this);this.model.bind("destroy",this.close,this)},render:function(a){appLogger.writeLog("render","vw_EmailReceivedListItem.js",appLogger.logLevelDebug,"Entering");$(this.el).html(this.template(this.model.toJSON()));$('h5[name="Read"], div[name="Read"]',$(this.el)).parent().addClass("muted");$("td[name=tdIsReplied][value=No]",$(this.el)).addClass("hide");$('td[name=tdIsReplied][value=""]',$(this.el)).addClass("hide");this.registerSwipeRightEvents_EmailReceivedList($(this.el).children("td[name=ItemInboxList]"));return this},registerSwipeRightEvents_EmailReceivedList:function(b){appLogger.writeLog("registerSwipeRightEvents_EmailReceivedList","vw_EmailReceivedListItem.js",appLogger.logLevelDebug,"Entering");appLogger.writeLog("render","vw_EmailReceivedList.js",appLogger.logLevelDebug,"Entering");var a=this;b.swipe({swipeRight:function(e,g,h,f,c){var d=$(e.currentTarget);d.children("div").addClass("hide");a.template=_.template(utils.get(m_sTemplate));d.append(a.template())},threshold:0})}});

window.vw_UserProfile_UploadPhoto=Backbone.View.extend({initialize:function(){this.template=_.template(utils.get("tp_UserProfile_UploadPhoto"));this.m_bShowPhotoOnProfile=1;this.m_Rotate=0},events:{"click #lnkProfilePhoto":"lnkProfilePhoto_onClick","click #lnkPrivatePhoto":"lnkPrivatePhoto_onClick","click #btnGallery":"btnGallery_onClick","click #btnCamera":"btnCamera_onClick","click #btnViewUserProfile":"btnUserProfile_onClick","click *[name=btnRotate]":"btnRotate_onClick","click *[name=lnkEditPhoto]":"btnGetOriginalPhoto_onClick","click #btnSaveRotatedImage":"btnSaveRotatedImage_onClick"},btnGetOriginalPhoto_onClick:function(a){appLogger.writeLog("btnGetOriginalPhoto_onClick","vw_UserProfile_UploadPhoto.js",appLogger.logLevelDebug,"Entering");if(!constants.isTestingEnvironmentBrowser&&constants.platform_id==2){$("#divModalPhotoEdit").removeClass("fade")}this.m_Rotate=0;$("#imgRotateSrc").attr("src","img/ajax-loader.gif");$("#imgRotateSrc").removeClass("rotateImage");$("#imgRotateSrc").css({"-moz-transform":"rotate(0deg)","-webkit-transform":"rotate(0deg)","-o-transform":"rotate(0deg)","-ms-transform":"rotate(0deg)",transform:"rotate(0deg)"});thisButton=$(a.currentTarget);nUserImageID=thisButton.closest("td").attr("value");app.rt_RotateImage(nUserImageID,constants.photoRotation_init,0)},btnSaveRotatedImage_onClick:function(a){appLogger.writeLog("btnSaveRotatedImage_onClick","vw_UserProfile_UploadPhoto.js",appLogger.logLevelDebug,"Entering");if(this.m_Rotate!=0){app.rt_RotateImage(app.objImageRotate.get("PhotoID"),constants.photoRotation_apply,this.m_Rotate)}else{$("#divModalPhotoEdit").modal("hide")}},btnRotate_onClick:function(a){appLogger.writeLog("btnRotate_onClick","vw_UserProfile_UploadPhoto.js",appLogger.logLevelDebug,"Entering");thisButton=$(a.currentTarget);if(thisButton.attr("val")=="R"){this.m_Rotate=(this.m_Rotate-90)%360}else{this.m_Rotate=(this.m_Rotate+90)%360}$("#imgRotateSrc").css({"-moz-transform":"rotate("+this.m_Rotate+"deg)","-webkit-transform":"rotate("+this.m_Rotate+"deg)","-o-transform":"rotate("+this.m_Rotate+"deg)","-ms-transform":"rotate("+this.m_Rotate+"deg)",transform:"rotate("+this.m_Rotate+"deg)"})},btnUserProfile_onClick:function(){appLogger.writeLog("btnUserProfile_onClick","vw_UserProfile_UploadPhoto.js",appLogger.logLevelDebug,"Entering");app.navigate("#users/"+app.m_nLoggedInUserId+"/photoExpanded",{trigger:true})},lnkProfilePhoto_onClick:function(){appLogger.writeLog("lnkProfilePhoto_onClick","vw_UserProfile_UploadPhoto.js",appLogger.logLevelDebug,"Entering");this.m_bShowPhotoOnProfile=1},lnkPrivatePhoto_onClick:function(){appLogger.writeLog("lnkPrivatePhoto_onClick","vw_UserProfile_UploadPhoto.js",appLogger.logLevelDebug,"Entering");this.m_bShowPhotoOnProfile=0},render:function(b){appLogger.writeLog("render","vw_UserProfile_UploadPhoto.js",appLogger.logLevelDebug,"Entering");$(this.el).html(this.template);var a=$("#divEditProfile_UploadPhotoContainer",$(this.el));utils.renderAppTitleBar(a);$("#imgRotateSrc",$(this.el)).load(function(){if($("#imgRotateSrc").attr("src")!="img/ajax-loader.gif"){$("#imgRotateSrc").addClass("rotateImage")}else{$("#imgRotateSrc").removeClass("rotateImage")}});return this},displayPhotoList:function(){appLogger.writeLog("displayPhotoList","vw_UserProfile_UploadPhoto.js",appLogger.logLevelDebug,"Entering");var a=$("#divProfilePhotoContainer",$(this.el));this.arrUserPhotos=new cl_UserProfile_PhotoUpdate();objThisView=this;utils.showProgressBar();app.before(function(){utils.dismissProgressBar();a.html("");objThisView.objPhotoUpdate=new vw_UserProfile_PhotoUpdateList({model:objThisView.arrUserPhotos,profilePhotoContainer:a}).render()},function(){utils.dismissProgressBar();a.closest("tr").addClass("info");a.append("You haven't uploaded any photos yet!")},this.arrUserPhotos)},btnGallery_onClick:function(a){appLogger.writeLog("btnGallery_onClick","vw_UserProfile_UploadPhoto.js",appLogger.logLevelDebug,"Entering");this.capture(Camera.PictureSourceType.SAVEDPHOTOALBUM)},btnCamera_onClick:function(a){appLogger.writeLog("btnCamera_onClick","vw_UserProfile_UploadPhoto.js",appLogger.logLevelDebug,"Entering");this.capture(Camera.PictureSourceType.CAMERA)},capture:function(a){appLogger.writeLog("capture","vw_UserProfile_UploadPhoto.js",appLogger.logLevelDebug,"Entering");utils.writeConsoleLog("capture() : Entering");objThisView=this;$("#divModalPhotoSelection",$(this.el)).modal("hide");navigator.camera.getPicture(this.onCaptureSuccess,this.onCaptureFail,{destinationType:Camera.DestinationType.FILE_URI,sourceType:a,correctOrientation:false});utils.writeConsoleLog("capture() : Exiting")},onCaptureSuccess:function(c){appLogger.writeLog("onCaptureSuccess","vw_UserProfile_UploadPhoto.js",appLogger.logLevelDebug,"Entering");var a,f,b,e,d;utils.writeConsoleLog("onCaptureSuccess() : Entering");utils.showProgressBar();b=new FileUploadOptions();b.fileKey="user_photo";b.fileName=c.substr(c.lastIndexOf("/")+1)+".jpg";utils.writeConsoleLog("onCaptureSuccess() : 01) stored file name = "+b.fileName);b.mimeType="image/jpeg";var e=new Object();e.u_img_profile=objThisView.m_bShowPhotoOnProfile;b.params=e;f=new FileTransfer();utils.writeConsoleLog("onCaptureSuccess() : 02) initialized file transfer object and will now upload in next step");objShowView=objThisView;f.upload(c,utils.buildWebServiceUrl("zz_pg_user_image.php","&reg_date="+app.objLoginAuthentication.get("u_date")),function(g){utils.writeConsoleLog("In success callback");utils.dismissProgressBar();g.response=utils.base64_decode(g.response);var h=$.parseJSON(g.response);if(h.error_msg){utils.showAppAlert(h.error_msg,null)}else{utils.showAppAlert(h.success_msg,"Done");objShowView.objPhotoUpdate.displayDeletedPhotoList()}},function(g){utils.dismissProgressBar();utils.showAppAlert("Error occurred while uploading photo!",null)},b);utils.writeConsoleLog("onCaptureSuccess() : Exiting")},onCaptureFail:function(a){appLogger.writeLog("onCaptureFail","vw_UserProfile_UploadPhoto.js",appLogger.logLevelDebug,"Entering");utils.writeConsoleLog("onCaptureFail() : Entering");utils.showAppAlert("Failed because: "+JSON.stringify(a),null);utils.writeConsoleLog("onCaptureFail() : Exiting")},acknowledgeWebserviceResponse:function(){appLogger.writeLog("acknowledgeWebserviceResponse","vw_UserProfile_UploadPhoto.js",appLogger.logLevelDebug,"Entering");utils.writeConsoleLog("Acknowledged")}});

window.vw_UserProfile_Edit=Backbone.View.extend({m_objViewAppDropDown:null,m_sTemplate:"",m_sSelectedItem:"",m_sSelectedStep:0,m_sthisSelection:"",initialize:function(){m_objViewAppDropDown=new vw_AppDropDown();switch(this.options.sEditType){case constants.userProfile_EditProfileMenu:m_sTemplate="tp_UserProfile_EditProfileMenu";m_sSelectedItem="#tblEditMenu";m_sSelectedStep=0;break;case constants.userProfile_EditPrimaryInfo:m_sTemplate="tp_UserProfile_EditPrimaryInfo";m_sSelectedItem="#tblEditPrimaryInfo";m_sSelectedStep=1;break;case constants.userProfile_EditAddress:m_sTemplate="tp_UserProfile_EditAddress";m_sSelectedItem="#tblEditAddress";m_sSelectedStep=2;break;case constants.userProfile_EditEthnicityDenomination:m_sTemplate="tp_UserProfile_EditEthnicityDenomination";m_sSelectedItem="#tblEditEthnicityDenomination";m_sSelectedStep=3;break;case constants.userProfile_EditProfileDescriptives:m_sTemplate="tp_UserProfile_EditProfileDescriptives";m_sSelectedItem="#tblEditProfileDescriptives";m_sSelectedStep=4;break;case constants.userProfile_EditMaritalInfo:m_sTemplate="tp_UserProfile_EditMaritalInfo";m_sSelectedItem="#tblEditMaritalInfo";m_sSelectedStep=5;break;case constants.userProfile_EditEducationProfession:m_sTemplate="tp_UserProfile_EditEducationProfession";m_sSelectedItem="#tblEditEducationProfession";m_sSelectedStep=6;break;case constants.userProfile_EditPersonalityTraits:m_sTemplate="tp_UserProfile_EditPersonalityTraits";m_sSelectedItem="#tblEditPersonalityTraits";m_sSelectedStep=7;break;default:m_sTemplate="tp_UserProfile_EditPrimaryInfo";m_sSelectedItem="#tblEditPrimaryInfo";m_sSelectedStep=0;break}},render:function(a){appLogger.writeLog("render","vw_UserProfile_Edit.js",appLogger.logLevelDebug,"Entering");this.template=_.template(utils.get(m_sTemplate));$(this.el).html(this.template);var b=$(m_sSelectedItem,$(this.el));utils.renderAppTitleBar(b);app.objLoginAuthentication.set({u_description:utils.base64_decode(app.objLoginAuthentication.get("u_description"))});switch(m_sSelectedStep){case 1:utils.addConfigAttributeToElements(b.find("#divControlGroup_Gender"),"show_gender_dropdown");utils.addConfigAttributeToElements(b.find("#divControlGroup_EditDOB"),"show_dob_span");utils.addConfigAttributeToElements(b.find("#divControlGroup_EditProfileSmoke"),"show_smoke_dropdown");utils.addConfigAttributeToElements(b.find("#divControlGroup_EditProfileDrink"),"show_drink_dropdown");break;case 2:utils.addConfigAttributeToElements(b.find("#divControlGroup_EditProfileCountry"),"show_country_dropdown");utils.addConfigAttributeToElements(b.find("#divControlGroup_EditProfileState"),"show_state_dropdown");utils.addConfigAttributeToElements(b.find("#divControlGroup_EditProfileCity"),"show_city_txtbox");utils.addConfigAttributeToElements(b.find("#divControlGroup_EditProfilePostalCode"),"show_postal_code_txtbox");break;case 3:utils.addConfigAttributeToElements(b.find("#divControlGroup_EditProfileEthnicity"),"show_ethnicity_dropdown");utils.addConfigAttributeToElements(b.find("#divControlGroup_EditProfileDenomination"),"show_denomination_dropdown");break;case 4:utils.addConfigAttributeToElements(b.find("#divControlGroup_EditHeadline"),"show_headline_txtbox");utils.addConfigAttributeToElements(b.find("#divControlGroup_EditProfileDescription"),"show_descriptive_profile_txtbox");utils.addConfigAttributeToElements(b.find("#divControlGroup_EditFirstDate"),"show_first_date_description_txtbox");utils.addConfigAttributeToElements(b.find("#divControlGroup_EditMyInterest"),"show_interets_txtbox");utils.renderSmiles($("#td_SmileHeader",$(this.el)));utils.addConfigAttributeToElements(b.find("#td_SmileHeader .smileheader"),"show_smile_images_block");break;case 5:utils.addConfigAttributeToElements(b.find("#divControlGroup_EditProfileMarital"),"show_marital_status_dropdown");utils.addConfigAttributeToElements(b.find("#divControlGroup_EditProfileLookinFor"),"show_looking_for_dropdown");utils.addConfigAttributeToElements(b.find("#divControlGroup_EditProfileChildrenHave"),"show_have_children_dropdown");utils.addConfigAttributeToElements(b.find("#divControlGroup_EditProfileChildrenWant"),"show_want_childern_dropdown");utils.addConfigAttributeToElements(b.find("#divControlGroup_EditProfileRelocate"),"show_relocate_dropdown");break;case 6:utils.addConfigAttributeToElements(b.find("#divControlGroup_EditProfileEducation"),"show_education_level_dropdown");utils.addConfigAttributeToElements(b.find("#divControlGroup_EditProfileProfession"),"show_profession_txtbox");break;case 7:utils.addConfigAttributeToElements(b.find("#divControlGroup_EditProfileHeight"),"show_height_dropdown");utils.addConfigAttributeToElements(b.find("#divControlGroup_EditProfileBodyType"),"show_body_type_dropdown");utils.addConfigAttributeToElements(b.find("#divControlGroup_EditProfileHairColor"),"show_hair_color_dropdown");utils.addConfigAttributeToElements(b.find("#divControlGroup_EditProfileEyeColor"),"show_eye_color_dropdown");break}appConfigSetting.showHideConfigElements($(m_sSelectedItem,$(this.el)),constants.page_Edit_Profile);switch(m_sSelectedStep){case 0:appConfigSetting.hideRelatedDataForHiddenElements_ConfigSettings(null,null,$("#btn_EthnicityDenominationMenu",$(this.el)),"&",constants.page_Edit_Profile);appConfigSetting.hideRelatedDataForHiddenElements_ConfigSettings(null,null,$("#btn_EducationProfessionMenu",$(this.el)),"&",constants.page_Edit_Profile);break;case 1:m_objViewAppDropDown.renderImages($("#dropdown_Gender",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Edit_Profile,dropdownType:constants.dropdown_Gender,userSelection:app.objLoginAuthentication.get("u_gender"),hideOption:true}));$("#txt_DOB",$(this.el)).val(app.objLoginAuthentication.get("u_dob"));m_objViewAppDropDown.renderDropDown($("#dropdown_Smoke",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Edit_Profile,dropdownType:constants.dropdown_Smoke,userSelection:app.objLoginAuthentication.get("u_smoke")}));m_objViewAppDropDown.renderDropDown($("#dropdown_Drink",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Edit_Profile,dropdownType:constants.dropdown_Drink,userSelection:app.objLoginAuthentication.get("u_drink")}));$("#divCalender",$(this.el)).css({display:"none"});break;case 2:m_objViewAppDropDown.renderDropDown($("#dropdown_Country",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Edit_Profile,dropdownType:constants.dropdown_Country,userSelection:app.objLoginAuthentication.get("u_country")}));$("#dropdown_Country",$(this.el)).change(function(){m_objViewAppDropDown.renderDropDown($("#dropdown_State"),new md_AppDropDown().set({dropdownType:constants.dropdown_State,calledFrom:constants.page_Edit_Profile,filters:{u_country:this.value},userSelection:app.objLoginAuthentication.get("u_state")}))});$("#txt_City",$(this.el)).val(app.objLoginAuthentication.get("u_city"));$("#txt_PostalCode",$(this.el)).val(app.objLoginAuthentication.get("u_postalcode"));$("#dropdown_Country",$(this.el)).attr({disabled:"disabled"});break;case 3:appConfigSetting.hideRelatedDataForHiddenElements($("#dropdown_Ethnicity",$(this.el)).parent(),$("#dropdown_Denomination",$(this.el)).parent(),$("#tblEditEthnicityDenomination tr td legend",$(this.el)),"&");m_objViewAppDropDown.renderDropDown($("#dropdown_Ethnicity",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Edit_Profile,dropdownType:constants.dropdown_Ethnicity,userSelection:app.objLoginAuthentication.get("u_ethnicity")}));m_objViewAppDropDown.renderDropDown($("#dropdown_Denomination",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Edit_Profile,dropdownType:constants.dropdown_Denomination,userSelection:app.objLoginAuthentication.get("u_denomination_index")}));$("#txt_Denomination",$(this.el)).val(app.objLoginAuthentication.get("u_denomination"));break;case 4:if(!b.find("#td_SmileHeader .smileheader").hasClass("hide")){utils.addConfigAttributeToElements(b.find("#td_SmileHeader .smileheader"),"show_first_date_description_txtbox,show_descriptive_profile_txtbox");appConfigSetting.showHideConfigElements(b.find("#td_SmileHeader"),constants.page_Edit_Profile)}m_objViewAppDropDown.renderSmiles($("#tblIterateSmiles",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Edit_Profile,dropdownType:constants.dropdown_smiles}));m_sthisSelection=null;$("#txt_EditHeadline",$(this.el)).val(app.objLoginAuthentication.get("u_headline"));$("#txtArea_EditProfileDescription",$(this.el)).val(app.objLoginAuthentication.get("u_description"));$("#txtArea_EditFirstDate",$(this.el)).val(app.objLoginAuthentication.get("u_first_date"));$("#txt_EditMyInterest",$(this.el)).val(app.objLoginAuthentication.get("u_interests"));break;case 5:m_objViewAppDropDown.renderDropDown($("#dropdown_EditMaritalStatus",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Edit_Profile,dropdownType:constants.dropdown_Marital,userSelection:app.objLoginAuthentication.get("u_marital")}));m_objViewAppDropDown.renderDropDown($("#dropdown_EditLookingFor",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Edit_Profile,dropdownType:constants.dropdown_LookingFor,userSelection:app.objLoginAuthentication.get("u_looking_for")}));m_objViewAppDropDown.renderDropDown($("#dropdown_EditHaveChildren",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Edit_Profile,dropdownType:constants.dropdown_ChildrenHave,userSelection:app.objLoginAuthentication.get("u_children_have")}));m_objViewAppDropDown.renderDropDown($("#dropdown_EditWantChildren",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Edit_Profile,dropdownType:constants.dropdown_ChildrenWant,userSelection:app.objLoginAuthentication.get("u_children_want")}));m_objViewAppDropDown.renderDropDown($("#dropdown_EditRelocate",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Edit_Profile,dropdownType:constants.dropdown_Relocate,userSelection:app.objLoginAuthentication.get("u_relocate")}));break;case 6:appConfigSetting.hideRelatedDataForHiddenElements($("#dropdown_EditEducation",$(this.el)).parent(),$("#txt_EditProfession",$(this.el)).parent(),$("#tblEditEducationProfession tr td legend",$(this.el)),"&");m_objViewAppDropDown.renderDropDown($("#dropdown_EditEducation",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Edit_Profile,dropdownType:constants.dropdown_EduLevel,userSelection:app.objLoginAuthentication.get("u_edu_level")}));$("#txt_EditProfession",$(this.el)).val(app.objLoginAuthentication.get("u_profession"));break;case 7:m_objViewAppDropDown.renderDropDown($("#dropdown_EditHeight",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Edit_Profile,dropdownType:constants.dropdown_Height,userSelection:app.objLoginAuthentication.get("u_height")}));m_objViewAppDropDown.renderDropDown($("#dropdown_EditBodyType",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Edit_Profile,dropdownType:constants.dropdown_BodyType,userSelection:app.objLoginAuthentication.get("u_body_type")}));m_objViewAppDropDown.renderDropDown($("#dropdown_EditHairColor",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Edit_Profile,dropdownType:constants.dropdown_HairColor,userSelection:app.objLoginAuthentication.get("u_hair_color")}));m_objViewAppDropDown.renderDropDown($("#dropdown_EditEyeColor",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Edit_Profile,dropdownType:constants.dropdown_EyeColor,userSelection:app.objLoginAuthentication.get("u_eye_color")}));break;default:break}return this},events:{"click button[name = editProfileMenu]":"btnMenu_OnClick","click button[name = editCancel]":"btnCancel_OnClick","click #btnPrimaryInfoSave":"btnPrimaryInfoSave_OnClick","click #btnAddressSave":"btnAddressSave_OnClick","click #btnEthnicityDenominationSave":"btnEthnicityDenominationSave_OnClick","click #btnProfileDescriptivesSave":"btnProfileDescriptivesSave_OnClick","click #btnMaritalInfoSave":"btnMaritalInfoSave_OnClick","click #btnEducationProfessionSave":"btnEducationProfessionSave_OnClick","click #btnPersonalityTraitsSave":"btnPersonalityTraitsSave_OnClick","change #dropdown_Denomination":"dropdown_Denomination_OnChange","focus textarea[name = smile]":"inputNameSmile_OnFocus"},inputNameSmile_OnFocus:function(a){appLogger.writeLog("inputNameSmile_OnFocus","vw_UserProfile_Edit.js",appLogger.logLevelDebug,"Entering");m_sthisSelection=$(a.currentTarget)},divCalender_OnClick:function(){appLogger.writeLog("divCalender_OnClick","vw_UserProfile_Edit.js",appLogger.logLevelDebug,"Entering");this.showDatePicker_OnFocus();$("#txt_DOB",$(this.el)).scroller("show")},showDatePicker_OnFocus:function(){appLogger.writeLog("showDatePicker_OnFocus","vw_UserProfile_Edit.js",appLogger.logLevelDebug,"Entering");utils.writeConsoleLog("showDatePicker : entering");$("#txt_DOB",$(this.el)).scroller("destroy").scroller({preset:"date",theme:"Default",mode:"scroller",display:"modal",animate:"slidevertical",lang:"",dateOrder:"M ddyy",dateFormat:"mm/dd/yy",beforeShow:function(a,b){b.setDate($.scroller.parseDate("mm/dd/yy",a.value))}});utils.writeConsoleLog("showDatePicker : exiting")},btnMenu_OnClick:function(b){appLogger.writeLog("btnMenu_OnClick","vw_UserProfile_Edit.js",appLogger.logLevelDebug,"Entering");var a=$(b.currentTarget).attr("value");if(a=="editViewProfile"){window.location="#users/"+app.objLoginAuthentication.get("u_id")+"/profile"}else{app.rt_UserProfileEdit_Render(a)}},btnPrimaryInfoSave_OnClick:function(){appLogger.writeLog("btnPrimaryInfoSave_OnClick","vw_UserProfile_Edit.js",appLogger.logLevelDebug,"Entering");app.objLoginAuthentication_RollbackCopy.set(app.objLoginAuthentication);app.objLoginAuthentication.set({u_edit_type:"PrimaryInfo",u_gender:app.objLoginAuthentication.get("u_gender"),u_dob:$("#txt_DOB").val(),u_smoke:m_objViewAppDropDown.getSelectedValue($("#dropdown_Smoke")),u_drink:m_objViewAppDropDown.getSelectedValue($("#dropdown_Drink"))});utils.writeConsoleLog(" after setting selections loginAuth object = "+JSON.stringify(app.objLoginAuthentication.attributes));app.rt_UserProfileEdit_Save()},btnAddressSave_OnClick:function(){appLogger.writeLog("btnAddressSave_OnClick","vw_UserProfile_Edit.js",appLogger.logLevelDebug,"Entering");app.objLoginAuthentication_RollbackCopy.set(app.objLoginAuthentication);app.objLoginAuthentication.set({u_edit_type:"Address",u_country:app.objLoginAuthentication.get("u_country"),u_state:m_objViewAppDropDown.getSelectedValue($("#dropdown_State")),u_city:$("#txt_City").val(),u_postalcode:$("#txt_PostalCode").val()});app.rt_UserProfileEdit_Save()},btnEthnicityDenominationSave_OnClick:function(){appLogger.writeLog("btnEthnicityDenominationSave_OnClick","vw_UserProfile_Edit.js",appLogger.logLevelDebug,"Entering");app.objLoginAuthentication_RollbackCopy.set(app.objLoginAuthentication);app.objLoginAuthentication.set({u_edit_type:"EthnicityDenomination",u_ethnicity:m_objViewAppDropDown.getSelectedValue($("#dropdown_Ethnicity")),u_denomination_index:m_objViewAppDropDown.getSelectedValue($("#dropdown_Denomination")),u_denomination_other:$("#txt_Denomination").val()});app.rt_UserProfileEdit_Save()},dropdown_Denomination_OnChange:function(){appLogger.writeLog("dropdown_Denomination_OnChange","vw_UserProfile_Edit.js",appLogger.logLevelDebug,"Entering");if($("#dropdown_Denomination").val()=="12"){$("#txt_Denomination").removeClass("hide")}else{$("#txt_Denomination").addClass("hide")}},btnProfileDescriptivesSave_OnClick:function(){appLogger.writeLog("btnProfileDescriptivesSave_OnClick","vw_UserProfile_Edit.js",appLogger.logLevelDebug,"Entering");app.objLoginAuthentication_RollbackCopy.set(app.objLoginAuthentication);app.objLoginAuthentication.set({u_edit_type:"ProfileDescriptives",u_headline:$("#txt_EditHeadline").val(),u_description:$("#txtArea_EditProfileDescription").val(),u_first_date:$("#txtArea_EditFirstDate").val(),u_interests:$("#txt_EditMyInterest").val()});app.rt_UserProfileEdit_Save()},btnMaritalInfoSave_OnClick:function(){appLogger.writeLog("btnMaritalInfoSave_OnClick","vw_UserProfile_Edit.js",appLogger.logLevelDebug,"Entering");app.objLoginAuthentication_RollbackCopy.set(app.objLoginAuthentication);app.objLoginAuthentication.set({u_edit_type:"MaritalInfo",u_marital:m_objViewAppDropDown.getSelectedValue($("#dropdown_EditMaritalStatus")),u_looking_for:m_objViewAppDropDown.getSelectedValue($("#dropdown_EditLookingFor")),u_children_have:m_objViewAppDropDown.getSelectedValue($("#dropdown_EditHaveChildren")),u_children_want:m_objViewAppDropDown.getSelectedValue($("#dropdown_EditWantChildren")),u_relocate:m_objViewAppDropDown.getSelectedValue($("#dropdown_EditRelocate"))});app.rt_UserProfileEdit_Save()},btnEducationProfessionSave_OnClick:function(){appLogger.writeLog("btnEducationProfessionSave_OnClick","vw_UserProfile_Edit.js",appLogger.logLevelDebug,"Entering");app.objLoginAuthentication_RollbackCopy.set(app.objLoginAuthentication);app.objLoginAuthentication.set({u_edit_type:"EducationProfession",u_edu_level:m_objViewAppDropDown.getSelectedValue($("#dropdown_EditEducation")),u_profession:$("#txt_EditProfession").val()});app.rt_UserProfileEdit_Save()},btnPersonalityTraitsSave_OnClick:function(){appLogger.writeLog("btnPersonalityTraitsSave_OnClick","vw_UserProfile_Edit.js",appLogger.logLevelDebug,"Entering");app.objLoginAuthentication_RollbackCopy.set(app.objLoginAuthentication);app.objLoginAuthentication.set({u_edit_type:"PersonalityTraits",u_height:m_objViewAppDropDown.getSelectedValue($("#dropdown_EditHeight")),u_body_type:m_objViewAppDropDown.getSelectedValue($("#dropdown_EditBodyType")),u_hair_color:m_objViewAppDropDown.getSelectedValue($("#dropdown_EditHairColor")),u_eye_color:m_objViewAppDropDown.getSelectedValue($("#dropdown_EditEyeColor"))});app.rt_UserProfileEdit_Save()},btnCancel_OnClick:function(){appLogger.writeLog("btnCancel_OnClick","vw_UserProfile_Edit.js",appLogger.logLevelDebug,"Entering");app.rt_UserProfileEdit_Render(constants.userProfile_EditProfileMenu)},showError:function(){appLogger.writeLog("showError","vw_UserProfile_Edit.js",appLogger.logLevelDebug,"Entering");utils.writeConsoleLog("In show error function")}});

window.vw_UserList_BasicSearch=Backbone.View.extend({m_sTemplate:"",s_SelectedStep:0,m_objViewAppDropDown:null,initialize:function(){m_objViewAppDropDown=new vw_AppDropDown();switch(this.options.dropdown_type){case"step1":m_sTemplate="tp_UserList_BasicSearchStep1";s_SelectedStep=1;break;case"step2":m_sTemplate="tp_UserList_BasicSearchStep2";s_SelectedStep=2;break;default:"";break}},render:function(b){appLogger.writeLog("render","vw_UserList_BasicSearch.js",appLogger.logLevelDebug,"Entering");app.m_sSelectedTab="#tabBasicSearch";var c="";this.template=_.template(utils.get(m_sTemplate));$(this.el).html(this.template());switch(s_SelectedStep){case 1:m_objViewAppDropDown.renderImages($("#tdGenderImageContainer",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Basic_Search,dropdownType:constants.dropdown_Gender,userSelection:app.objLoginAuthentication.get("u_gender")}));m_objViewAppDropDown.renderDropDown($("#dropdown_AgeFrom",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Basic_Search,dropdownType:constants.dropdown_AgeFrom,userSelection:constants.empty}));m_objViewAppDropDown.renderDropDown($("#dropdown_AgeTo",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Basic_Search,dropdownType:constants.dropdown_AgeTo,userSelection:constants.empty}));m_objViewAppDropDown.renderDropDown($("#dropdown_LookingFor",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Basic_Search,dropdownType:constants.dropdown_LookingFor,userSelection:constants.empty}));break;case 2:m_objViewAppDropDown.renderDropDown($("#dropdown_Country",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Basic_Search,dropdownType:constants.dropdown_Country,userSelection:constants.empty}));$("#dropdown_Country",$(this.el)).change(function(){if(this.value!="1"){$("*[hideWhenNonUS]").addClass("hide")}else{$("*[hideWhenNonUS]").removeClass("hide")}m_objViewAppDropDown.renderDropDown($("#dropdown_State"),new md_AppDropDown().set({calledFrom:constants.page_Basic_Search,dropdownType:constants.dropdown_State,userSelection:constants.empty,filters:{u_country:this.value}}))});m_objViewAppDropDown.renderDropDown($("#dropdown_Distance",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Basic_Search,dropdownType:constants.dropdown_Distance,userSelection:constants.empty}));break;default:break}var a=$("#tblContainerUserList",$(this.el));appConfigSetting.showHideConfigElements(a,"basic_search");utils.renderAppTitleBar(a);utils.renderAppTabs(constants.tabType_MyMatches,a,app.m_sSelectedTab);return this},events:{"click #btn_GoToOfStep1":"btn_GoToOfStep1_onclick","click #btn_GoToOfStep2":"btn_GoToOfStep2_onclick"},btn_GoToOfStep1_onclick:function(){appLogger.writeLog("btn_GoToOfStep1_onclick","vw_UserList_BasicSearch.js",appLogger.logLevelDebug,"Entering");app.m_objSearchParam.set({u_seeking:m_objViewAppDropDown.getSelectedValue($("#tdGenderImageContainer")),age_from:m_objViewAppDropDown.getSelectedValue($("#dropdown_AgeFrom")),age_to:m_objViewAppDropDown.getSelectedValue($("#dropdown_AgeTo")),u_looking_for_value:m_objViewAppDropDown.getSelectedValue($("#dropdown_LookingFor"))})},btn_GoToOfStep2_onclick:function(){appLogger.writeLog("btn_GoToOfStep2_onclick","vw_UserList_BasicSearch.js",appLogger.logLevelDebug,"Entering");app.m_objSearchParam.set({u_country:m_objViewAppDropDown.getSelectedValue($("#dropdown_Country")),u_state:m_objViewAppDropDown.getSelectedValue($("#dropdown_State"))==null?"":m_objViewAppDropDown.getSelectedValue($("#dropdown_State")),u_city:$("#txt_City").val(),u_postalcode:$("#txt_Zipcode").val(),distance:m_objViewAppDropDown.getSelectedValue($("#dropdown_Distance"))})}});

window.vw_MySetting=Backbone.View.extend({m_objViewAppDropDown:null,m_sTemplate:"",m_sSelectedItem:"",initialize:function(){m_objViewAppDropDown=new vw_AppDropDown();switch(this.options.settingType){case constants.MySettingMenu:m_sTemplate="tp_MySettingMenu";m_sSelectedItem="#divMySettingMenu";break;case constants.MySetting_AgeRange:m_sTemplate="tp_MySetting_AgeRange";m_sSelectedItem="#tblMySetting_AgeRange";break;case constants.MySetting_BlockSmokerAndDrinker:m_sTemplate="tp_MySetting_BlockSmokerAndDrinker";m_sSelectedItem="#tblMySetting_BlockSmokerAndDrinker";break;case constants.MySetting_ProfileVisit:m_sTemplate="tp_MySetting_ProfileVisit";m_sSelectedItem="#tblMySetting_ProfileVisit";break;case constants.MySetting_OnlineStatus:m_sTemplate="tp_MySetting_OnlineStatus";m_sSelectedItem="#tblMySetting_OnlineStatus";break;case constants.MySetting_ForumPost:m_sTemplate="tp_MySetting_ForumPost";m_sSelectedItem="#tblMySetting_ForumPost";break;case constants.MySetting_BlockOutsideUsers:m_sTemplate="tp_MySetting_BlockOutsideUsers";m_sSelectedItem="#tblMySetting_BlockOutsideUsers";break;case constants.MySetting_HideFavoriteCount:m_sTemplate="tp_MySetting_HideFavoriteCount";m_sSelectedItem="#tblMySetting_HideFavoriteCount";break;case constants.MySetting_EmailNotifications:m_sTemplate="tp_MySetting_EmailNotifications";m_sSelectedItem="#tblMySetting_EmailNotifications";break;case constants.MySetting_BlockUsers:m_sTemplate="tp_MySetting_BlockedUsers";m_sSelectedItem="#tblMySetting_BlockedUsers";break;default:break}},render:function(a){appLogger.writeLog("render","vw_MySetting.js",appLogger.logLevelDebug,"Entering");this.template=_.template(utils.get(m_sTemplate));$(this.el).html(this.template(this.model.toJSON()));var b=$(m_sSelectedItem,$(this.el));utils.renderAppTitleBar(b);appConfigSetting.showHideConfigElements($(b,$(this.el)),"account_setting");objMySettingView=this;switch(this.options.settingType){case constants.MySettingMenu:if($("#email_PrivateMessage",$(this.el)).attr("value")==1){$("#email_PrivateMessage",$(this.el)).html("Yes")}else{$("#email_PrivateMessage",$(this.el)).html("No")}if($("#email_FavoriteMessage",$(this.el)).attr("value")==1){$("#email_FavoriteMessage",$(this.el)).html("Yes")}else{$("#email_FavoriteMessage",$(this.el)).html("No")}if(this.model.get("u_block_age1")==0){textBlockAge1="Any"}else{textBlockAge1=this.model.get("u_block_age1")}if(this.model.get("u_block_age2")==0){textBlockAge2="Any"}else{textBlockAge2=this.model.get("u_block_age2")}$("#mySetting_AllowAgeRange",$(this.el)).html(textBlockAge1+" to "+textBlockAge2);break;case constants.MySetting_AgeRange:m_objViewAppDropDown.renderDropDown($("#dropdown_AgeFrom",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_My_Settings,dropdownType:constants.dropdown_AgeFrom,userSelection:app.objLoginAuthentication.get("u_block_age1")}));m_objViewAppDropDown.renderDropDown($("#dropdown_AgeTo",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_My_Settings,dropdownType:constants.dropdown_AgeTo,userSelection:app.objLoginAuthentication.get("u_block_age2")}));break;case constants.MySetting_BlockSmokerAndDrinker:this.displayFlagsOnButtons();break;case constants.MySetting_ProfileVisit:if(app.objLoginAuthentication.get("u_i_viewed")=="Yes"){this.makeRadioButtonSelected("divProfileVisit","ProfileVisit_Yes")}else{this.makeRadioButtonSelected("divProfileVisit","ProfileVisit_No")}break;case constants.MySetting_OnlineStatus:if(app.objLoginAuthentication.get("u_want_to_use_chat")=="Yes"){this.makeRadioButtonSelected("divOnlineStatus","OnlineStatus_Yes")}else{this.makeRadioButtonSelected("divOnlineStatus","OnlineStatus_No")}break;case constants.MySetting_ForumPost:if(app.objLoginAuthentication.get("u_display_forum_post_in_profile")=="Yes"){this.makeRadioButtonSelected("divForumPost","ForumPost_Yes")}else{this.makeRadioButtonSelected("divForumPost","ForumPost_No")}break;case constants.MySetting_BlockOutsideUsers:this.displayFlagsOnButtons();break;case constants.MySetting_HideFavoriteCount:this.displayFlagsOnButtons();break;case constants.MySetting_EmailNotifications:$("#contactEmailAddress",$(this.el)).val(app.objLoginAuthentication.get("u_email"));if(app.objLoginAuthentication.get("u_block_notification_email")=="1"){this.makeRadioButtonSelected("divReceivedPrivateMsg","ReceivedPrivateMsg_Yes")}else{this.makeRadioButtonSelected("divReceivedPrivateMsg","ReceivedPrivateMsg_No")}if(app.objLoginAuthentication.get("u_block_notification_email_favorite")=="1"){this.makeRadioButtonSelected("divAddedFavorite","AddedFavorite_Yes")}else{this.makeRadioButtonSelected("divAddedFavorite","AddedFavorite_No")}if(app.objLoginAuthentication.get("u_wink_email")=="Yes"){this.makeRadioButtonSelected("divReceivedWink","ReceivedWink_Yes")}else{this.makeRadioButtonSelected("divReceivedWink","ReceivedWink_No")}break;case constants.MySetting_BlockUsers:this.displayBlockedUsersList();break;default:break}return this},events:{"click button[btnType=btnBlockSmoker]":"btnBlockSmoker_OnClick","click button[btnType=btnBlockDrinker]":"btnBlockDrinker_OnClick","click #btnBlockSmokerAndDrinkerSave":"btnBlockSmokerAndDrinkerSave_OnClick","click button[btnType=btnBlockOutsideUsers]":"btnBlockOutsideUsers_OnClick","click #btnBlockOutsideUsersSave":"btnBlockOutsideUsersSave_OnClick","click button[btnType=btnHideFavoriteCountUsers]":"btnHideFavoriteCountUsers_OnClick","click #btnHideFavoriteCountSave":"btnHideFavoriteCountSave_OnClick","click div[name=divMySettingYesNoGroup]":"divMySettingYesNoGroup_OnClick","click button[name = MySettingCancel]":"btnMySettingCancel_OnClick","click #btnAgeRangeSave":"btnAgeRangeSave_OnClick","click #btnProfileVisitSave":"btnProfileVisitSave_OnClick","click #btnOnlineStatusSave":"btnOnlineStatusSave_OnClick","click #btnForumPostSave":"btnForumPostSave_OnClick","click #btnEmailNotificationsSave":"btnEmailNotificationsSave_OnClick"},btnAgeRangeSave_OnClick:function(){appLogger.writeLog("btnAgeRangeSave_OnClick","vw_MySetting.js",appLogger.logLevelDebug,"Entering");app.objLoginAuthentication.set({u_block_age1:m_objViewAppDropDown.getSelectedValue($("#dropdown_AgeFrom")),u_block_age2:m_objViewAppDropDown.getSelectedValue($("#dropdown_AgeTo"))});app.rt_MySetting_Save()},btnBlockSmoker_OnClick:function(a){appLogger.writeLog("btnBlockSmoker_OnClick","vw_MySetting.js",appLogger.logLevelDebug,"Entering");thisButton=$(a.currentTarget);sBlockSmoker=thisButton.parent().children("button[name=btnBlockSmokerIcon]").val();sBlockSmoker=(sBlockSmoker=="Yes"?"No":"Yes");thisButton.parent().children("button[name=btnBlockSmokerIcon]").attr("value",sBlockSmoker);this.displayFlagsOnButtons();app.objLoginAuthentication.set({u_block_smoke:sBlockSmoker})},btnBlockDrinker_OnClick:function(a){appLogger.writeLog("btnBlockDrinker_OnClick","vw_MySetting.js",appLogger.logLevelDebug,"Entering");thisButton=$(a.currentTarget);sBlockDrinker=thisButton.parent().children("button[name=btnBlockDrinkerIcon]").val();sBlockDrinker=(sBlockDrinker=="Yes"?"No":"Yes");thisButton.parent().children("button[name=btnBlockDrinkerIcon]").attr("value",sBlockDrinker);this.displayFlagsOnButtons();app.objLoginAuthentication.set({u_block_drink:sBlockDrinker})},btnBlockSmokerAndDrinkerSave_OnClick:function(){appLogger.writeLog("btnBlockSmokerAndDrinkerSave_OnClick","vw_MySetting.js",appLogger.logLevelDebug,"Entering");app.rt_MySetting_Save()},btnBlockOutsideUsers_OnClick:function(a){appLogger.writeLog("btnBlockOutsideUsers_OnClick","vw_MySetting.js",appLogger.logLevelDebug,"Entering");thisButton=$(a.currentTarget);sBlockOutsideUsers=thisButton.parent().children("button[name=btnBlockOutsideUsersIcon]").val();sBlockOutsideUsers=(sBlockOutsideUsers=="Yes"?"No":"Yes");thisButton.parent().children("button[name=btnBlockOutsideUsersIcon]").attr("value",sBlockOutsideUsers);this.displayFlagsOnButtons();app.objLoginAuthentication.set({u_block_outside_country:sBlockOutsideUsers})},btnBlockOutsideUsersSave_OnClick:function(){appLogger.writeLog("btnBlockOutsideUsersSave_OnClick","vw_MySetting.js",appLogger.logLevelDebug,"Entering");app.rt_MySetting_Save()},btnHideFavoriteCountUsers_OnClick:function(a){appLogger.writeLog("btnHideFavoriteCountUsers_OnClick","vw_MySetting.js",appLogger.logLevelDebug,"Entering");thisButton=$(a.currentTarget);sHideFavoriteCountUsers=thisButton.parent().children("button[name=btnHideFavoriteCountIcon]").val();sHideFavoriteCountUsers=(sHideFavoriteCountUsers=="Yes"?"No":"Yes");thisButton.parent().children("button[name=btnHideFavoriteCountIcon]").attr("value",sHideFavoriteCountUsers);this.displayFlagsOnButtons();app.objLoginAuthentication.set({u_hide_num_fav:sHideFavoriteCountUsers})},btnHideFavoriteCountSave_OnClick:function(){appLogger.writeLog("btnHideFavoriteCountSave_OnClick","vw_MySetting.js",appLogger.logLevelDebug,"Entering");app.rt_MySetting_Save()},divMySettingYesNoGroup_OnClick:function(a){appLogger.writeLog("divMySettingYesNoGroup_OnClick","vw_MySetting.js",appLogger.logLevelDebug,"Entering");thisButton=$(a.currentTarget);this.makeRadioButtonSelected(thisButton.attr("id"),$(a.target).attr("id"))},btnProfileVisitSave_OnClick:function(){appLogger.writeLog("btnProfileVisitSave_OnClick","vw_MySetting.js",appLogger.logLevelDebug,"Entering");app.objLoginAuthentication.set({u_i_viewed:$("#divProfileVisit",$(this.el)).attr("value")});app.rt_MySetting_Save()},btnOnlineStatusSave_OnClick:function(){appLogger.writeLog("btnOnlineStatusSave_OnClick","vw_MySetting.js",appLogger.logLevelDebug,"Entering");app.objLoginAuthentication.set({u_want_to_use_chat:$("#divOnlineStatus",$(this.el)).attr("value")});app.rt_MySetting_Save()},btnForumPostSave_OnClick:function(){appLogger.writeLog("btnForumPostSave_OnClick","vw_MySetting.js",appLogger.logLevelDebug,"Entering");app.objLoginAuthentication.set({u_display_forum_post_in_profile:$("#divForumPost",$(this.el)).attr("value")});app.rt_MySetting_Save()},btnEmailNotificationsSave_OnClick:function(){appLogger.writeLog("btnEmailNotificationsSave_OnClick","vw_MySetting.js",appLogger.logLevelDebug,"Entering");app.objLoginAuthentication.set({u_email:$("#contactEmailAddress").val(),u_block_notification_email:$("#divReceivedPrivateMsg",$(this.el)).attr("value"),u_block_notification_email_favorite:$("#divAddedFavorite",$(this.el)).attr("value"),u_wink_email:$("#divReceivedWink",$(this.el)).attr("value")});app.objLoginAuthentication.set({add_block_user:"",block_this_user:0});app.rt_MySetting_Save()},btnMySettingCancel_OnClick:function(){appLogger.writeLog("btnMySettingCancel_OnClick","vw_MySetting.js",appLogger.logLevelDebug,"Entering");app.flagForMySettingCancel=true;window.location="#MySetting/"+constants.MySettingMenu},displayFlagsOnButtons:function(){appLogger.writeLog("displayFlagsOnButtons","vw_MySetting.js",appLogger.logLevelDebug,"Entering");$("button[name=*][value=Yes]",$(this.el)).addClass("btn-primary");$("button[name=*][value=Yes] i",$(this.el)).addClass("icon-ok");$("button[name=*][value=No]",$(this.el)).removeClass("btn-primary");$("button[name=*][value=No] i",$(this.el)).removeClass("icon-ok")},makeRadioButtonSelected:function(b,a){appLogger.writeLog("makeRadioButtonSelected","vw_MySetting.js",appLogger.logLevelDebug,"Entering");$("#"+a,$(this.el)).addClass("btn-info");$("#"+a,$(this.el)).siblings().removeClass("btn-info");$("#"+b,$(this.el)).attr("value",$("#"+a,$(this.el)).attr("text"))},displayBlockedUsersList:function(){app.rt_MySetting_Save()}});

window.vw_WinkReceivedList=Backbone.View.extend({m_sTemplate:"",m_objViewAppSort:null,initialize:function(){this.template=_.template(utils.get("tp_WinkReceivedList"));m_sTemplate="tp_DeleteListItem"},render:function(b){appLogger.writeLog("render","vw_WinkReceivedList.js",appLogger.logLevelDebug,"Entering");app.m_sSelectedTab="#tabWinks";m_objViewAppSort=new vw_AppSort();$(this.el).html(this.template());var a=$("#tblContainerWinkReceivedList",$(this.el));utils.renderAppTitleBar(a);utils.renderNotificationAppTabs(constants.tabType_Communication,a,app.m_sSelectedTab);utils.renderBottomClickControl(a);$("#swipeInfo",$(this.el)).append(" winks");var c=$("#divSort",$(this.el));$("#divSort",$(this.el)).removeClass("hide");m_objViewAppSort.renderSort(constants.tabType_WinkReceived,c);this.displayWinkReceivedList(this.model,this.options.no_data_found_msg,this.options.user_interaction_type);this.registerSwipeUpEvent_WinkReceivedList();return this},events:{"click #btn_DeleteItemOk":"Onclick_DeleteItemOk","click #btn_DeleteItemCancel":"Onclick_DeleteItemCancel","click #hrefFetchNextRecord":"Onclick_GetMoreData"},Onclick_GetMoreData:function(){appLogger.writeLog("Onclick_GetMoreData","vw_WinkReceivedList.js",appLogger.logLevelDebug,"Entering");var b=this.options.user_interaction_type;var a=new cl_ViewedMe();a.add({user_interaction_type:b,});utils.getMoreData(this,app.objWinkReceivedList,a,function(e,d,c){app.objWinkReceivedList=e;c.displayWinkReceivedList(e,d,c.options.user_interaction_type)},function(e,d,c){app.objWinkReceivedList=e;c.displayWinkReceivedList(e,"No more winks found!",c.options.user_interaction_type)},true,true)},Onclick_DeleteItemOk:function(a){appLogger.writeLog("Onclick_DeleteItemOk","vw_WinkReceivedList.js",appLogger.logLevelDebug,"Entering");ItemId=$(a.target).closest("table").prev("table").attr("ItemId");sMailType=" ";sActionType="WinkReceived";i_tdDeletedItem=$(a.target).closest("table").parent("td").parent("tr");app.rt_DeleteItem(ItemId,sMailType,sActionType,i_tdDeletedItem)},Onclick_DeleteItemCancel:function(a){appLogger.writeLog("Onclick_DeleteItemCancel","vw_WinkReceivedList.js",appLogger.logLevelDebug,"Entering");$(a.target).closest("table").prev("table").removeClass("hide");$(a.target).closest("table").remove()},displayWinkReceivedList:function(a,b,d){appLogger.writeLog("displayWinkReceivedList","vw_WinkReceivedList.js",appLogger.logLevelDebug,"Entering");var c=$("#lstWinkReceived",$(this.el));if(b!=" "){c.append("<table width='100%' class='table'><tr class='info'><td class='muted'><h6><center >"+b+"</center></h6></td></tr></table>");$("#trFetchNextRecord",$(this.el)).addClass("hide")}if(!(a.length>0)){$("#trFetchNextRecord",$(this.el)).addClass("hide")}_.each(a.models,function(e){e.set({searchType:d});c.append(new vw_WinkReceivedListItem({model:e}).render().el)},this)},registerSwipeUpEvent_WinkReceivedList:function(){appLogger.writeLog("registerSwipeUpEvent_WinkReceivedList","vw_WinkReceivedList.js",appLogger.logLevelDebug,"Entering");var b=this.options.user_interaction_type;var d=this.options.no_data_found_msg;var c=this.model;var a=this;$("#lstWinkReceived",this.el).swipe({swipeUp:function(h,k,l,j,e){var f=$(h.target).closest("td[name=ItemWinKReceivedList]").closest("tr").index();var i=$("td[name=ItemWinKReceivedList]",$(h.currentTarget)).length;if(f>=i-5){utils.writeConsoleLog("tr index = "+$(h.target).closest("tr").index());var g=1;if(app.objWinkReceivedList!=null&&app.objWinkReceivedList.length>0){g=parseInt(app.objWinkReceivedList.first().get("currentPageNo"))+1}if(g!=1){app.objWinkReceivedList=new cl_ViewedMe();app.objWinkReceivedList.add({user_interaction_type:b,currentPageNo:g,sort_order:(app.jsonSortAttribute.Sort_order!="none"?app.jsonSortAttribute.Sort_order:""),sort_field:(app.jsonSortAttribute.Sort_field!="none"?app.jsonSortAttribute.Sort_field:"")});app.before(function(){a.displayWinkReceivedList(app.objWinkReceivedList," ",a.options.user_interaction_type);app.objWinkReceivedList.first().set({currentPageNo:g})},function(){a.displayWinkReceivedList(app.objWinkReceivedList,"No more winks found!",a.options.user_interaction_type)},app.objWinkReceivedList)}}},threshold:100,allowPageScroll:"vertical"})}});window.vw_WinkReceivedListItem=Backbone.View.extend({tagName:"tr",initialize:function(){this.template=_.template(utils.get("tp_WinkReceivedListItem"));this.model.bind("change",this.render,this);this.model.bind("destroy",this.close,this)},render:function(a){appLogger.writeLog("render","vw_WinkReceivedListItem.js",appLogger.logLevelDebug,"Entering");if(this.model.get("message_status")=="None"){this.model.set({date_lastmsg:"None"})}else{this.model.set({date_lastmsg:this.model.get("message_sent_date")})}if(this.model.get("wink_sent_date")==""){this.model.set({wink_sent_date:"None"})}$(this.el).html(this.template(this.model.toJSON()));$("a[name=lnkIsFavorite][value=false]",$(this.el)).addClass("hide");$("a[name=lnkAddToFavorite][value=true]",$(this.el)).addClass("hide");if("Message Not Yet Read"==this.model.get("message_status")){$("small[name=Idlastmsgsent]",$(this.el)).removeClass("muted");$("small[name=Idlastmsgsent]",$(this.el)).addClass("text-info");$("em[name=Idlastmsgsent]",$(this.el)).removeClass("muted");$("em[name=Idlastmsgsent]",$(this.el)).addClass("text-info")}this.registerSwipeRightEvents_WinkReceivedList($(this.el).children("td[name=ItemWinKReceivedList]"));return this},registerSwipeRightEvents_WinkReceivedList:function(b){appLogger.writeLog("registerSwipeRightEvents_WinkReceivedList","vw_WinkReceivedListItem.js",appLogger.logLevelDebug,"Entering");var a=this;b.swipe({swipeRight:function(e,g,h,f,c){var d=$(e.currentTarget);d.children("table").addClass("hide");a.template=_.template(utils.get(m_sTemplate));d.append(a.template())},threshold:0})},events:{"click #btn_AddFavorite":"AddFavorite_OnClick"},AddFavorite_OnClick:function(){appLogger.writeLog("AddFavorite_OnClick","vw_WinkReceivedListItem.js",appLogger.logLevelDebug,"Entering");var a=this.model.get("user_id");app.rt_AddFavorites(a)}});

window.vw_EmailReceivedDetail_ActionType=Backbone.View.extend({m_sTemplate:"",m_sSelected:0,m_sInboxDetail_Container:"",m_sthisSelection:"",m_objViewAppDropDown:null,m_sParentTDCssClass:"",initialize:function(){m_objViewAppDropDown=new vw_AppDropDown();switch(this.model.get("action_type")){case constants.emailReceivedDetail_photo:m_sTemplate="tp_EmailReceived_Photo";m_sInboxDetail_Container="#divInboxDetail_ViewPhoto";m_sSelected=0;m_sParentTDCssClass="well";break;case constants.emailReceivedDetail_photoExpanded:m_sTemplate="tp_UserProfile_PhotoExpanded";m_sInboxDetail_Container="#divInboxDetail_ViewPhoto";m_sSelected=0;m_sParentTDCssClass="well";break;case constants.emailReceivedDetail_reply:m_sTemplate="tp_EmailReceived_Reply";m_sInboxDetail_Container="#divInboxDetail_Reply";m_sSelected=1;m_sParentTDCssClass="well";break;case constants.emailReceivedDetail_reportForReview:m_sTemplate="tp_EmailReceived_ReportForReview";m_sInboxDetail_Container="#divInboxDetail_ReportForReview";m_sSelected=2;m_sParentTDCssClass="well";break;default:m_sTemplate="tp_EmailReceived_Reply";break}},render:function(d){appLogger.writeLog("render","vw_EmailReceivedDetail_ActionType.js",appLogger.logLevelDebug,"Entering");this.template=_.template(utils.get(m_sTemplate));$(m_sInboxDetail_Container,$(this.el).html(this.template(this.model.toJSON())));if(m_sSelected==1){utils.renderSmiles($("#td_SmileHeader",$(this.el)));m_objViewAppDropDown.renderSmiles($("#tblIterateSmiles",$(this.el)),new md_AppDropDown().set({dropdownType:constants.dropdown_smiles}));var c=$("#divReplyEmail",$(this.el));appConfigSetting.showHideConfigElements($(c,$(this.el)),"mail_reply");m_sthisSelection=null;var g=this.model.get("err_msg");var b=this.model.get("mailsent_successfully");if(g!=""){utils.showAppAlert(g,null);var f=this.model.get("rec_id");var a=this.model.get("u_id");var e="user";var h="0";app.rt_InboxDetail(f,e,a,h)}if(b=="1"){app.rt_SentList()}}if(m_sSelected==2){var c=$("#divReportForReview",$(this.el));appConfigSetting.showHideConfigElements($(c,$(this.el)),"msg_abuse")}if(m_sParentTDCssClass!=""){$(this.el).addClass(m_sParentTDCssClass)}return this},events:{"click #but_ReplySubmit":"onClick_ReplySubmit","click #but_ReportForReviewSubmit":"onClick_ReportForReviewSubmit","focus textarea[name = smile]":"inputNameSmile_OnFocus","click #btn_ViewPhoto":"onClick_ViewPhoto","click #btn_AttachPhoto":"onClick_AttachPhoto"},inputNameSmile_OnFocus:function(a){appLogger.writeLog("inputNameSmile_OnFocus","vw_EmailReceivedDetail_ActionType.js",appLogger.logLevelDebug,"Entering");m_sthisSelection=$(a.currentTarget)},showEnlargedPhoto:function(a){appLogger.writeLog("showEnlargedPhoto","vw_EmailReceivedDetail_ActionType.js",appLogger.logLevelDebug,"Entering");utils.writeConsoleLog("Clicked photo for viewing enlarged image");$("#divEnlargedPhoto","body").remove();$("body").append('<div id="divEnlargedPhoto" class="modal hide fade in "><div class="modal-header">	<button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button></div><div class="modal-body"><img id="imgEnlargedPhoto"></div></div>');sEnlargedImageUrl=$(a.target).closest("a").attr("enlargedPhoto");$("#imgEnlargedPhoto","body").attr("src",sEnlargedImageUrl)},onClick_ReplySubmit:function(){appLogger.writeLog("onClick_ReplySubmit","vw_EmailReceivedDetail_ActionType.js",appLogger.logLevelDebug,"Entering");var e=new Array();$("input[name=userImageChkBox]").filter(":checked").each(function(h,i){e.push(i.value)});var d=$("#txt_ReplySubject").val();var g="Please enter subject";if(d==""){utils.showAppAlert(g,null)}else{app.objEmailReply.set({subject:$("#txt_ReplySubject").val(),message:$("#txt_ReplyMessage").val(),click_submit:"1",arr_img_ids:e});var c=" ";var a=this.model.get("rec_id");var b=this.model.get("u_id");var f="0";app.rt_InboxDetail_EmailReply(a,b,c,f)}},onClick_ReportForReviewSubmit:function(){appLogger.writeLog("onClick_ReportForReviewSubmit","vw_EmailReceivedDetail_ActionType.js",appLogger.logLevelDebug,"Entering");app.objEmailReportForReview.set({msg:$("#txt_ReportForReviewExp").val(),click_submit:"1"});var a=" ";var b=this.model.get("rec_id");app.rt_InboxDetail_EmailReportForReview(b,a);utils.showAppAlert("The private message you reported will be reviewed by our staff most likely right away but at most within 8-12 hours.",null)},onClick_ViewPhoto:function(){appLogger.writeLog("onClick_ViewPhoto","vw_EmailReceivedDetail_ActionType.js",appLogger.logLevelDebug,"Entering");$('tr[name="btn_Viewphoto"]',$(this.el)).addClass("hide");$('tr[name="Idviewphoto"]',$(this.el)).removeClass("hide");var a=this.model.get("rec_id");var b="user";var c="photo";app.rt_InboxDetail_EmailAttachedPhoto(a,b,c)},onClick_AttachPhoto:function(){appLogger.writeLog("onClick_AttachPhoto","vw_EmailReceivedDetail_ActionType.js",appLogger.logLevelDebug,"Entering");$('tr[name="Attachphoto"]',$(this.el)).removeClass("hide")}});

window.vw_EmailSentList=Backbone.View.extend({m_sTemplate:"",m_objViewAppSort:null,i_currentPageNumber:1,initialize:function(){this.template=_.template(utils.get("tp_EmailSentList"));m_sTemplate="tp_DeleteListItem"},render:function(b){appLogger.writeLog("render","vw_EmailSentList.js",appLogger.logLevelDebug,"Entering");$(this.el).html(this.template());m_objViewAppSort=new vw_AppSort();var a=$("#tblContainerSentList",$(this.el));utils.renderAppTitleBar(a);utils.renderNotificationAppTabs(constants.tabType_Communication,a,"#tabMessage");utils.renderBottomClickControl(a);$("#swipeInfo",$(this.el)).text("View older messages");var c=$("#divSort",$(this.el));$("#divSort",$(this.el)).removeClass("hide");m_objViewAppSort.renderSort(constants.tabType_Outbox,c);this.displaySentList(this.model,this.options.no_data_found_msg,"next");this.registerSwipeUpEvent_EmailSentList();$("#UserExtraInfo",$(this.el)).popover({placement:"right",title:"Navigation info",html:true,content:"<ul> <li> Swipe up to get older messages.</li> <li>Swipe down to get newer messages.</li><li>Swipe right to delete message.</li> <li> Click on the icon again to hide this message.</li></ul>"});return this},events:{"click #linkInbox":"Inbox","click #btn_DeleteItemOk":"Onclick_DeleteItemOk","click #btn_DeleteItemCancel":"Onclick_DeleteItemCancel","click #hrefFetchNextRecord":"Onclick_GetMoreData","click #buttonPreviousSentList":"Onclick_PreviousData","click div[currentPageNumber]":"setReturnCurrentPage","click #UserExtraInfo":"showExtraInfo",},showExtraInfo:function(){$("#UserExtraInfo").popover({placement:"right",title:"Navigation info",content:"Swipe up to get older messages and swipe down to get newer messages. Click on the icon again to hide this message."})},setReturnCurrentPage:function(b){try{app.objSentList.first().set({currentPageNo:$(b.currentTarget).parent().find("div[currentpagenumber]").attr("currentpagenumber")});console.log("Current pg : "+app.objSentList.first().get("currentPageNo"))}catch(a){console.log("Exception occured setReturnCurrentPage() in vw_EmailSentList : "+a)}},Onclick_PreviousData:function(){var a=0;a=parseInt($("#lstSent tr:first").find("div[currentpagenumber]").attr("currentpagenumber"));if(!(app.objSentList.first().get("currentPageNo")-1<a)){app.objSentList.first().set({currentPageNo:a})}if(app.objSentList.first().get("currentPageNo")!=0){app.objSentList.first().set({currentPageNo:app.objSentList.first().get("currentPageNo")-2});utils.getMoreData(this,app.objSentList,new cl_EmailSent(),function(d,c,b){app.objSentList=d;b.displaySentList(d,c,"previous")},function(d,c,b){app.objSentList=d;b.displaySentList(d,c,"previous")},false,true)}},Onclick_GetMoreData:function(b){appLogger.writeLog("Onclick_GetMoreData","vw_EmailSentList.js",appLogger.logLevelDebug,"Entering");var a=0;a=parseInt($("#lstSent tr:last").parent().parent().parent().attr("currentpagenumber"));if(!(app.objSentList.first().get("currentPageNo")+1>a)){app.objSentList.first().set({currentPageNo:a})}utils.getMoreData(this,app.objSentList,new cl_EmailSent(),function(e,d,c){app.objSentList=e;c.displaySentList(e,d,"next")},function(e,d,c){app.objSentList=e;c.displaySentList(e,d,"next")},false,true)},Inbox:function(){appLogger.writeLog("Inbox","vw_EmailSentList.js",appLogger.logLevelDebug,"Entering");$("#linkInbox").attr("href","#userInbox");utils.showProgressBar()},Onclick_DeleteItemOk:function(a){appLogger.writeLog("Onclick_DeleteItemOk","vw_EmailSentList.js",appLogger.logLevelDebug,"Entering");nMailId=$(a.target).closest("table").prev("div").find("table").attr("mailId");sMailType=" ";sActionType="sent";i_tdDeletedItem=$(a.target).closest("table").parent("td").parent("tr");app.rt_DeleteItem(nMailId,sMailType,sActionType,i_tdDeletedItem)},Onclick_DeleteItemCancel:function(a){appLogger.writeLog("Onclick_DeleteItemCancel","vw_EmailSentList.js",appLogger.logLevelDebug,"Entering");$(a.target).closest("table").prev("div").removeClass("hide");$(a.target).closest("table").remove()},displaySentList:function(g,b,a){appLogger.writeLog("displaySentList","vw_EmailSentList.js",appLogger.logLevelDebug,"Entering");var e=$("<div></div>");var d=$("#lstSent",$(this.el));if(b!=" "){if(!($("#lastPageReachedInfoSentList").length>0)){d.append("<table id='lastPageReachedInfoSentList' width='100%' class='table'><tr class='info'><td class='muted'><h6><center>"+b+"</center></h6></td></tr></table>")}$("#trFetchNextRecord",$(this.el)).addClass("hide")}if(!(g.length>0)){$("#trFetchNextRecord",$(this.el)).addClass("hide");if(!($("#lstSent div[currentpagenumber]").length>0)){$(this.el).find("#buttonPreviousSentList").attr("class","hide")}}if(a=="next"){_.each(g.models,function(h){console.log("Next currentPageNo : "+g.first().get("currentPageNo"));h.set({currentPageNo:g.first().get("currentPageNo")});d.append(new vw_EmailSentListItem({model:h}).render().el)},this)}else{if(a=="previous"){_.each(g.models,function(h){console.log("Previous currentPageNo : "+g.first().get("currentPageNo"));h.set({currentPageNo:g.first().get("currentPageNo")});e.append(new vw_EmailSentListItem({model:h}).render().el)},this);var f=$(e).html();d.prepend(f)}}try{if(g.first().get("currentPageNo")==1){$(this.el).find("#buttonPreviousSentList").attr("class","hide")}}catch(c){g.add({currentPageNo:this.i_currentPageNumber});console.log("Exception : "+c)}},registerSwipeUpEvent_EmailSentList:function(){appLogger.writeLog("registerSwipeUpEvent_EmailSentList","vw_EmailSentList.js",appLogger.logLevelDebug,"Entering");var b=this.options.no_data_found_msg;var a=this.model;var c=this;$("#lstSent",this.el).swipe({swipe:function(e,m,d,i,l){var n=$(e.target).closest("td[name=ItemSentList]").closest("tr").index();var h=$("td[name=ItemSentList]",$(e.currentTarget)).length;if(m=="up"){if(n>=h-5){utils.writeConsoleLog("tr index = "+$(e.target).closest("tr").index());var j=1;var g=1;var f=0;g=parseInt(app.objSentList.first().get("currentPageNo"));if(app.objSentList!=null&&app.objSentList.length>0){j=parseInt(app.objSentList.first().get("currentPageNo"))+1}f=parseInt($("#lstSent .dotted-seperator tr:last").parent().parent().parent().attr("currentpagenumber"));if(!(j>f)){j=f+1;g=f}if(j!=1){app.objSentList=new cl_EmailSent();app.objSentList.add({currentPageNo:j,sort_order:(app.jsonSortAttribute.Sort_order!="none"?app.jsonSortAttribute.Sort_order:""),sort_field:(app.jsonSortAttribute.Sort_field!="none"?app.jsonSortAttribute.Sort_field:"")});app.before(function(){app.objSentList.first().set({currentPageNo:j});c.displaySentList(app.objSentList," ","next")},function(){c.i_currentPageNumber=g;c.displaySentList(app.objSentList,"There are no more messages","next")},app.objSentList)}}}else{if(m=="down"){if(n>=0&&n<=5){utils.writeConsoleLog("tr index = "+$(e.target).closest("tr").index());var k=1;var o=0;if(app.objSentList!=null&&app.objSentList.length>0){k=parseInt(app.objSentList.first().get("currentPageNo"))-1}o=parseInt($("#lstSent tr:first").find("div[currentpagenumber]").attr("currentpagenumber"));if(!(k<o)){k=o-1}if(k!=0){app.objSentList=new cl_EmailSent();app.objSentList.add({currentPageNo:k,sort_order:(app.jsonSortAttribute.Sort_order!="none"?app.jsonSortAttribute.Sort_order:""),sort_field:(app.jsonSortAttribute.Sort_field!="none"?app.jsonSortAttribute.Sort_field:"")});app.before(function(){app.objSentList.first().set({currentPageNo:k});c.displaySentList(app.objSentList," ","previous")},function(){c.displaySentList(app.objSentList,"There are no more messages","previous")},app.objSentList)}}}}},threshold:50,allowPageScroll:"vertical"})},callback:function(){appLogger.writeLog("callback","vw_EmailSentList.js",appLogger.logLevelDebug,"Entering");setTimeout(function(){swipedLeftTdobj.hide().fadeIn()},1000)}});window.vw_EmailSentListItem=Backbone.View.extend({tagName:"tr",initialize:function(){this.template=_.template(utils.get("tp_EmailSentListItem"));this.model.bind("change",this.render,this);this.model.bind("destroy",this.close,this)},render:function(a){appLogger.writeLog("render","vw_EmailSentListItem.js",appLogger.logLevelDebug,"Entering");$(this.el).html(this.template(this.model.toJSON()));$('h5[name="Message Read"], div[name="Message Read"]',$(this.el)).parent().addClass("muted");this.registerSwipeRightEvents_EmailSentList($(this.el).children("td[name=ItemSentList]"));return this},registerSwipeRightEvents_EmailSentList:function(a){appLogger.writeLog("registerSwipeRightEvents_EmailSentList","vw_EmailSentListItem.js",appLogger.logLevelDebug,"Entering");var b=this;a.swipe({swipeRight:function(e,g,h,f,c){var d=$(e.currentTarget);d.children("div").addClass("hide");b.template=_.template(utils.get(m_sTemplate));d.append(b.template())},threshold:100})}});

window.vw_Login=Backbone.View.extend({initialize:function(){this.template=_.template(utils.get("tp_Login"))},render:function(a){appLogger.writeLog("render","vw_Login.js",appLogger.logLevelDebug,"Entering");$(this.el).html(this.template(this.model.toJSON()));var b=$("#divLogin",$(this.el));utils.renderAppTitleBar(b);$("#txtFirstName",$(this.el)).focus();return this},events:{"click #lnkSignIn":"login","keypress 'input[type = password],input[type = text]'":"doEnterKey"},login:function(){appLogger.writeLog("login","vw_Login.js",appLogger.logLevelDebug,"Entering");var a=$("#txtFirstName").val();var b=$("#txtPassword").val();$("#lnkSignIn").attr("href","#loginAuthenticate/"+a+"/"+b)},lnk_contactUs_OnClick:function(){appLogger.writeLog("lnk_contactUs_OnClick","vw_Login.js",appLogger.logLevelDebug,"Entering");window.open(constants.mobileWebAppURL+"contactus.php")},doEnterKey:function(b){if(b.keyCode=="13"||b.which=="13"){var a=$("#txtFirstName").val();var c=$("#txtPassword").val();if(c.length==0){$("#txtErrorMsg",$(this.el)).html("Enter password!!!")}else{window.location="#loginAuthenticate/"+a+"/"+c;utils.showProgressBar()}}},setFocus:function(){appLogger.writeLog("setFocus","vw_Login.js",appLogger.logLevelDebug,"Entering");alert("in setfocus = "+$("#txtFirstName",$(this.el)).is("focus"));$("#txtFirstName",$(this.el)).addClass("focused")}});

window.vw_PushNotificationSetting=Backbone.View.extend({initialize:function(){this.template=_.template(utils.get("tp_PushNotificationSetting"))},render:function(a){appLogger.writeLog("render","vw_PushNotificationSetting.js",appLogger.logLevelDebug,"Entering");$(this.el).html(this.template());var d=$("#tblPushNotificaitonSettingList",$(this.el));utils.renderAppTitleBar(d);var b=$("#lstPushNotification",$(this.el));var c="";_.each(this.model.attributes,function(e){b.append(_.template(utils.get("tp_AppMultiSelectList"))({id:e.event_id,description:e.name}));if(e.is_switched_on=="1"){this.lstItem_applyCheckedStyle(b.find("tr:last"))}},this);return this},events:{"click tr[name=trLstItem]":"trLstItem_onClick"},lstItem_applyUnCheckedStyle:function(a){appLogger.writeLog("lstItem_applyUnCheckedStyle","vw_PushNotificationSetting.js",appLogger.logLevelDebug,"Entering");a.find("i").removeClass("icon-ok").addClass("icon-stop");a.find("button[name=btnLstItemCheckbox]").removeClass("btn-primary");a.attr("isSelected","0")},lstItem_applyCheckedStyle:function(a){appLogger.writeLog("lstItem_applyCheckedStyle","vw_PushNotificationSetting.js",appLogger.logLevelDebug,"Entering");a.find("i").removeClass("icon-stop").addClass("icon-ok");a.find("button[name=btnLstItemCheckbox]").addClass("btn-primary");a.attr("isSelected","1")},trLstItem_onClick:function(b){appLogger.writeLog("trLstItem_onClick","vw_PushNotificationSetting.js",appLogger.logLevelDebug,"Entering");objTRLstItem=$(b.currentTarget);app.objPushNotificationSetting.set({IsSwitchedOn:objTRLstItem.attr("isSelected")=="0"?"1":"0",event_id:objTRLstItem.attr("value")});var a=this;app.rt_PushNotification_Setting(constants.pushNotificationUpdateSetting,function(){if(objTRLstItem.attr("isSelected")=="1"){a.lstItem_applyUnCheckedStyle(objTRLstItem)}else{a.lstItem_applyCheckedStyle(objTRLstItem)}});b.stopImmediatePropagation()}});

window.vw_Registration=Backbone.View.extend({m_sSelectedStep:0,initialize:function(){if(this.options.registrationType==constants.userRegistration1){this.template=_.template(utils.get("tp_Registration"));this.RegistrationSelection="#divRegistration"}else{if(this.options.registrationType==constants.userRegistration2){this.template=_.template(utils.get("tp_Registration1"));this.RegistrationSelection="#divRegistration1"}else{if(this.options.registrationType==constants.userRegistration3){this.template=_.template(utils.get("tp_RegistrationII"));this.RegistrationSelection="#divRegistrationII"}}}},render:function(b){appLogger.writeLog("render","vw_Registration.js",appLogger.logLevelDebug,"Entering");$(this.el).html(this.template(this.model.toJSON()));var a=$(this.RegistrationSelection,$(this.el));utils.renderAppTitleBar(a);if(this.options.registrationType==constants.userRegistration1){appConfigSetting.showHideConfigElements(a,constants.page_Registration1)}else{if(this.options.registrationType==constants.userRegistration2){m_objViewAppDropDown=new vw_AppDropDown();appConfigSetting.showHideConfigElements(a,constants.page_Registration2);divElement=$("#divRegistration1_EducationProfession",$(this.el));appConfigSetting.hideRelatedDataForHiddenElements(divElement.find("table.registrationTable tr:first"),divElement.find("table.registrationTable tr:last"),divElement.find("table tr td h5.text-info"),"and");m_objViewAppDropDown.renderDropDown($("#dropdown_HearAboutUs",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Registration2,dropdownType:constants.dropdown_HearAboutUs,userSelection:app.objRegistration.get("u_hear_about_us")}))}else{if(this.options.registrationType==constants.userRegistration3){$("body",$(this.el)).scrollTop(0)}}}if(this.options.registrationType!=constants.userRegistration3){appConfigSetting.addSectionWiseURL($(this.el),this.options.registrationType)}this.btnImageToggle($("#btnConfirmTerms",$(this.el)));return this},events:{"click div .divBorder":"divBorder_OnClick","click #btnRegistration_Continue":"btnRegistration_OnClick","change #dropdown_HearAboutUs":"dropdown_HearAboutUs_OnChange","click #btnCancelRegistration":"btnCancelRegistration_OnClick","click #btnRegistration_Done":"btnRegistrationDone_OnClick","click #lnkRegistration1_Terms":"lnkRegistration1_Terms_OnClick","click #lnkRegistration1_PrivacyPolicy":"lnkRegistration1_PrivacyPolicy_OnClick","click #btnConfirmTerms":"btnConfirmTerms_OnClick","click #lnkRegistration1_eHarmonyTerms":"lnkRegistration1_eHarmonyTerms_OnClick","click #lnkRegistration1_eHarmonyPrivacyPolicy":"lnkRegistration1_eHarmonyPrivacyPolicy_OnClick"},btnConfirmTerms_OnClick:function(a){appLogger.writeLog("btnConfirmTerms_OnClick","vw_Registration.js",appLogger.logLevelDebug,"Entering");thisButton=$(a.currentTarget);bConfirmTerms=thisButton.val();bConfirmTerms=(bConfirmTerms==1?0:1);thisButton.attr("value",bConfirmTerms);app.objRegistration.set({u_terms:bConfirmTerms==1?"ON":""});this.btnImageToggle(thisButton)},btnImageToggle:function(a){appLogger.writeLog("btnImageToggle","vw_Registration.js",appLogger.logLevelDebug,"Entering");if(a.attr("value")=="1"){a.addClass("btn-primary");a.find("i").addClass("icon-ok")}else{a.removeClass("btn-primary");a.find("i").removeClass("icon-ok")}},lnkRegistration1_PrivacyPolicy_OnClick:function(){appLogger.writeLog("lnkRegistration1_PrivacyPolicy_OnClick","vw_Registration.js",appLogger.logLevelDebug,"Entering");window.open(constants.mobileChristanmingle+"privacy.html","toolbar=1")},lnkRegistration1_Terms_OnClick:function(){appLogger.writeLog("lnkRegistration1_Terms_OnClick","vw_Registration.js",appLogger.logLevelDebug,"Entering");window.open(constants.mobileChristanmingle+"terms.html","toolbar=1")},btnRegistrationDone_OnClick:function(){appLogger.writeLog("btnRegistrationDone_OnClick","vw_Registration.js",appLogger.logLevelDebug,"Entering");app.navigate("",{trigger:true})},btnCancelRegistration_OnClick:function(){appLogger.writeLog("btnCancelRegistration_OnClick","vw_Registration.js",appLogger.logLevelDebug,"Entering");app.navigate("",{trigger:true})},dropdown_HearAboutUs_OnChange:function(){appLogger.writeLog("dropdown_HearAboutUs_OnChange","vw_Registration.js",appLogger.logLevelDebug,"Entering");app.objRegistration.set({u_hear_about_us:m_objViewAppDropDown.getSelectedValue($("#dropdown_HearAboutUs"))});if($("#dropdown_HearAboutUs").val()=="5"||$("#dropdown_HearAboutUs").val()=="6"||$("#dropdown_HearAboutUs").val()=="10"){$("#txt_HearAboutUs").removeClass("hide")}else{$("#txt_HearAboutUs").addClass("hide")}},divBorder_OnClick:function(a){appLogger.writeLog("divBorder_OnClick","vw_Registration.js",appLogger.logLevelDebug,"Entering");$(a.target).closest("a").trigger("click")},btnRegistration_OnClick:function(a){appLogger.writeLog("btnRegistration_OnClick","vw_Registration.js",appLogger.logLevelDebug,"Entering");if(app.objRegistration.get("u_page")==constants.userRegistration1){app.objRegistration.set({u_requestType:"",u_ScreenResolution:screen.width+"x"+screen.height,u_ScreenDepth:screen.colorDepth})}else{app.objRegistration.set({u_requestType:"",u_hear_about_us_text:$("#txt_HearAboutUs").val(),u_christian_mingle:$("input:radio[name=status]:checked").val(),u_eharmony:($("input:radio[name=estatus]:checked").length>0)?$("input:radio[name=estatus]:checked").val():"null",})}app.rt_Registration_Save()},lnkRegistration1_eHarmonyTerms_OnClick:function(){appLogger.writeLog("lnkRegistration1_eHarmonyTerms_OnClick","vw_Registration.js",appLogger.logLevelDebug,"Entering");window.open(constants.mobileeHarmony+"about/terms/","_system","location=no,toolbar=yes")},lnkRegistration1_eHarmonyPrivacyPolicy_OnClick:function(){appLogger.writeLog("lnkRegistration1_eHarmonyTerms_OnClick","vw_Registration.js",appLogger.logLevelDebug,"Entering");window.open(constants.mobileeHarmony+"privacy/policy/","_system","location=no,toolbar=yes")}});

window.vw_ChangePassword=Backbone.View.extend({initialize:function(){this.template=_.template(utils.get("tp_ChangePassword"))},render:function(a){appLogger.writeLog("render","vw_ChangePassword.js",appLogger.logLevelDebug,"Entering");$(this.el).html(this.template(this.model.toJSON()));var b=$("#tblChangePassword",$(this.el));utils.renderAppTitleBar(b);return this},events:{"click #btnChangePasswordSave":"btnChangePasswordSave_OnClick","click #btnChangePasswordCancel":"btnChangePasswordCancel_OnClick"},btnChangePasswordSave_OnClick:function(){appLogger.writeLog("btnChangePasswordSave_OnClick","vw_ChangePassword.js",appLogger.logLevelDebug,"Entering");app.objLoginAuthentication.set({old_password:$("#txt_OldPassword").val(),new_password:$("#txt_NewPassword").val(),confirm_password:$("#txt_ConfirmNewPassword").val()});app.before(function(){utils.saveLoginAuthenticationObjectToCookie();window.location="#MySetting/"+constants.MySettingMenu},function(){utils.showError(app.objLoginAuthentication.get("error_msg"))},app.objLoginAuthentication)},btnChangePasswordCancel_OnClick:function(){appLogger.writeLog("btnChangePasswordCancel_OnClick","vw_ChangePassword.js",appLogger.logLevelDebug,"Entering");app.flagForMySettingCancel=true;window.location="#MySetting/"+constants.MySettingMenu}});

window.vw_UpgradeMessage=Backbone.View.extend({initialize:function(){this.template=_.template(utils.get("tp_UpgradeMessage"))},render:function(a){appLogger.writeLog("render","vw_UpgradeMessage.js",appLogger.logLevelDebug,"Entering");$(this.el).html(this.template);var b=$("#divUpgradeMessage",$(this.el));utils.renderAppTitleBar(b);b.append(this.options.sUpgradeMessage);return this}});

window.vw_UserProfile=Backbone.View.extend({tagName:"divUserTabContainer",indexID:0,model:null,initialize:function(){this.template=_.template(utils.get("tp_UserProfile"))},render:function(b){appLogger.writeLog("render","vw_UserProfile.js",appLogger.logLevelDebug,"Entering");var c="";var e="";var d=false;switch(this.options.sDisplayType){case constants.userProfile_details:c="tp_UserProfile_Detail";e="#tabUserProfile_Detail";d=true;break;case constants.userProfile_photoExpanded:c="tp_UserProfile_Photo";e="#tabUserProfile_Photo";break;case constants.userProfile_info:c="tp_UserProfile_Info";e="#tabUserProfile_Info";break;default:c="tp_UserProfile_Detail";e="#tabUserProfile_Detail";d=true;break}$(this.el).html(this.template(this.model.toJSON()));appConfigSetting.showHideConfigElements($("#hrefEditProfileDetails",$(this.el)).parent(),constants.page_Edit_Profile);var f=$("#userDetail",$(this.el));utils.renderAppTitleBar(f);utils.renderAppTabs(constants.tabType_Home,f,app.m_sSelectedTab);this.template=_.template(utils.get(c));var a=$("#divUserTabContainer",$(this.el));a.html(this.template(this.model.toJSON()));appConfigSetting.showHideConfigElements(f,constants.page_View_Profile);if(d){divElement=$("#accordion_Education_Profession",$(this.el));sTextPrepend=divElement.find("a").html().split("&nbsp;")[0];appConfigSetting.hideRelatedDataForHiddenElements(divElement.find("table tr:first"),divElement.find("table tr:last"),divElement.find("a"),"and");divElement.find("a").prepend(sTextPrepend);divElement=$("#accordion_EthnicityDenomination",$(this.el));sTextPrepend=divElement.find("a").html().split("&nbsp;")[0];appConfigSetting.hideRelatedDataForHiddenElements(divElement.find("table tr:first"),divElement.find("table tr:last"),divElement.find("a"),"and");divElement.find("a").prepend(sTextPrepend)}$(app.m_sSelectedTab,$(this.el)).addClass("active");$(e,$(this.el)).addClass("active");if(this.model.get("u_id")==app.m_nLoggedInUserId){$(this.el).children().find("a[profileType=Others]").addClass("hide");$(this.el).children().find("tr[profileType=Others]").addClass("hide")}else{$(this.el).children().find("a[profileType=Self]").addClass("hide");if(app.objUserListClone!=null){this.indexID=app.objUserListClone.models.indexOf(app.objUserListClone.get(this.model.get("u_id")));objUserRecord=app.objUserList.first();if(this.indexID==0&&app.objUserListClone.first().get("currentPageNo")=="1"){$("#btn_PrevProfile",$(this.el)).addClass("hide")}if(this.indexID+1==app.objUserListClone.length&&app.objUserList.first().get("blastRecord")){$("#btn_NextProfile",$(this.el)).addClass("hide")}}else{$("#btn_NextProfile",$(this.el)).addClass("hide");$("#btn_PrevProfile",$(this.el)).addClass("hide")}}return this},events:{"show .accordion":"showImageDown","hide .accordion":"hideImageRight","click #hrefCollapseAll":"CollapseAll_OnClick","click #hrefExpandAll":"ExpandAll_OnClick","click #btn_AddFavorite":"AddFavorite_OnClick","click #btn_NextProfile":"btn_NextProfile_OnClick","click #btn_PrevProfile":"btn_PrevProfile_OnClick",},btn_PrevProfile_OnClick:function(){appLogger.writeLog("btn_PrevProfile_OnClick","vw_UserProfile.js",appLogger.logLevelDebug,"Entering");this.fetchNextOrPreviousRecord(-1,parseInt(app.objUserListClone.first().get("currentPageNo")))},btn_NextProfile_OnClick:function(){appLogger.writeLog("btn_NextProfile_OnClick","vw_UserProfile.js",appLogger.logLevelDebug,"Entering");this.fetchNextOrPreviousRecord(1,parseInt(app.objUserListClone.last().get("currentPageNo")))},fetchNextOrPreviousRecord:function(c,a){appLogger.writeLog("fetchNextOrPreviousRecord","vw_UserProfile.js",appLogger.logLevelDebug,"Entering");this.indexID=this.indexID+c;if(this.indexID>=0&&this.indexID<app.objUserListClone.length){if(app.m_bUserListPersist){try{history.replaceState({},"cdff","#users/"+app.objUserListClone.models[this.indexID].get("id")+"/profile")}catch(b){}}app.rt_UserProfile(app.objUserListClone.models[this.indexID].get("id"),"profile")}else{nCurrentPageNo=a+c;sSearchType=app.objUserList.first().get("searchType");if(sSearchType==constants.searchForAdvanceSearch){app.objUserList=new cl_UserAdvanceSearch();app.objUserList.add({type:sSearchType,searchParams:app.m_objSearchParam,currentPageNo:nCurrentPageNo})}else{app.objUserList=new cl_User();app.objUserList.add({type:sSearchType,currentPageNo:nCurrentPageNo,sort_order:(app.jsonSortAttribute.Sort_order!="none"?app.jsonSortAttribute.Sort_order:""),sort_field:(app.jsonSortAttribute.Sort_field!="none"?app.jsonSortAttribute.Sort_field:"")})}objThisView=this;app.before(function(){appLogger.writeLog("fetchNextOrPreviousRecord.before","vw_UserProfile.js",appLogger.logLevelDebug,"Success");app.objUserList.invoke("set",{currentPageNo:nCurrentPageNo,searchType:sSearchType});if(app.objUserList.models.length!=0){app.m_nPosition=-1;app.objUserList.first().set({sort_order:(app.jsonSortAttribute.Sort_order!="none"?app.jsonSortAttribute.Sort_order:""),sort_field:(app.jsonSortAttribute.Sort_field!="none"?app.jsonSortAttribute.Sort_field:"")});if(c>0){app.objUserListClone.add(app.objUserList.models);if(app.objUserListClone.length>=constants.userListPageLimit){app.objUserListClone.remove(app.objUserListClone.models.slice(0,(constants.mobilePageSize)));app.m_nUserID=app.m_nUserID-constants.mobilePageSize}}else{app.objUserListClone.add(app.objUserList.models.reverse(),{at:0});app.objUserListClone.remove(app.objUserListClone.models.slice((constants.userListPageLimit-constants.mobilePageSize),(constants.userListPageLimit)));app.m_nUserID=app.m_nUserID+constants.mobilePageSize}this.indexID=app.objUserListClone.models.indexOf(app.objUserListClone.get(app.objUserProfile.get("u_id")));this.indexID=this.indexID+(c);if(app.m_bUserListPersist){try{history.replaceState({},"cdff","#users/"+app.objUserListClone.models[this.indexID].get("id")+"/profile")}catch(d){}}app.rt_UserProfile(app.objUserListClone.models[this.indexID].get("id"),"profile")}else{$("#btn_NextProfile").addClass("hide")}},null,app.objUserList)}},showImageDown:function(a){appLogger.writeLog("showImageDown","vw_UserProfile.js",appLogger.logLevelDebug,"Entering");$(a.target).prev(".accordion-heading").find(".accordion-toggle i").removeClass("icon-plus-sign");$(a.target).prev(".accordion-heading").find(".accordion-toggle i").addClass("icon-minus-sign")},hideImageRight:function(a){appLogger.writeLog("hideImageRight","vw_UserProfile.js",appLogger.logLevelDebug,"Entering");$(a.target).prev(".accordion-heading").find(".accordion-toggle i").removeClass("icon-minus-sign");$(a.target).prev(".accordion-heading").find(".accordion-toggle i").addClass("icon-plus-sign")},CollapseAll_OnClick:function(a){appLogger.writeLog("CollapseAll_OnClick","vw_UserProfile.js",appLogger.logLevelDebug,"Entering");$(".accordion-body").collapse("hide")},ExpandAll_OnClick:function(a){appLogger.writeLog("ExpandAll_OnClick","vw_UserProfile.js",appLogger.logLevelDebug,"Entering");$(".accordion-body").each(function(){if(!$(this).hasClass("in")){$(this).collapse("show")}})},showEnlargedPhoto:function(a){appLogger.writeLog("showEnlargedPhoto","vw_UserProfile.js",appLogger.logLevelDebug,"Entering");utils.writeConsoleLog("clicked photo for viewing enlarged image");$("#divEnlargedPhoto","body").remove();$("body").append('<div id="divEnlargedPhoto" class="modal hide fade in "><div class="modal-header">	<button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button></div><div class="modal-body"><img id="imgEnlargedPhoto"></div></div>');sEnlargedImageUrl=$(a.target).closest("a").attr("enlargedPhoto");$("#imgEnlargedPhoto","body").attr("src",sEnlargedImageUrl)},AddFavorite_OnClick:function(){appLogger.writeLog("AddFavorite_OnClick","vw_UserProfile.js",appLogger.logLevelDebug,"Entering");var a=this.model.get("u_id");app.rt_AddFavorites(a)}});

window.vw_AppHome=Backbone.View.extend({id:0,initialize:function(){var a={user_id:this.options.u_id};this.template=_.template(utils.get("tp_AppHome"))},render:function(b){appLogger.writeLog("render","vw_AppHome.js",appLogger.logLevelDebug,"Entering");$(this.el).html(this.template(this.model.toJSON()));var a=$("#homeScreen",$(this.el));appConfigSetting.showHideConfigElements(a,constants.page_My_MatchesTab);appConfigSetting.showHideConfigElements(a,constants.page_My_CommunicationTab);utils.renderAppTitleBar(a);a.find('span[value="0"]').addClass("hide");return this},events:{"click #userInbox":"NavigateToInbox"},NavigateToInbox:function(){app.rt_InboxListFromHome()}});

window.vw_UserProfile_PhotoUpdateList=Backbone.View.extend({initialize:function(){this.template=_.template(utils.get("tp_UserProfile_PhotoUpdateList"));this.model.bind("reset",this.render,this);this.model.bind("add",function(a){$(this.el).append(this.template(a.toJSON()))})},el:"#divProfilePhotoContainer",render:function(a){appLogger.writeLog("render","vw_UserProfile_PhotoUpdateList.js",appLogger.logLevelDebug,"Entering");var b=this.options.profilePhotoContainer;_.each(this.model.models,function(c){b.append(this.template(c.toJSON()))},this);this.displayPhotoFlagsOnButtons();return this},events:{"click button[btnType=btnShowOnProfile]":"btnShowOnProfile_onClick","click button[btnType=btnMainImage]":"btnMainImage_onClick","click button[name=btnDeletePhoto]":"btnDelete_onClick"},btnShowOnProfile_onClick:function(a){appLogger.writeLog("btnShowOnProfile_onClick","vw_UserProfile_PhotoUpdateList.js",appLogger.logLevelDebug,"Entering");thisButton=$(a.currentTarget);bShowOnProfile=thisButton.parent().children("button[name=btnShowOnProfileIcon]").val();bShowOnProfile=(bShowOnProfile==1?0:1);bIsMainImage=thisButton.closest("td[name=tdPhotoActionButtons]").find("button[name=btnMainImageIcon]").val();bUpdateStatus=true;var b=new Array();b[0]=this;b[1]=bShowOnProfile;b[2]=bUpdateStatus;b[3]=thisButton;b[4]=bIsMainImage;if(bIsMainImage=="1"&&bShowOnProfile==0){utils.showAppConfirmation('You do not have "Show in Profile" checked for your "main image".\nTherefore no image will get displayed against your profile, whenever your profile gets listed in the user-list on search pages.\n\nDo you want to proceed with the changes?',"Yes,No",this.btnShowOnProfile_OnConfirmation,b,null,null)}else{this.btnShowOnProfile_OnConfirmation(b)}},btnShowOnProfile_OnConfirmation:function(a){appLogger.writeLog("btnShowOnProfile_OnConfirmation","vw_UserProfile_PhotoUpdateList.js",appLogger.logLevelDebug,"Entering");objthisView=a[0];bShowOnProfile=a[1];bUpdateStatus=a[2];thisButton=a[3];bIsMainImage=a[4];nPhotoID=thisButton.closest("td[name=tdPhotoActionButtons]").attr("value");if(bUpdateStatus){thisButton.parent().children("button[name=btnShowOnProfileIcon]").attr("value",bShowOnProfile);objthisView.savePhotoSettings(nPhotoID,bShowOnProfile,bIsMainImage)}},btnMainImage_onClick:function(a){appLogger.writeLog("btnMainImage_onClick","vw_UserProfile_PhotoUpdateList.js",appLogger.logLevelDebug,"Entering");thisButton=$(a.currentTarget);bIsMainImage=thisButton.closest("td[name=tdPhotoActionButtons]").find("button[name=btnMainImageIcon]").val();if(bIsMainImage!="1"){bShowOnProfile=thisButton.closest("td[name=tdPhotoActionButtons]").find("button[name=btnShowOnProfileIcon]").val();nPhotoID=thisButton.closest("td[name=tdPhotoActionButtons]").attr("value");bMainImageStatus=true;var b=new Array();b[0]=this;b[1]=bShowOnProfile;b[2]=bMainImageStatus;b[3]=nPhotoID;b[4]=thisButton;if(bShowOnProfile=="0"){utils.showAppConfirmation('You do not have "Show in Profile" checked for your "main image".\nTherefore no image will get displayed against your profile, whenever your profile gets listed in the user-list on search pages.\n\nDo you want to proceed with the changes?',"Yes,No",this.btnMainImage_OnConfirmation,b,null,null)}else{this.btnMainImage_OnConfirmation(b)}}},btnMainImage_OnConfirmation:function(a){appLogger.writeLog("btnMainImage_OnConfirmation","vw_UserProfile_PhotoUpdateList.js",appLogger.logLevelDebug,"Entering");objthisView=a[0];bShowOnProfile=a[1];bMainImageStatus=a[2];nPhotoID=a[3];thisButton=a[4];if(bMainImageStatus){objthisView.savePhotoSettings(nPhotoID,bShowOnProfile,1);btnPreviousMainImage=$("button[name=btnMainImageIcon][value=1]");btnPreviousMainImage.attr("value",0);thisButton.parent().children("button[name=btnMainImageIcon]").attr("value",1)}},savePhotoSettings:function(a,b,c){appLogger.writeLog("savePhotoSettings","vw_UserProfile_PhotoUpdateList.js",appLogger.logLevelDebug,"Entering");this.arrPhotoUpdate=new md_UserProfile_PhotoUpdate();this.arrPhotoUpdate.set({userAction:"update",MainImage:c,ShowOnProfile:b,PhotoID:a});objSavePhotoSettingsView=this;app.before(function(){objSavePhotoSettingsView.displayPhotoFlagsOnButtons()},function(){divProfilePhotoContainer.closest("tr").addClass("info");divProfilePhotoContainer.append("Error occurred while updating records!")},objSavePhotoSettingsView.arrPhotoUpdate)},displayDeletedPhotoList:function(){appLogger.writeLog("displayDeletedPhotoList","vw_UserProfile_PhotoUpdateList.js",appLogger.logLevelDebug,"Entering");var a=$("#divProfilePhotoContainer");this.arrUserPhotos=new cl_UserProfile_PhotoUpdate();objThisView=this;app.before(function(){a.html("");objThisView.model=objThisView.arrUserPhotos;objThisView.options.profilePhotoContainer=a;objThisView.render()},function(){a.closest("tr").addClass("info");a.append("You haven't uploaded any photos yet!")},this.arrUserPhotos)},btnDelete_onClick:function(a){appLogger.writeLog("btnDelete_onClick","vw_UserProfile_PhotoUpdateList.js",appLogger.logLevelDebug,"Entering");var b=new Array();b[0]=a;b[1]=this;utils.showAppConfirmation("Are you sure you want to delete the image?","Yes,No",this.btnDelete_OnConfirmation,b,null,null)},btnDelete_OnConfirmation:function(a){appLogger.writeLog("btnDelete_OnConfirmation","vw_UserProfile_PhotoUpdateList.js",appLogger.logLevelDebug,"Entering");event=a[0];thisButton=$(event.currentTarget);nPhotoID=thisButton.closest("td[name=tdPhotoActionButtons]").attr("value");objDeleteView=a[1];objDeleteView.arrPhotoUpdate=new md_UserProfile_PhotoUpdate();objDeleteView.arrPhotoUpdate.set({userAction:"delete",PhotoID:nPhotoID});app.before(function(){objDeleteView.displayDeletedPhotoList()},function(){$("#divProfilePhotoContainer").closest("tr").addClass("info");$("#divProfilePhotoContainer").append("Error occurred while deleting records!")},objDeleteView.arrPhotoUpdate)},displayPhotoFlagsOnButtons:function(){appLogger.writeLog("displayPhotoFlagsOnButtons","vw_UserProfile_PhotoUpdateList.js",appLogger.logLevelDebug,"Entering");$("button[name=btnShowOnProfileIcon][value=1]").addClass("btn-primary");$("button[name=btnShowOnProfileIcon][value=1] i").addClass("icon-ok");$("button[name=btnShowOnProfileIcon][value=0]").removeClass("btn-primary");$("button[name=btnShowOnProfileIcon][value=0] i").removeClass("icon-ok");$("button[name=btnMainImageIcon][value=1]").addClass("btn-primary").closest("tr").addClass("info");$("button[name=btnMainImageIcon][value=1] i").addClass("icon-ok");$("button[name=btnMainImageIcon][value=0]").removeClass("btn-primary").closest("tr").removeClass("info");$("button[name=btnMainImageIcon][value=0] i").removeClass("icon-ok")}});

window.vw_FaqList=Backbone.View.extend({initialize:function(){this.template=_.template(utils.get("tp_FaqList"));this.model.bind("reset",this.render,this);this.model.bind("add",function(a){$(this.el).append(new vw_FaqListItem({model:a}).render().el)})},render:function(b){appLogger.writeLog("render","vw_FaqList.js",appLogger.logLevelDebug,"Entering");$(this.el).html(this.template());var a=$("#tblContainerFaqList",$(this.el));utils.renderAppTitleBar(a);var c=$("#lstFaq",$(this.el));_.each(this.model.models,function(d){c.append(new vw_FaqListItem({model:d}).render().el)},this);return this}});window.vw_FaqListItem=Backbone.View.extend({tagName:"tr",initialize:function(){this.template=_.template(utils.get("tp_FaqListItem"));this.model.bind("change",this.render,this);this.model.bind("destroy",this.close,this)},render:function(a){appLogger.writeLog("render","vw_FaqListItem.js",appLogger.logLevelDebug,"Entering");$(this.el).html(this.template(this.model.toJSON()));sDecodedFaqAnswer=utils.base64_decode(this.model.get("faq_answer"));sDecodedFaqQuestion=utils.base64_decode(this.model.get("faq_question"));this.model.set({faq_answer:sDecodedFaqAnswer,faq_question:sDecodedFaqQuestion});return this}});

window.vw_AppConfigMessage=Backbone.View.extend({initialize:function(){this.template=_.template(utils.get("tp_AppConfigMessage"))},render:function(b){appLogger.writeLog("render","vw_AppConfigMessage.js",appLogger.logLevelDebug,"Entering");sheadLine="";$(this.el).html(this.template());var a=$("#divAppConfigMessage",$(this.el));utils.renderAppTitleBar(a);a.parent().find("#divTitleBar ul li[showOnLoginScreen = false]").addClass("hide");if(app.objLoginAuthentication!=undefined&&app.objLoginAuthentication!=null&&app.objLoginAuthentication.has("u_email")){a.find("#txt_EmailAddress").val(app.objLoginAuthentication.get("u_email"))}return this},events:{"click #btn_AppConfig_Retry":"btn_AppConfig_Retry_OnClick","click #btn_AppConfig_Report":"btn_AppConfig_Report_OnClick"},btn_AppConfig_Retry_OnClick:function(){app.rt_UserLogin()},btn_AppConfig_Report_OnClick:function(){utils.writeConsoleLog("btn_AppConfig_Report_OnClick :: Entering");app.objContactUs=new md_ContactUs();sComment="This is an automatic error logged by the Native App.\n".concat("There was an error fetching app configurations settings (used for setting app-wise visibility of controls).\n\n"," The app reported following error [".concat(this.model.first().has("error_msg")?this.model.first().get("error_msg"):"","]"));app.objContactUs.set({name:"AppErrorAutomation",email:$("#txt_EmailAddress").val(),regard:utils.getContactUsRegards(),comments:sComment,u_ScreenResolution:screen.width+"x"+screen.height,u_ScreenDepth:screen.colorDepth,});utils.writeConsoleLog("btn_AppConfig_Report_OnClick :: Before calling rt_appConfigReport");app.rt_appConfigReport(constants.appConfigSettingReport);utils.writeConsoleLog("btn_AppConfig_Report_OnClick :: Exiting")}});

window.vw_FavoritedByList=Backbone.View.extend({m_objViewAppSort:null,initialize:function(){this.template=_.template(utils.get("tp_FavoritedByList"))},render:function(b){appLogger.writeLog("render","vw_FavoritedByList.js",appLogger.logLevelDebug,"Entering");app.m_sSelectedTab="#tabFavoritedBy";m_objViewAppSort=new vw_AppSort();$(this.el).html(this.template());var a=$("#tblContainerFavoritedByList",$(this.el));utils.renderAppTitleBar(a);utils.renderAppTabs(constants.tabType_MyFavorites,a,app.m_sSelectedTab);utils.renderBottomClickControl(a);var c=$("#divSort",$(this.el));$("#divSort",$(this.el)).removeClass("hide");m_objViewAppSort.renderSort(constants.tabType_FavoritedBy,c);this.displayFavoritedByList(this.model,this.options.no_data_found_msg,this.options.user_interaction_type);this.registerSwipeUpEvent_FavoritedByList();return this},events:{"click #hrefFetchNextRecord":"Onclick_GetMoreData"},Onclick_GetMoreData:function(a){appLogger.writeLog("Onclick_GetMoreData","vw_FavoritedByList.js",appLogger.logLevelDebug,"Entering");utils.getMoreData(this,app.objFavoritedByList,new cl_ViewedMe(),function(d,c,b){app.objFavoritedByList=d;b.displayFavoritedByList(d,c,b.options.user_interaction_type)},function(d,c,b){app.objFavoritedByList=d;b.displayFavoritedByList(d,"No more Favorited By found!",b.options.user_interaction_type)},false,true)},displayFavoritedByList:function(d,a,c){appLogger.writeLog("displayFavoritedByList","vw_FavoritedByList.js",appLogger.logLevelDebug,"Entering");var b=$("#lstFavoritedByList",$(this.el));if(a!=" "){b.append("<table width='100%' class='table'><tr class='info'><td class='muted'><h6><center>"+a+"</center></h6></td></tr></table>");$("#trFetchNextRecord",$(this.el)).addClass("hide")}if(!(d.length>0)){$("#trFetchNextRecord",$(this.el)).addClass("hide")}_.each(d.models,function(e){e.set({searchType:c});b.append(new vw_FavoritedByListItem({model:e}).render().el)},this)},registerSwipeUpEvent_FavoritedByList:function(){appLogger.writeLog("registerSwipeUpEvent_FavoritedByList","vw_FavoritedByList.js",appLogger.logLevelDebug,"Entering");var d=this.options.user_interaction_type;var c=this.options.no_data_found_msg;var b=this.model;var a=this;$("#lstFavoritedByList",this.el).swipe({swipeUp:function(h,k,l,j,e){var f=$(h.target).closest("td[name=ItemFavoritedByList]").closest("tr").index();var i=$("td[name=ItemFavoritedByList]",$(h.currentTarget)).length;if(f>=i-5){utils.writeConsoleLog("tr index = "+$(h.target).closest("tr").index());var g=1;if(app.objFavoritedByList!=null&&app.objFavoritedByList.length>0){g=parseInt(app.objFavoritedByList.first().get("currentPageNo"))+1}if(g!=1){app.objFavoritedByList=new cl_ViewedMe();app.objFavoritedByList.add({user_interaction_type:d,currentPageNo:g,sort_order:(app.jsonSortAttribute.Sort_order!="none"?app.jsonSortAttribute.Sort_order:""),sort_field:(app.jsonSortAttribute.Sort_field!="none"?app.jsonSortAttribute.Sort_field:"")});app.before(function(){a.displayFavoritedByList(app.objFavoritedByList," ",a.options.user_interaction_type);app.objFavoritedByList.first().set({currentPageNo:g})},function(){a.displayFavoritedByList(app.objFavoritedByList,"No more Favorited By found!",a.options.user_interaction_type)},app.objFavoritedByList)}}},threshold:100,allowPageScroll:"vertical"})}});window.vw_FavoritedByListItem=Backbone.View.extend({tagName:"tr",initialize:function(){this.template=_.template(utils.get("tp_FavoritedByListItem"));this.model.bind("change",this.render,this);this.model.bind("destroy",this.close,this)},render:function(a){appLogger.writeLog("render","vw_FavoritedByListItem.js",appLogger.logLevelDebug,"Entering");if(this.model.get("message_status")=="None"){this.model.set({date_lastmsg:"None"})}else{this.model.set({date_lastmsg:this.model.get("message_sent_date")})}if(this.model.get("wink_sent_date")==""){this.model.set({wink_sent_date:"None"})}$(this.el).html(this.template(this.model.toJSON()));if("Message Not Yet Read"==this.model.get("message_status")|"None"==this.model.get("message_status")){$("small[name=Idlastmsgsent]",$(this.el)).removeClass("label label-light-gray");$("small[name=Idlastmsgsent]",$(this.el)).addClass("text-info");$("em[name=Idlastmsgsent]",$(this.el)).removeClass("label label-light-gray");$("em[name=Idlastmsgsent]",$(this.el)).addClass("text-info")}return this}});

window.vw_EmailReceivedDetail=Backbone.View.extend({initialize:function(){this.template=_.template(utils.get("tp_EmailReceivedDetail"));try{app.i_CurrentPage=app.objInboxList.first().get("currentPageNo")}catch(a){console.log("Exception in vw_EmailReceivedDetail cannot set current page no. : "+a)}},render:function(b){appLogger.writeLog("render","vw_EmailReceivedDetail.js",appLogger.logLevelDebug,"Entering");sDecodedMessage=utils.base64_decode(this.model.get("message"));this.model.set({message:sDecodedMessage});$(this.el).html(this.template(this.model.toJSON()));var a=$("#tblContainerInboxDetail",$(this.el));utils.renderAppTitleBar(a);appConfigSetting.showHideConfigElements($(a,$(this.el)),"mail_inbox_read");$('div[name=" "]',$(this.el)).addClass("hide");$('td[name="0"]',$(this.el)).addClass("hide");$('td[name=" "]',$(this.el)).addClass("hide");$('div[name="1"]',$(this.el)).addClass("hide");return this},events:{"click #but_BlockUser":"onClick_BlockUser","click #btn_ViewPhoto":"onClick_ViewPhoto"},onClick_BlockUser:function(){appLogger.writeLog("onClick_BlockUser","vw_EmailReceivedDetail.js",appLogger.logLevelDebug,"Entering");var c=this.model.get("mail_id");var a=this.model.get("from_user_id");var b=this.model.get("type");var d="1";app.rt_BlockUser(c,b,a,d)},onClick_ViewPhoto:function(){appLogger.writeLog("onClick_ViewPhoto","vw_EmailReceivedDetail.js",appLogger.logLevelDebug,"Entering");$('tr[name="btn_Viewphoto"]',$(this.el)).addClass("hide");$('tr[name="Idviewphoto"]',$(this.el)).removeClass("hide");var a=this.model.get("mail_id");var b=this.model.get("type");var c="photo";app.rt_InboxDetail_EmailAttachedPhoto(a,b,c)}});

window.vw_PrivacyPolicy=Backbone.View.extend({initialize:function(){this.template=_.template(utils.get("tp_PrivacyPolicy"))},render:function(b){appLogger.writeLog("render","vw_PrivacyPolicy.js",appLogger.logLevelDebug,"Entering");$(this.el).html(this.template(this.model.toJSON()));var a=$("#divPrivacyPolicy",$(this.el));a.find("#divHeader h4").append(utils.base64_decode(this.model.get("header")));a.find("#divContent").append(utils.base64_decode(this.model.get("content")));utils.renderAppTitleBar(a);return this},});

window.vw_RegistrationCategory=Backbone.View.extend({m_sTemplate:"",m_sSelectedItem:"",m_sSelectedStep:0,m_objViewAppDropDown:null,m_dropdown_renderCnt:0,m_sthisSelection:null,initialize:function(){m_objViewAppDropDown=new vw_AppDropDown();switch(this.options.RegistrationCategory){case constants.userRegistration_AccountDetails:m_sSelectedItem="#tblAccountDetails";m_sTemplate="tp_Registration_AccountDetails";m_sSelectedStep=0;break;case constants.userRegistration_PrimaryInfo:m_sSelectedItem="#tblRegistration_PrimaryInfo";m_sTemplate="tp_Registration_PrimaryInfo";m_sSelectedStep=1;break;case constants.userRegistration_Address:m_sSelectedItem="#tblEditAddress";m_sTemplate="tp_UserProfile_EditAddress";m_sSelectedStep=2;break;case constants.userRegistration1_ProfileDescription:m_sSelectedItem="#tblEditProfileDescriptives";m_sTemplate="tp_UserProfile_EditProfileDescriptives";m_sSelectedStep=3;break;case constants.userRegistration1_PrimaryInfo:m_sSelectedItem="#tblRegistration1_PrimaryInfo";m_sTemplate="tp_Registration1_PrimaryInfo";m_sSelectedStep=4;break;case constants.userRegistration1_MaritalInfo:m_sSelectedItem="#tblEditMaritalInfo";m_sTemplate="tp_UserProfile_EditMaritalInfo";m_sSelectedStep=5;break;case constants.userRegistration1_EducationProfession:m_sSelectedItem="#tblEditEducationProfession";m_sTemplate="tp_UserProfile_EditEducationProfession";m_sSelectedStep=6;break;case constants.userRegistration1_PersonalityTraits:m_sSelectedItem="#tblEditPersonalityTraits";m_sTemplate="tp_UserProfile_EditPersonalityTraits";m_sSelectedStep=7;break;case constants.userRegistration1_ChurchInfo:m_sSelectedItem="#tblChurchInfo";m_sTemplate="tp_Registration1_ChurchInfo";m_sSelectedStep=8;break;default:m_sSelectedItem="#divAccountDetails";m_sTemplate="tp_Registration_AccountDetails";m_sSelectedStep=0;break}},render:function(b){appLogger.writeLog("render","vw_RegistrationCategory.js",appLogger.logLevelDebug,"Entering");this.template=_.template(utils.get(m_sTemplate));$(this.el).html(this.template(this.model));var a=$(m_sSelectedItem,$(this.el));utils.renderAppTitleBar(a);sPage=constants.page_Registration2;switch(m_sSelectedStep){case 0:utils.addConfigAttributeToElements(a.find("#divControlGroup_UserName"),"show_user_name_txtbox");utils.addConfigAttributeToElements(a.find("#divControlGroup_Password"),"show_user_password_txtbox");utils.addConfigAttributeToElements(a.find("#divControlGroup_Password #txt_ReEnter_Password"),"show_reenter_password_txtbox");utils.addConfigAttributeToElements(a.find("#divControlGroup_EmailAddress"),"show_email_txtbox");utils.addConfigAttributeToElements(a.find("#divControlGroup_EmailAddress #txt_ReEnter_EmailAddress"),"show_reenter_email_txtbox");utils.addConfigAttributeToElements(a.find("#divControlGroup_FirstName"),"show_first_name_txtbox");utils.addConfigAttributeToElements(a.find("#divControlGroup_LastName"),"show_last_name_txtbox");utils.addConfigAttributeToElements(a.find("#btnregistration_AccountDetailsSave"),constants.Registration1_MandatoryControls);a.find("#btnregistration_AccountDetailsSave").attr({isMandatory:"true"});sPage=constants.page_Registration1;break;case 1:utils.addConfigAttributeToElements(a.find("#divControlGroup_Gender"),"show_gender_rdo");utils.addConfigAttributeToElements(a.find("#divControlGroup_DOB"),"show_birthday_dropdown");utils.addConfigAttributeToElements(a.find("#divControlGroup_Ethnicity"),"show_ethnicity_dropdown");utils.addConfigAttributeToElements(a.find("#btnRegistration_PrimaryInfoSave"),constants.Registration1_MandatoryControls);a.find("#btnRegistration_PrimaryInfoSave").attr({isMandatory:"true"});sPage=constants.page_Registration1;break;case 2:utils.addConfigAttributeToElements(a.find("#divControlGroup_EditProfileCountry"),"show_country_dropdown");utils.addConfigAttributeToElements(a.find("#divControlGroup_EditProfileState"),"show_state_dropdown");utils.addConfigAttributeToElements(a.find("#divControlGroup_EditProfileCity"),"show_city_txtbox");utils.addConfigAttributeToElements(a.find("#divControlGroup_EditProfilePostalCode"),"show_postal_code_txtbox");utils.addConfigAttributeToElements(a.find("#btnAddressSave"),constants.Registration1_MandatoryControls);a.find("#btnAddressSave").attr({isMandatory:"true"});sPage=constants.page_Registration1;break;case 3:utils.addConfigAttributeToElements(a.find("#divControlGroup_EditHeadline"),"show_headline_txtbox");utils.addConfigAttributeToElements(a.find("#divControlGroup_EditProfileDescription"),"show_descriptive_profile_txtbox");utils.addConfigAttributeToElements(a.find("#divControlGroup_EditFirstDate"),"show_first_date_description_txtbox");utils.addConfigAttributeToElements(a.find("#divControlGroup_EditMyInterest"),"show_interets_txtbox");utils.renderSmiles($("#td_SmileHeader",$(this.el)));utils.addConfigAttributeToElements(a.find("#td_SmileHeader .smileheader"),"show_smile_images_block");break;case 4:utils.addConfigAttributeToElements(a.find("#divControlGroup_EditProfileDenomination"),"show_denomination_dropdown");utils.addConfigAttributeToElements(a.find("#divControlGroup_Language"),"show_language_dropdown");utils.addConfigAttributeToElements(a.find("#divControlGroup_EditProfileSmoke"),"show_smoke_dropdown");utils.addConfigAttributeToElements(a.find("#divControlGroup_EditProfileDrink"),"show_drink_dropdown");utils.addConfigAttributeToElements(a.find("#divControlGroup_AgeFromAndTo"),"show_age_dropdown");break;case 5:utils.addConfigAttributeToElements(a.find("#divControlGroup_EditProfileMarital"),"show_marital_status_dropdown");utils.addConfigAttributeToElements(a.find("#divControlGroup_EditProfileLookinFor"),"show_looking_for_dropdown");utils.addConfigAttributeToElements(a.find("#divControlGroup_EditProfileChildrenHave"),"show_have_children_dropdown");utils.addConfigAttributeToElements(a.find("#divControlGroup_EditProfileChildrenWant"),"show_want_childern_dropdown");utils.addConfigAttributeToElements(a.find("#divControlGroup_EditProfileRelocate"),"show_relocate_dropdown");break;case 6:utils.addConfigAttributeToElements(a.find("#divControlGroup_EditProfileEducation"),"show_education_level_dropdown");utils.addConfigAttributeToElements(a.find("#divControlGroup_EditProfileProfession"),"show_profession_txtbox");break;case 7:utils.addConfigAttributeToElements(a.find("#divControlGroup_EditProfileHeight"),"show_height_dropdown");utils.addConfigAttributeToElements(a.find("#divControlGroup_EditProfileBodyType"),"show_body_type_dropdown");utils.addConfigAttributeToElements(a.find("#divControlGroup_EditProfileHairColor"),"show_hair_color_dropdown");utils.addConfigAttributeToElements(a.find("#divControlGroup_EditProfileEyeColor"),"show_eye_color_dropdown");break;case 8:utils.addConfigAttributeToElements(a.find("#divControlGroup_ChurchName"),"show_church_name_txtbox");utils.addConfigAttributeToElements(a.find("#divControlGroup_ChurchAttendance"),"show_church_attendance_dropdown");utils.addConfigAttributeToElements(a.find("#divControlGroup_ChurchRaisedIn"),"show_church_raised_in_dropdown");break}appConfigSetting.showHideConfigElements(a,sPage);switch(m_sSelectedStep){case 0:$("#txt_UserName",$(this.el)).val(app.objRegistration.get("u_name"));$("#txt_Password",$(this.el)).val(app.objRegistration.get("u_password"));$("#txt_ReEnter_Password",$(this.el)).val(app.objRegistration.get("u_reEnter_password"));$("#txt_EmailAddress",$(this.el)).val(app.objRegistration.get("u_email_address"));$("#txt_ReEnter_EmailAddress",$(this.el)).val(app.objRegistration.get("u_reEnter_email"));$("#txt_FirstName",$(this.el)).val(app.objRegistration.get("u_firstName"));$("#txt_LastName",$(this.el)).val(app.objRegistration.get("u_lastName"));break;case 1:m_objViewAppDropDown.renderImages($("#dropdown_Gender",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Registration1,dropdownType:constants.dropdown_Gender,userSelection:app.objRegistration.get("u_gender"),pageType:"Registration"}));m_objViewAppDropDown.renderDropDown($("#dropdown_Ethnicity",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Registration1,dropdownType:constants.dropdown_Ethnicity,userSelection:app.objRegistration.get("u_ethnicity")}));$("#txt_DOB",$(this.el)).val(app.objRegistration.get("u_dob"));if(constants.platform_id==3){$("#txt_DOB",$(this.el)).prop("type","submit");$("#txt_DOB",$(this.el)).addClass("dateDOB")}break;case 2:m_objViewAppDropDown.renderDropDown($("#dropdown_Country",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Registration1,dropdownType:constants.dropdown_Country,userSelection:app.objRegistration.get("u_country")}));$("#dropdown_Country",$(this.el)).change(function(){$("#dropdown_State").empty();m_objViewAppDropDown.renderDropDown($("#dropdown_State"),new md_AppDropDown().set({dropdownType:constants.dropdown_State,calledFrom:constants.page_Registration1,filters:{u_country:this.value},userSelection:app.objRegistration.get("u_state")}))});$("#txt_City",$(this.el)).val(app.objRegistration.get("u_city"));$("#txt_PostalCode",$(this.el)).val(app.objRegistration.get("u_postalcode"));break;case 3:if(!a.find("#td_SmileHeader .smileheader").hasClass("hide")){utils.addConfigAttributeToElements(a.find("#td_SmileHeader .smileheader"),"show_first_date_description_txtbox,show_descriptive_profile_txtbox");appConfigSetting.showHideConfigElements(a.find("#td_SmileHeader"),constants.page_Registration2)}m_objViewAppDropDown.renderSmiles($("#tblIterateSmiles",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Registration2,dropdownType:constants.dropdown_smiles}));m_sthisSelection=null;$("#txt_EditHeadline",$(this.el)).val(app.objRegistration.get("u_headline"));$("#txtArea_EditProfileDescription",$(this.el)).val(app.objRegistration.get("u_description"));$("#txtArea_EditFirstDate",$(this.el)).val(app.objRegistration.get("u_first_date"));$("#txt_EditMyInterest",$(this.el)).val(app.objRegistration.get("u_interests"));break;case 4:m_objViewAppDropDown.renderDropDown($("#dropdown_Denomination",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Registration2,dropdownType:constants.dropdown_Denomination,userSelection:app.objRegistration.get("u_denomination")}));m_objViewAppDropDown.renderDropDown($("#dropdown_Language",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Registration2,dropdownType:constants.dropdown_Language,userSelection:app.objRegistration.get("u_language")==undefined||app.objRegistration.get("u_language")==""?"2":app.objRegistration.get("u_language")}));m_objViewAppDropDown.renderDropDown($("#dropdown_Smoke",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Registration2,dropdownType:constants.dropdown_Smoke,userSelection:app.objRegistration.get("u_smoke")}));m_objViewAppDropDown.renderDropDown($("#dropdown_Drink",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Registration2,dropdownType:constants.dropdown_Drink,userSelection:app.objRegistration.get("u_drink")}));m_objViewAppDropDown.renderDropDown($("#dropdown_AgeFrom",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Registration2,dropdownType:constants.dropdown_AgeFrom,userSelection:app.objRegistration.get("u_age_from")==undefined||app.objRegistration.get("u_age_from")==""?0:app.objRegistration.get("u_age_from")}));m_objViewAppDropDown.renderDropDown($("#dropdown_AgeTo",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Registration2,dropdownType:constants.dropdown_AgeTo,userSelection:app.objRegistration.get("u_age_to")==undefined||app.objRegistration.get("u_age_to")==""?0:app.objRegistration.get("u_age_to")}));$("#dropdown_Denomination",$(this.el)).change(function(){if($("#dropdown_Denomination").val()=="12"){$("#txt_Denomination").removeClass("hide");$("#txt_Denomination").val(app.objRegistration.get("u_denomination_other"))}else{$("#txt_Denomination").addClass("hide")}});break;case 5:m_objViewAppDropDown.renderDropDown($("#dropdown_EditMaritalStatus",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Registration2,dropdownType:constants.dropdown_Marital,userSelection:app.objRegistration.get("u_marital")}));m_objViewAppDropDown.renderDropDown($("#dropdown_EditLookingFor",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Registration2,dropdownType:constants.dropdown_LookingFor,userSelection:app.objRegistration.get("u_looking_for")}));m_objViewAppDropDown.renderDropDown($("#dropdown_EditHaveChildren",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Registration2,dropdownType:constants.dropdown_ChildrenHave,userSelection:app.objRegistration.get("u_children_have")}));m_objViewAppDropDown.renderDropDown($("#dropdown_EditWantChildren",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Registration2,dropdownType:constants.dropdown_ChildrenWant,userSelection:app.objRegistration.get("u_children_want")}));m_objViewAppDropDown.renderDropDown($("#dropdown_EditRelocate",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Registration2,dropdownType:constants.dropdown_Relocate,userSelection:app.objRegistration.get("u_relocate")}));break;case 6:appConfigSetting.hideRelatedDataForHiddenElements($("#dropdown_EditEducation",$(this.el)).parent(),$("#txt_EditProfession",$(this.el)).parent(),$("#tblEditEducationProfession tr td legend",$(this.el)),"&");m_objViewAppDropDown.renderDropDown($("#dropdown_EditEducation",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Registration2,dropdownType:constants.dropdown_EduLevel,userSelection:app.objRegistration.get("u_edu_level")}));$("#txt_EditProfession",$(this.el)).val(app.objRegistration.get("u_profession"));break;case 7:m_objViewAppDropDown.renderDropDown($("#dropdown_EditHeight",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Registration2,dropdownType:constants.dropdown_Height,userSelection:app.objRegistration.get("u_height")==undefined?"":app.objRegistration.get("u_height")}));m_objViewAppDropDown.renderDropDown($("#dropdown_EditBodyType",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Registration2,dropdownType:constants.dropdown_BodyType,userSelection:app.objRegistration.get("u_body_type")==undefined?"":app.objRegistration.get("u_body_type")}));m_objViewAppDropDown.renderDropDown($("#dropdown_EditHairColor",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Registration2,dropdownType:constants.dropdown_HairColor,userSelection:app.objRegistration.get("u_hair_color")==undefined?"":app.objRegistration.get("u_hair_color")}));m_objViewAppDropDown.renderDropDown($("#dropdown_EditEyeColor",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Registration2,dropdownType:constants.dropdown_EyeColor,userSelection:app.objRegistration.get("u_eye_color")==undefined?"":app.objRegistration.get("u_eye_color")}));break;case 8:$("#txt_ChurchName",$(this.el)).val(app.objRegistration.get("u_church_name"));m_objViewAppDropDown.renderDropDown($("#dropdown_ChurchAttendance",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Registration2,dropdownType:constants.dropdown_ChurchAttendance,userSelection:app.objRegistration.get("u_church_attendance")==undefined?"":app.objRegistration.get("u_church_attendance")}));m_objViewAppDropDown.renderDropDown($("#dropdown_ChurchRaisedIn",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Registration2,dropdownType:constants.dropdown_ChurchRaisedIn,userSelection:app.objRegistration.get("u_church_raised_in")==undefined?"":app.objRegistration.get("u_church_raised_in")}));break}return this},events:{"click button[name = editCancel]":"btnCancel_OnClick","click #divCalender":"divCalender_OnClick","click #txt_DOB":"showDatePicker_OnFocus","focus #txt_DOB":"showDatePicker_OnFocus","click #btnRegistration_PrimaryInfoSave":"registrationPrimaryInfoSave_OnClick","click #btnAddressSave":"registrationAddressSave_OnClick","click #btnregistration_AccountDetailsSave":"registration_AccountDetailsSave_OnClick","click #btnRegistration1_PrimaryInfoSave":"registration1_PrimaryInfoSave_OnClick","click #btnProfileDescriptivesSave":"registration1_ProfileDescriptivesSave_OnClick","click #btnMaritalInfoSave":"registration1_MaritalInfoSave_OnClick","click #btnEducationProfessionSave":"registration1_EducationProfessionSave_OnClick","click #btnPersonalityTraitsSave":"registration1_PersonalityTraitsSave_OnClick","click #btnChurchInfoSave":"registration1_ChurchInfoSave_OnClick","focus textarea[name = smile]":"inputNameSmile_OnFocus"},inputNameSmile_OnFocus:function(a){appLogger.writeLog("inputNameSmile_OnFocus","vw_RegistrationCategory.js",appLogger.logLevelDebug,"Entering");m_sthisSelection=$(a.currentTarget)},divCalender_OnClick:function(){appLogger.writeLog("divCalender_OnClick","vw_RegistrationCategory.js",appLogger.logLevelDebug,"Entering");this.showDatePicker_OnFocus();if(constants.platform_id==3){$("#txt_DOB",$(this.el)).datepicker("show")}else{$("#txt_DOB",$(this.el)).scroller("show")}},showDatePicker_OnFocus:function(){appLogger.writeLog("showDatePicker_OnFocus","vw_RegistrationCategory.js",appLogger.logLevelDebug,"Entering");utils.writeConsoleLog("showDatePicker : entering");if(constants.platform_id==3){$("#txt_DOB",$(this.el)).datepicker({changeMonth:true,changeYear:true,dateFormat:"mm/dd/yy",yearRange:"-110:+1"});$("#txt_DOB",$(this.el)).datepicker("show")}else{$("#txt_DOB",$(this.el)).scroller("destroy").scroller({preset:"date",theme:"Default",mode:"scroller",display:"modal",animate:"slidevertical",lang:"",dateOrder:"M ddyy",dateFormat:"mm/dd/yy",beforeShow:function(a,b){b.setDate($.scroller.parseDate("mm/dd/yy",a.value))}})}utils.writeConsoleLog("showDatePicker : exiting")},btnCancel_OnClick:function(){appLogger.writeLog("btnCancel_OnClick","vw_RegistrationCategory.js",appLogger.logLevelDebug,"Entering");if(app.objRegistration.get("u_page")==constants.userRegistration1){app.navigate("#registration/registration1",{trigger:true})}else{app.navigate("#registration/registration2",{trigger:true})}},registrationPrimaryInfoSave_OnClick:function(){appLogger.writeLog("registrationPrimaryInfoSave_OnClick","vw_RegistrationCategory.js",appLogger.logLevelDebug,"Entering");app.objRegistration.set({u_gender:m_objViewAppDropDown.getSelectedValue($("#dropdown_Gender")),u_dob:$("#txt_DOB").val(),u_ethnicity:m_objViewAppDropDown.getSelectedValue($("#dropdown_Ethnicity")),u_ethnicityText:$("#dropdown_Ethnicity option:selected").text()!="Please select"?$("#dropdown_Ethnicity option:selected").text():"",u_requestType:this.next_url(constants.userRegistration_PrimaryInfo),u_currentRequest:2});app.rt_Registration_Save()},registrationAddressSave_OnClick:function(){appLogger.writeLog("registrationAddressSave_OnClick","vw_RegistrationCategory.js",appLogger.logLevelDebug,"Entering");app.objRegistration.set({u_country:m_objViewAppDropDown.getSelectedValue($("#dropdown_Country")),u_countryText:$("#dropdown_Country option:selected").text()!="Please select"?$("#dropdown_Country option:selected").text():"",u_state:m_objViewAppDropDown.getSelectedValue($("#dropdown_State")),u_stateText:$("#dropdown_State option:selected").text()!="Please select"?$("#dropdown_State option:selected").text():"",u_city:$("#txt_City").val(),u_postalcode:$("#txt_PostalCode").val(),u_requestType:this.next_url(constants.userRegistration_Address),u_currentRequest:3});app.rt_Registration_Save()},registration_AccountDetailsSave_OnClick:function(){appLogger.writeLog("registration_AccountDetailsSave_OnClick","vw_RegistrationCategory.js",appLogger.logLevelDebug,"Entering");app.objRegistration.set({u_name:$("#txt_UserName").val(),u_password:$("#txt_Password").val(),u_reEnter_password:$("#txt_ReEnter_Password").val(),u_email_address:$("#txt_EmailAddress").val(),u_reEnter_email:$("#txt_ReEnter_EmailAddress").val(),u_firstName:$("#txt_FirstName").val(),u_lastName:$("#txt_LastName").val(),u_requestType:this.next_url(constants.userRegistration_AccountDetails),u_currentRequest:1});app.rt_Registration_Save()},registration1_PrimaryInfoSave_OnClick:function(){appLogger.writeLog("registration1_PrimaryInfoSave_OnClick","vw_RegistrationCategory.js",appLogger.logLevelDebug,"Entering");app.objRegistration.set({u_denomination:m_objViewAppDropDown.getSelectedValue($("#dropdown_Denomination")),u_denomination_text:$("#dropdown_Denomination option:selected").text()!="Please select"?$("#dropdown_Denomination option:selected").text():"",u_denomination_other:$("#txt_Denomination").val(),u_language:m_objViewAppDropDown.getSelectedValue($("#dropdown_Language")),u_language_text:($("#dropdown_Language option:selected").text()).indexOf("Please select")>-1?"":$("#dropdown_Language option:selected").text(),u_smoke:m_objViewAppDropDown.getSelectedValue($("#dropdown_Smoke")),u_smoke_text:$("#dropdown_Smoke option:selected").text()!="Please select"?$("#dropdown_Smoke option:selected").text():"",u_drink:m_objViewAppDropDown.getSelectedValue($("#dropdown_Drink")),u_drink_text:$("#dropdown_Drink option:selected").text()!="Please select"?$("#dropdown_Drink option:selected").text():"",u_age_from:m_objViewAppDropDown.getSelectedValue($("#dropdown_AgeFrom")),u_age_to:m_objViewAppDropDown.getSelectedValue($("#dropdown_AgeTo")),u_requestType:this.next_url(constants.userRegistration1_PrimaryInfo),u_currentRequest:2});app.rt_Registration_Save()},registration1_ProfileDescriptivesSave_OnClick:function(){appLogger.writeLog("registration1_ProfileDescriptivesSave_OnClick","vw_RegistrationCategory.js",appLogger.logLevelDebug,"Entering");app.objRegistration.set({u_headline:$("#txt_EditHeadline").val(),u_description:$("#txtArea_EditProfileDescription").val(),u_first_date:$("#txtArea_EditFirstDate").val(),u_interests:$("#txt_EditMyInterest").val(),u_requestType:this.next_url(constants.userRegistration1_ProfileDescription),u_currentRequest:1});app.rt_Registration_Save()},registration1_MaritalInfoSave_OnClick:function(){appLogger.writeLog("registration1_MaritalInfoSave_OnClick","vw_RegistrationCategory.js",appLogger.logLevelDebug,"Entering");app.objRegistration.set({u_marital:m_objViewAppDropDown.getSelectedValue($("#dropdown_EditMaritalStatus")),u_marital_text:$("#dropdown_EditMaritalStatus option:selected").text()!="Please select"?$("#dropdown_EditMaritalStatus option:selected").text():"",u_looking_for:m_objViewAppDropDown.getSelectedValue($("#dropdown_EditLookingFor")),u_looking_for_text:$("#dropdown_EditLookingFor option:selected").text()!="Please select"?$("#dropdown_EditLookingFor option:selected").text():"",u_children_have:m_objViewAppDropDown.getSelectedValue($("#dropdown_EditHaveChildren")),u_children_have_text:$("#dropdown_EditHaveChildren option:selected").text()!="Please select"?$("#dropdown_EditHaveChildren option:selected").text():"",u_children_want:m_objViewAppDropDown.getSelectedValue($("#dropdown_EditWantChildren")),u_children_want_text:$("#dropdown_EditWantChildren option:selected").text()!="Please select"?$("#dropdown_EditWantChildren option:selected").text():"",u_relocate:m_objViewAppDropDown.getSelectedValue($("#dropdown_EditRelocate")),u_relocate_text:$("#dropdown_EditRelocate option:selected").text()!="Please select"?$("#dropdown_EditRelocate option:selected").text():"",u_requestType:this.next_url(constants.userRegistration1_MaritalInfo),u_currentRequest:3});app.rt_Registration_Save()},registration1_EducationProfessionSave_OnClick:function(){appLogger.writeLog("registration1_EducationProfessionSave_OnClick","vw_RegistrationCategory.js",appLogger.logLevelDebug,"Entering");app.objRegistration.set({u_edu_level:m_objViewAppDropDown.getSelectedValue($("#dropdown_EditEducation")),u_edu_level_text:$("#dropdown_EditEducation option:selected").text()!="Please select"?$("#dropdown_EditEducation option:selected").text():"",u_profession:$("#txt_EditProfession").val(),u_requestType:this.next_url(constants.userRegistration1_EducationProfession),u_currentRequest:4});app.rt_Registration_Save()},registration1_PersonalityTraitsSave_OnClick:function(){appLogger.writeLog("registration1_PersonalityTraitsSave_OnClick","vw_RegistrationCategory.js",appLogger.logLevelDebug,"Entering");appConfigSetting.getPageSettingsValues(constants.page_Registration2);console.log("CHRUCH INFO : "+app.objAppConfig_Setting_tmp.get("show_church_attendance_dropdown"));app.objRegistration.set({u_height:m_objViewAppDropDown.getSelectedValue($("#dropdown_EditHeight")),u_height_text:$("#dropdown_EditHeight option:selected").text()!="Please select"?$("#dropdown_EditHeight option:selected").text():"",u_body_type:m_objViewAppDropDown.getSelectedValue($("#dropdown_EditBodyType")),u_body_type_text:$("#dropdown_EditBodyType option:selected").text()!="Please select"?$("#dropdown_EditBodyType option:selected").text():"",u_hair_color:m_objViewAppDropDown.getSelectedValue($("#dropdown_EditHairColor")),u_hair_color_text:$("#dropdown_EditHairColor option:selected").text()!="Please select"?$("#dropdown_EditHairColor option:selected").text():"",u_eye_color:m_objViewAppDropDown.getSelectedValue($("#dropdown_EditEyeColor")),u_eye_color_text:$("#dropdown_EditEyeColor option:selected").text()!="Please select"?$("#dropdown_EditEyeColor option:selected").text():"",u_requestType:this.next_url(constants.userRegistration1_PersonalityTraits),u_currentRequest:5});app.rt_Registration_Save()},registration1_ChurchInfoSave_OnClick:function(){appLogger.writeLog("registration1_ChurchInfoSave_OnClick","vw_RegistrationCategory.js",appLogger.logLevelDebug,"Entering");app.objRegistration.set({u_church_name:$("#txt_ChurchName").val(),u_church_attendance:m_objViewAppDropDown.getSelectedValue($("#dropdown_ChurchAttendance")),u_church_attendence_text:$("#dropdown_ChurchAttendance option:selected").text()!="Please select"?$("#dropdown_ChurchAttendance option:selected").text():"",u_church_raised_in:m_objViewAppDropDown.getSelectedValue($("#dropdown_ChurchRaisedIn")),u_church_raised_in_text:$("#dropdown_ChurchRaisedIn option:selected").text()!="Please select"?$("#dropdown_ChurchRaisedIn option:selected").text():"",u_requestType:this.next_url(constants.userRegistration1_ChurchInfo),u_currentRequest:6});app.rt_Registration_Save()},next_url:function(a){sReturnUrl="";appConfigSetting.getPageSettingsValues(app.objRegistration.get("u_page")+"_Section");if(Object.keys(app.objAppConfig_Setting_tmp.attributes).length>0){flag=false;arr=app.objAppConfig_Setting_tmp.attributes;$.each(arr,function(b,c){if(flag){sReturnUrl=c;flag=false}if(b==a){flag=true}})}if(sReturnUrl==""){sReturnUrl="#registration/"+app.objRegistration.get("u_page")}return sReturnUrl}});

window.vw_ContactUs=Backbone.View.extend({initialize:function(){this.template=_.template(utils.get("tp_ContactUs"))},render:function(b){appLogger.writeLog("render","vw_ContactUs.js",appLogger.logLevelDebug,"Entering");$(this.el).html(this.template());var a=$("#tblContactUs",$(this.el));utils.renderAppTitleBar(a);appConfigSetting.showHideConfigElements($("#tblContactUs",$(this.el)),constants.page_Contact_Us);m_objViewAppDropDown=new vw_AppDropDown();m_objViewAppDropDown.renderDropDown($("#dropdown_ContactUsRegarding",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Contact_Us,dropdownType:constants.dropdown_regarding,userSelection:app.objContactUs.get("regard")==undefined?"":app.objContactUs.get("regard")}));$("#txt_ContactUsEmail",$(this.el)).removeAttr("readonly");$("#txt_ContactUsUserName",$(this.el)).removeAttr("readonly");if(app.objLoginAuthentication!=null&&app.objLoginAuthentication.has("u_id")&&app.objLoginAuthentication.get("u_id")!=""&&app.objLoginAuthentication.get("u_id")!="0"){$("#txt_ContactUsEmail",$(this.el)).val(app.objLoginAuthentication.get("u_email"));$("#txt_ContactUsEmail",$(this.el)).attr("readonly","true");$("#txt_ContactUsUserName",$(this.el)).val(app.objLoginAuthentication.get("u_username"));$("#txt_ContactUsUserName",$(this.el)).attr("readonly","true")}return this},events:{"click #btnContactUsSubmit":"btnContactUsSubmit_OnClick","click #btnContactUsCancel":"btnContactUsCancel_OnClick"},btnContactUsCancel_OnClick:function(){appLogger.writeLog("btnContactUsCancel_OnClick","vw_ContactUs.js",appLogger.logLevelDebug,"Entering");app.navigate("",{trigger:true})},btnContactUsSubmit_OnClick:function(){appLogger.writeLog("btnContactUsSubmit_OnClick","vw_ContactUs.js",appLogger.logLevelDebug,"Entering");app.objContactUs.set({name:$("#txt_ContactUsName").val(),username:$("#txt_ContactUsUserName").val(),email:$("#txt_ContactUsEmail").val(),regard:m_objViewAppDropDown.getSelectedValue($("#dropdown_ContactUsRegarding")),comments:$("#txtArea_ContactUsComments").val(),u_ScreenResolution:screen.width+"x"+screen.height,u_ScreenDepth:screen.colorDepth,});app.rt_contactUsSubmit()}});

window.vw_AboutUs=Backbone.View.extend({initialize:function(){this.template=_.template(utils.get("tp_AboutUs"))},render:function(b){appLogger.writeLog("render","vw_AboutUs.js",appLogger.logLevelDebug,"Entering");sheadLine="";$(this.el).html(this.template(this.model.toJSON()));var a=$("#divAboutUs",$(this.el));utils.renderAppTitleBar(a);if(this.options.type==constants.ContactUs){sheadLine="Contact us";$("#btnContactUs_Done",$(this.el)).removeClass("hide")}else{if(this.options.type==constants.appConfigSettingReport){sheadLine="Server Busy!";$("#btnContactUs_Done",$(this.el)).removeClass("hide");a.parent().find("#divTitleBar ul li[showOnLoginScreen = false]").addClass("hide")}else{if(this.options.type==constants.AboutUs){sheadLine="About us"}}}$("#divAboutUs div legend",$(this.el)).append(sheadLine);return this},events:{"click #btnContactUs_Done":"btnContactUs_Done_OnClick"},btnContactUs_Done_OnClick:function(){appLogger.writeLog("btnContactUs_Done_OnClick","vw_AboutUs.js",appLogger.logLevelDebug,"Entering");app.navigate("",{trigger:true,replace:true})}});

window.vw_AbuseReportSuccess=Backbone.View.extend({initialize:function(){this.template=_.template(utils.get("tp_AbuseReportSuccess"))},render:function(b){appLogger.writeLog("render","vw_AbuseReportSuccess.js",appLogger.logLevelDebug,"Entering");$(this.el).html(this.template(this.model.toJSON()));var a=$("#divAbuseReportSuccess",$(this.el));utils.renderAppTitleBar(a);return this},events:{"click #btnAbuseReportSuccess_ok":"btnAbuseReportSuccess_ok_OnClick"},btnAbuseReportSuccess_ok_OnClick:function(){appLogger.writeLog("btnAbuseReportSuccess_ok_OnClick","vw_AbuseReportSuccess.js",appLogger.logLevelDebug,"Entering");app.navigate("",{trigger:true})}});

window.vw_FavoritesList=Backbone.View.extend({m_sTemplate:"",m_objViewAppSort:null,initialize:function(){this.template=_.template(utils.get("tp_FavoritesList"));m_sTemplate="tp_DeleteListItem"},render:function(b){appLogger.writeLog("render","vw_FavoritesList.js",appLogger.logLevelDebug,"Entering");app.m_sSelectedTab="#tabFavorites";m_objViewAppSort=new vw_AppSort();$(this.el).html(this.template());var a=$("#tblContainerFavoritesList",$(this.el));utils.renderAppTitleBar(a);utils.renderAppTabs(constants.tabType_MyFavorites,a,app.m_sSelectedTab);utils.renderBottomClickControl(a);var c=$("#divSort",$(this.el));$("#divSort",$(this.el)).removeClass("hide");m_objViewAppSort.renderSort(constants.myFavorites_Favorites,c);this.displayFavoritesList(this.model,this.options.no_data_found_msg,this.options.user_interaction_type);this.registerSwipeUpEvent_FavoritesList();return this},events:{"click #btn_DeleteItemOk":"Onclick_DeleteItemOk","click #btn_DeleteItemCancel":"Onclick_DeleteItemCancel","click #hrefFetchNextRecord":"Onclick_GetMoreData"},Onclick_GetMoreData:function(a){appLogger.writeLog("Onclick_GetMoreData","vw_FavoritesList.js",appLogger.logLevelDebug,"Entering");utils.getMoreData(this,app.objFavoritesList,new cl_ViewedMe(),function(d,c,b){app.objFavoritesList=d;b.displayFavoritesList(d,c,b.options.user_interaction_type)},function(d,c,b){app.objFavoritesList=d;b.displayFavoritesList(d,"No more Favorites found!",b.options.user_interaction_type)},false,true)},Onclick_DeleteItemOk:function(a){appLogger.writeLog("Onclick_DeleteItemOk","vw_FavoritesList.js",appLogger.logLevelDebug,"Entering");ItemId=$(a.target).closest("table").prev("table").attr("ItemId");sMailType=" ";sActionType="Favorite";i_tdDeletedItem=$(a.target).closest("table").parent("td").parent("tr");app.rt_DeleteItem(ItemId,sMailType,sActionType,i_tdDeletedItem)},Onclick_DeleteItemCancel:function(a){appLogger.writeLog("Onclick_DeleteItemCancel","vw_FavoritesList.js",appLogger.logLevelDebug,"Entering");$(a.target).closest("table").prev("table").removeClass("hide");$(a.target).closest("table").remove()},displayFavoritesList:function(c,a,d){appLogger.writeLog("displayFavoritesList","vw_FavoritesList.js",appLogger.logLevelDebug,"Entering");var b=$("#lstFavoritesList",$(this.el));if(a!=" "){if(a=="No more Favorites found!"){b.append("<table width='100%' class='table'><tr class='info'><td class='muted'><h6><center>"+a+"</center></h6></td></tr></table>")}else{b.append("<table width='100%' class='table'><tr class='info'><td class='muted'><h6><center>"+a+"<a class='btn btn-danger btn-mini'><i class='icon-star-empty icon-white'></i></a></center></h6></td></tr></table>")}$("#trFetchNextRecord",$(this.el)).addClass("hide")}if(!(c.length>0)){$("#trFetchNextRecord",$(this.el)).addClass("hide")}_.each(c.models,function(e){e.set({searchType:d});b.append(new vw_FavoritesListItem({model:e}).render().el)},this)},registerSwipeUpEvent_FavoritesList:function(){appLogger.writeLog("registerSwipeUpEvent_FavoritesList","vw_FavoritesList.js",appLogger.logLevelDebug,"Entering");var d=this.options.user_interaction_type;var c=this.options.no_data_found_msg;var b=this.model;var a=this;$("#lstFavoritesList",this.el).swipe({swipeUp:function(h,k,l,j,e){var f=$(h.target).closest("td[name=ItemFavoritesList]").closest("tr").index();var i=$("td[name=ItemFavoritesList]",$(h.currentTarget)).length;if(f>=i-5){utils.writeConsoleLog("tr index = "+$(h.target).closest("tr").index());var g=1;if(app.objFavoritesList!=null&&app.objFavoritesList.length>0){g=parseInt(app.objFavoritesList.first().get("currentPageNo"))+1}if(g!=1){app.objFavoritesList=new cl_ViewedMe();app.objFavoritesList.add({user_interaction_type:d,currentPageNo:g,sort_order:(app.jsonSortAttribute.Sort_order!="none"?app.jsonSortAttribute.Sort_order:""),sort_field:(app.jsonSortAttribute.Sort_field!="none"?app.jsonSortAttribute.Sort_field:"")});app.before(function(){a.displayFavoritesList(app.objFavoritesList," ",a.options.user_interaction_type);app.objFavoritesList.first().set({currentPageNo:g})},function(){a.displayFavoritesList(app.objFavoritesList,"No more Favorites found!",a.options.user_interaction_type)},app.objFavoritesList)}}},threshold:100,allowPageScroll:"vertical"})}});window.vw_FavoritesListItem=Backbone.View.extend({tagName:"tr",initialize:function(){this.template=_.template(utils.get("tp_FavoritesListItem"));this.model.bind("change",this.render,this);this.model.bind("destroy",this.close,this)},render:function(a){appLogger.writeLog("render","vw_FavoritesListItem.js",appLogger.logLevelDebug,"Entering");if(this.model.get("message_status")=="None"){this.model.set({date_lastmsg:"None"})}else{this.model.set({date_lastmsg:this.model.get("message_sent_date")})}if(this.model.get("wink_sent_date")==""){this.model.set({wink_sent_date:"None"})}$(this.el).html(this.template(this.model.toJSON()));if("Message Not Yet Read"==this.model.get("message_status")|"None"==this.model.get("message_status")){$("small[name=Idlastmsgsent]",$(this.el)).removeClass("label label-light-gray");$("small[name=Idlastmsgsent]",$(this.el)).addClass("text-info");$("em[name=Idlastmsgsent]",$(this.el)).removeClass("label label-light-gray");$("em[name=Idlastmsgsent]",$(this.el)).addClass("text-info")}this.registerSwipeRightEvents_FavoritesList($(this.el).children("td[name=ItemFavoritesList]"));return this},registerSwipeRightEvents_FavoritesList:function(a){appLogger.writeLog("render","registerSwipeRightEvents_FavoritesList.js",appLogger.logLevelDebug,"Entering");var b=this;a.swipe({swipeRight:function(e,g,h,f,c){var d=$(e.currentTarget);d.children("table").addClass("hide");b.template=_.template(utils.get(m_sTemplate));d.append(b.template())},threshold:0})}});

window.vw_NoDataFound=Backbone.View.extend({initialize:function(){var a={disp_error:this.options.sDataNotFoundMessage};this.template=_.template(utils.get("tp_NoDataFound"),a)},render:function(){appLogger.writeLog("render","vw_NoDataFound.js",appLogger.logLevelDebug,"Entering");$(this.el).html(this.template);var a=$("#divNoDataFound",$(this.el));utils.renderAppTitleBar(a);utils.renderAppTabs(constants.tabType_Home,a,"#tabMyMatches");return this}});

window.vw_AppSort=Backbone.View.extend({JsonMyMatches:{SortOptions:[{SortDisplayName:"by user name",phpname:"username",icon:"icon-user"},{SortDisplayName:"by age",phpname:"age",icon:"icon-star"},{SortDisplayName:"by location",phpname:"country",icon:"icon-map-marker"}]},JsonFavorites:{SortOptions:[{SortDisplayName:"by user name",phpname:"username",icon:"icon-user"},{SortDisplayName:"by date",phpname:"favorite_date",icon:"icon-calendar"}]},JsonInboxReceived:{SortOptions:[{SortDisplayName:"by subject",phpname:"subject",icon:"icon-list-alt"},{SortDisplayName:"by date",phpname:"date",icon:"icon-calendar"},{SortDisplayName:"by user name",phpname:"from_user_name",icon:"icon-user"},{SortDisplayName:"by status",phpname:"is_read",icon:"icon-comment"}]},JsonInboxSent:{SortOptions:[{SortDisplayName:"by subject",phpname:"subject",icon:"icon-list-alt"},{SortDisplayName:"by date",phpname:"date",icon:"icon-calendar"},{SortDisplayName:"by user name",icon:"icon-user",phpname:"from_user_name"}]},JsonWink:{SortOptions:[{SortDisplayName:"by user name",phpname:"username",icon:"icon-user"},{SortDisplayName:"by date",phpname:"wink_date",icon:"icon-calendar"},]},JsonViewedMe:{SortOptions:[{SortDisplayName:"by user name",phpname:"username",icon:"icon-user"},{SortDisplayName:"by number of views",phpname:"no_of_viewed",icon:"icon-eye-open"},{SortDisplayName:"by date",phpname:"viewed_date",icon:"icon-calendar"},]},initialize:function(){this.template=_.template(utils.get("tp_AppSort"))},renderSort:function(d,a){appLogger.writeLog("renderSort","vw_AppSort.js",appLogger.logLevelDebug,"Entering");var e;var c;var b="";a.append(this.template);c="";switch(d){case constants.searchForMyMatches:c=this.JsonMyMatches;break;case constants.myFavorites_Favorites:c=this.JsonFavorites;break;case constants.tabType_FavoritedBy:c=this.JsonFavorites;break;case constants.tabType_Inbox:c=this.JsonInboxReceived;break;case constants.tabType_Outbox:c=this.JsonInboxSent;break;case constants.tabType_WinkReceived:c=this.JsonWink;break;case constants.tabType_WinkSent:c=this.JsonWink;break;case constants.tabType_Communication:c=this.JsonViewedMe;break}$.each(c,function(){$.each(this,function(){b+='<tr class="well sort_background" value="'+this.phpname+'" SortBy="'+this.SortDisplayName+'" ><td><i class="'+this.icon+'"></i></td><td class="info"><h6>'+this.SortDisplayName+'</h6></td><td class="btn-group"><button name="btnSort" class="btn btn-large btn-primary" data-dismiss="modal" value="asc"><i class="icon-arrow-up icon-white"></i></button><button name="btnSort" class="btn btn-large btn-primary" data-dismiss="modal" value="desc"><i class="icon-arrow-down icon-white"></i></button></td></tr>'})});a.find("#tblSort").append(b);if(app.jsonSortAttribute.Sort_order!="none"){a.find("#btnsortOrder").text("Sorted "+app.jsonSortAttribute.Sort_display+" in "+app.jsonSortAttribute.Sort_order+" order");sFecthElement1='tr[value = "'+app.jsonSortAttribute.Sort_field+'"]';sFecthElement2='button[value = "'+app.jsonSortAttribute.Sort_order+'"]';(a.find(sFecthElement1)).find(sFecthElement2).removeClass().addClass("btn btn-large btn-inverse")}a.find(".dropdown-toggle, .dropdown-menu").on("touchstart",function(f){f.stopPropagation()});a.find("button[name = btnSort]").bind("click",function(f){appLogger.writeLog("SortClick","vw_AppSort.js",appLogger.logLevelDebug,"Entering");thisButton=$(f.currentTarget);thisButton.addClass("btn btn-primary");app.jsonSortAttribute.Sort_order=thisButton.attr("value");app.jsonSortAttribute.Sort_field=thisButton.parent().parent().attr("value");app.jsonSortAttribute.Sort_display=thisButton.parent().parent().attr("SortBy");app.jsonSortAttribute.Pagename=d;switch(d){case constants.searchForMyMatches:if(app.objUserList.length>0){app.objUserList.first().set({sort_order:app.jsonSortAttribute.Sort_order,sort_field:app.jsonSortAttribute.Sort_field,type:constants.searchForMyMatches})}else{app.objUserList.add({sort_order:app.jsonSortAttribute.Sort_order,sort_field:app.jsonSortAttribute.Sort_field,type:constants.searchForMyMatches})}app.rt_UserList(constants.searchForMyMatches);break;case constants.myFavorites_Favorites:if(app.objFavoritesList.length>0){app.objFavoritesList.first().set({sort_order:app.jsonSortAttribute.Sort_order,sort_field:app.jsonSortAttribute.Sort_field,user_interaction_type:constants.myFavorites_Favorites})}else{app.objFavoritesList.add({sort_order:app.jsonSortAttribute.Sort_order,sort_field:app.jsonSortAttribute.Sort_field,user_interaction_type:constants.myFavorites_Favorites})}app.rt_FavoritesList(constants.myFavorites_Favorites);break;case constants.tabType_FavoritedBy:if(app.objFavoritedByList.length>0){app.objFavoritedByList.first().set({sort_order:app.jsonSortAttribute.Sort_order,sort_field:app.jsonSortAttribute.Sort_field,user_interaction_type:constants.tabType_FavoritedBy})}else{app.objFavoritedByList.add({sort_order:app.jsonSortAttribute.Sort_order,sort_field:app.jsonSortAttribute.Sort_field,user_interaction_type:constants.tabType_FavoritedBy})}app.rt_FavoritedByList(constants.tabType_FavoritedBy);break;case constants.tabType_Inbox:if(app.objInboxList.length>0){app.objInboxList.first().set({sort_order:app.jsonSortAttribute.Sort_order,sort_field:app.jsonSortAttribute.Sort_field})}else{app.objInboxList.add({sort_order:app.jsonSortAttribute.Sort_order,sort_field:app.jsonSortAttribute.Sort_field})}app.rt_InboxList(constants.tabType_Inbox);break;case constants.tabType_Outbox:if(app.objSentList.length>0){app.objSentList.first().set({sort_order:app.jsonSortAttribute.Sort_order,sort_field:app.jsonSortAttribute.Sort_field})}else{app.objSentList.add({sort_order:app.jsonSortAttribute.Sort_order,sort_field:app.jsonSortAttribute.Sort_field})}app.rt_SentList(constants.tabType_Outbox);break;case constants.tabType_WinkReceived:if(app.objWinkReceivedList.length>0){app.objWinkReceivedList.first().set({sort_order:app.jsonSortAttribute.Sort_order,sort_field:app.jsonSortAttribute.Sort_field,user_interaction_type:constants.tabType_WinkReceived})}else{app.objWinkReceivedList.add({sort_order:app.jsonSortAttribute.Sort_order,sort_field:app.jsonSortAttribute.Sort_field,user_interaction_type:constants.tabType_WinkReceived})}app.rt_WinkReceived(constants.tabType_WinkReceived);break;case constants.tabType_WinkSent:if(app.objWinkSentList.length>0){app.objWinkSentList.first().set({sort_order:app.jsonSortAttribute.Sort_order,sort_field:app.jsonSortAttribute.Sort_field,user_interaction_type:constants.tabType_WinkSent})}else{app.objWinkSentList.add({sort_order:app.jsonSortAttribute.Sort_order,sort_field:app.jsonSortAttribute.Sort_field,user_interaction_type:constants.tabType_WinkSent})}app.rt_WinkSent(constants.tabType_WinkSent);break;case constants.tabType_Communication:if(app.objViewedMeList.length>0){app.objViewedMeList.first().set({sort_order:app.jsonSortAttribute.Sort_order,sort_field:app.jsonSortAttribute.Sort_field,user_interaction_type:constants.tabType_Communication})}else{app.objViewedMeList.add({sort_order:app.jsonSortAttribute.Sort_order,sort_field:app.jsonSortAttribute.Sort_field,user_interaction_type:constants.tabType_Communication})}app.rt_ViewedMeList(constants.tabType_Communication);break}})},});

window.vw_ViewedMeList=Backbone.View.extend({m_sTemplate:"",m_objViewAppSort:null,initialize:function(){this.template=_.template(utils.get("tp_ViewedMeList"));m_sTemplate="tp_DeleteListItem"},render:function(b){appLogger.writeLog("render","vw_ViewedMeList.js",appLogger.logLevelDebug,"Entering");app.m_sSelectedTab="#tabVisitors";m_objViewAppSort=new vw_AppSort();$(this.el).html(this.template());var a=$("#tblContainer",$(this.el));utils.renderAppTitleBar(a);utils.renderNotificationAppTabs(constants.tabType_Communication,a,"#tabVisitors");utils.renderBottomClickControl(a);$("#swipeInfo",$(this.el)).append(" users");var c=$("#divSort",$(this.el));$("#divSort",$(this.el)).removeClass("hide");m_objViewAppSort.renderSort(constants.tabType_Communication,c);this.displayViewedMeList(this.model,this.options.no_data_found_msg,this.options.user_interaction_type);this.registerSwipeUpEvent_ViewedMeList();return this},events:{"click #btn_DeleteItemOk":"Onclick_DeleteItemOk","click #btn_DeleteItemCancel":"Onclick_DeleteItemCancel","click #hrefFetchNextRecord":"Onclick_GetMoreData"},Onclick_GetMoreData:function(){appLogger.writeLog("Onclick_GetMoreData","vw_ViewedMeList.js",appLogger.logLevelDebug,"Entering");var b=this.options.user_interaction_type;var a=new cl_ViewedMe();a.add({user_interaction_type:b,});utils.getMoreData(this,app.objViewedMeList,a,function(e,d,c){app.objViewedMeList=e;c.displayViewedMeList(e,d)},function(e,d,c){app.objViewedMeList=e;c.displayViewedMeList(e,"No more Visitors found!")},true,true)},Onclick_DeleteItemOk:function(a){appLogger.writeLog("Onclick_DeleteItemOk","vw_ViewedMeList.js",appLogger.logLevelDebug,"Entering");nItemId=$(a.target).closest("table").prev("table").attr("Itemid");sMailType=" ";sActionType="ViewedMe";i_tdDeletedItem=$(a.target).closest("table").parent("td").parent("tr");app.rt_DeleteItem(nItemId,sMailType,sActionType,i_tdDeletedItem)},Onclick_DeleteItemCancel:function(a){appLogger.writeLog("Onclick_DeleteItemCancel","vw_ViewedMeList.js",appLogger.logLevelDebug,"Entering");$(a.target).closest("table").prev("table").removeClass("hide");$(a.target).closest("table").remove()},displayViewedMeList:function(a,b,d){appLogger.writeLog("displayViewedMeList","vw_ViewedMeList.js",appLogger.logLevelDebug,"Entering");var c=$("#lstViewedMeUsers",$(this.el));if(b!=" "){c.append("<table width='100%' class='table'><tr class='info'><td class='muted'><h6><center>"+b+"</center></h6></td></tr></table>");$("#trFetchNextRecord",$(this.el)).addClass("hide")}if(!(a.length>0)){$("#trFetchNextRecord",$(this.el)).addClass("hide")}var c=$("#lstViewedMeUsers",$(this.el));_.each(a.models,function(e){e.set({searchType:d});c.append(new vw_ViewedMeListItem({model:e}).render().el)},this)},registerSwipeUpEvent_ViewedMeList:function(){appLogger.writeLog("registerSwipeUpEvent_ViewedMeList","vw_ViewedMeList.js",appLogger.logLevelDebug,"Entering");var b=this.options.user_interaction_type;var a=this.options.no_data_found_msg;var d=this.model;var c=this;$("#lstViewedMeUsers",this.el).swipe({swipeUp:function(h,k,l,j,e){var f=$(h.target).closest("td[name=ItemViewedMeList]").closest("tr").index();var i=$("td[name=ItemViewedMeList]",$(h.currentTarget)).length;if(f>=i-5){utils.writeConsoleLog("tr index = "+$(h.target).closest("tr").index());var g=1;if(app.objViewedMeList!=null&&app.objViewedMeList.length>0){g=parseInt(app.objViewedMeList.first().get("currentPageNo"))+1}if(g!=1){app.objViewedMeList=new cl_ViewedMe();app.objViewedMeList.add({user_interaction_type:b,currentPageNo:g,sort_order:(app.jsonSortAttribute.Sort_order!="none"?app.jsonSortAttribute.Sort_order:""),sort_field:(app.jsonSortAttribute.Sort_field!="none"?app.jsonSortAttribute.Sort_field:"")});app.before(function(){c.displayViewedMeList(app.objViewedMeList," ",c.options.user_interaction_type);app.objViewedMeList.first().set({currentPageNo:g})},function(){c.displayViewedMeList(app.objViewedMeList,"No more Visitors found!",c.options.user_interaction_type)},app.objViewedMeList)}}},threshold:100,allowPageScroll:"vertical"})}});window.vw_ViewedMeListItem=Backbone.View.extend({tagName:"tr",initialize:function(){this.template=_.template(utils.get("tp_ViewedMeListItem"));this.model.bind("change",this.render,this);this.model.bind("destroy",this.close,this)},render:function(a){appLogger.writeLog("render","vw_ViewedMeListItem.js",appLogger.logLevelDebug,"Entering");if(this.model.get("wink_sent_date")==""){this.model.set({wink_sent_date:"None"})}$(this.el).html(this.template(this.model.toJSON()));this.registerSwipeRightEvents_ViewedMeList($(this.el).children("td[name=ItemViewedMeList]"));return this},registerSwipeRightEvents_ViewedMeList:function(b){appLogger.writeLog("registerSwipeRightEvents_ViewedMeList","vw_ViewedMeListItem.js",appLogger.logLevelDebug,"Entering");var a=this;b.swipe({swipeRight:function(e,g,h,f,c){var d=$(e.currentTarget);d.children("table").addClass("hide");a.template=_.template(utils.get(m_sTemplate));d.append(a.template())},threshold:100})}});

window.vw_Wink=Backbone.View.extend({initialize:function(){this.template=_.template(utils.get("tp_Wink"))},render:function(b){appLogger.writeLog("render","vw_Wink.js",appLogger.logLevelDebug,"Entering");$(this.el).html(this.template(this.model.toJSON()));var a=$("#tblContainerWink",$(this.el));utils.renderAppTitleBar(a);var c=this.model.get("nCount_Error");if(c!=0){$("tr[name=btnWink]",$(this.el)).addClass("hide");$("tr[name=LabelWink]",$(this.el)).addClass("hide")}return this},events:{"click #btn_WinkConfirm":"WinkConfirm_onClick"},WinkConfirm_onClick:function(){appLogger.writeLog("WinkConfirm_onClick","vw_Wink.js",appLogger.logLevelDebug,"Entering");var a="1";var b=this.model.get("u_id");app.rt_Wink(b,a);utils.showAppAlert("Wink sent successfully",null)}});

window.vw_UserList_AdvanceSearch=Backbone.View.extend({m_sTemplate:"",m_objViewAppDropDown:null,initialize:function(){m_objViewAppDropDown=new vw_AppDropDown();switch(this.options.sStepNo){case constants.searchStepSummary:m_sTemplate="tp_UserList_AdvanceSearchSummary";break;case constants.searchStep1:m_sTemplate="tp_UserList_AdvanceSearchStep1";break;case constants.searchStep2:m_sTemplate="tp_UserList_AdvanceSearchStep2";break;case constants.searchStep3:m_sTemplate="tp_UserList_AdvanceSearchStep3";break;case constants.searchStep4:case constants.searchStep5:case constants.searchStep6:case constants.searchStep7:case constants.searchStep8:case constants.searchStep9:case constants.searchStep10:case constants.searchStep11:case constants.searchStep12:case constants.searchStep13:case constants.searchStep14:case constants.searchStep15:m_sTemplate="tp_UserList_AdvanceSearchStep4";break;case constants.searchStep16:m_sTemplate="tp_UserList_AdvanceSearchStep12";break;default:"";break}},render:function(c){appLogger.writeLog("render","vw_UserList_AdvanceSearch.js",appLogger.logLevelDebug,"Entering");app.m_sSelectedTab="#tabAdvanceSearch";var e="";var d="";var a="";this.template=_.template(utils.get(m_sTemplate));$(this.el).html(this.template());var b=$("#tblContainerUserList",$(this.el));switch(this.options.sStepNo){case constants.searchStepSummary:appConfigSetting.hideRelatedDataForHiddenElements_ReplaceString(null,null,b.find("#divAdvanceSearch_Step16"),"and",constants.page_Advance_Search,b.find("#divAdvanceSearch_Step16 td:first h6"));sDisplayValue=b.find("#divAdvanceSearch_Step16 td:first h6").text();if(sDisplayValue.indexOf("Restriction")==-1){b.find("#divAdvanceSearch_Step16 td:first h6").text("");b.find("#divAdvanceSearch_Step16 td:first h6").text(sDisplayValue+" Restriction")}break;case constants.searchStep1:m_objViewAppDropDown.renderImages($("#tdGenderImageContainer",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Advance_Search,dropdownType:constants.dropdown_Gender,userSelection:app.m_objSearchParam.get("u_seeking")}));m_objViewAppDropDown.renderDropDown($("#dropdown_AgeFrom",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Advance_Search,dropdownType:constants.dropdown_AgeFrom,userSelection:app.m_objSearchParam.get("age_from")}));m_objViewAppDropDown.renderDropDown($("#dropdown_AgeTo",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Advance_Search,dropdownType:constants.dropdown_AgeTo,userSelection:app.m_objSearchParam.get("age_to")}));break;case constants.searchStep2:m_objViewAppDropDown.renderDropDown($("#dropdown_Country",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Advance_Search,dropdownType:constants.dropdown_Country,userSelection:app.m_objSearchParam.get("u_country")}));$("#dropdown_Country",$(this.el)).change(function(){if(this.value!="1"){$("*[hideWhenNonUS]").addClass("hide")}else{$("*[hideWhenNonUS]").removeClass("hide")}m_objViewAppDropDown.renderDropDown($("#dropdown_State"),new md_AppDropDown().set({dropdownType:constants.dropdown_State,calledFrom:constants.page_Advance_Search,userSelection:app.m_objSearchParam.get("u_state"),filters:{u_country:this.value}}))});m_objViewAppDropDown.renderDropDown($("#dropdown_Distance",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Advance_Search,dropdownType:constants.dropdown_Distance,userSelection:app.m_objSearchParam.get("distance")}));$("#txt_City",$(this.el)).val(app.m_objSearchParam.get("u_city"));$("#txt_Zipcode",$(this.el)).val(app.m_objSearchParam.get("u_postalcode"));break;case constants.searchStep3:m_objViewAppDropDown.renderDropDown($("#dropdown_Height",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Advance_Search,dropdownType:constants.dropdown_Height,userSelection:app.m_objSearchParam.get("u_height")}));m_objViewAppDropDown.renderDropDown($("#dropdown_Height2",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Advance_Search,dropdownType:constants.dropdown_Height,userSelection:app.m_objSearchParam.get("u_height2")}));$("#txt_Interest",$(this.el)).val(app.m_objSearchParam.get("u_interests"));break;case constants.searchStep4:m_objViewAppDropDown.renderListBox($("#tblMultipleSelect",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Advance_Search,dropdownType:constants.dropdown_LookingFor,userSelection:app.m_objSearchParam.get("u_looking_for")}));d="Looking for";a=constants.searchStep5;break;case constants.searchStep5:m_objViewAppDropDown.renderListBox($("#tblMultipleSelect",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Advance_Search,dropdownType:constants.dropdown_Drink,userSelection:app.m_objSearchParam.get("u_drink")}));d="Drink";a=constants.searchStep5;break;case constants.searchStep6:m_objViewAppDropDown.renderListBox($("#tblMultipleSelect",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Advance_Search,dropdownType:constants.dropdown_Smoke,userSelection:app.m_objSearchParam.get("u_smoke")}));d="Smoke";a=constants.searchStep5;break;case constants.searchStep7:m_objViewAppDropDown.renderListBox($("#tblMultipleSelect",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Advance_Search,dropdownType:constants.dropdown_BodyType,userSelection:app.m_objSearchParam.get("u_body_type")}));d="Body Type";a=constants.searchStep8;break;case constants.searchStep8:m_objViewAppDropDown.renderListBox($("#tblMultipleSelect",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Advance_Search,dropdownType:constants.dropdown_Denomination,userSelection:app.m_objSearchParam.get("u_denomination_index")}));d="Denomination";a=constants.searchStep9;break;case constants.searchStep9:m_objViewAppDropDown.renderListBox($("#tblMultipleSelect",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Advance_Search,dropdownType:constants.dropdown_EduLevel,userSelection:app.m_objSearchParam.get("u_edu_level")}));d="Education Level";a=constants.searchStep10;break;case constants.searchStep10:m_objViewAppDropDown.renderListBox($("#tblMultipleSelect",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Advance_Search,dropdownType:constants.dropdown_Marital,userSelection:app.m_objSearchParam.get("u_marital")}));d="Marital Status";a=constants.searchStep11;break;case constants.searchStep11:m_objViewAppDropDown.renderListBox($("#tblMultipleSelect",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Advance_Search,dropdownType:constants.dropdown_Ethnicity,userSelection:app.m_objSearchParam.get("u_ethnicity")}));d="Ethnicity";a=constants.searchStep12;break;case constants.searchStep12:m_objViewAppDropDown.renderListBox($("#tblMultipleSelect",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Advance_Search,dropdownType:constants.dropdown_HairColor,userSelection:app.m_objSearchParam.get("u_hair_color")}));d="Hair Color";a=constants.searchStep13;break;case constants.searchStep13:m_objViewAppDropDown.renderListBox($("#tblMultipleSelect",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Advance_Search,dropdownType:constants.dropdown_EyeColor,userSelection:app.m_objSearchParam.get("u_eye_color")}));d="Eye Color";a=constants.searchStep14;break;case constants.searchStep14:m_objViewAppDropDown.renderListBox($("#tblMultipleSelect",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Advance_Search,dropdownType:constants.dropdown_ChildrenWant,userSelection:app.m_objSearchParam.get("u_children_want")}));d="  User Wants children";a=constants.searchStep15;break;case constants.searchStep15:m_objViewAppDropDown.renderListBox($("#tblMultipleSelect",$(this.el)),new md_AppDropDown().set({calledFrom:constants.page_Advance_Search,dropdownType:constants.dropdown_ChildrenHave,userSelection:app.m_objSearchParam.get("u_children_have")}));d=" User With children";a=constants.searchStep16;break;case constants.searchStep16:$("#tblPhotos",$(this.el)).find("tr[name=trLstItem]").attr("isSelected",app.m_objSearchParam.get("photo_only"));if(app.m_objSearchParam.get("photo_only")=="0"){m_objViewAppDropDown.lstItem_applyUnCheckedStyle($("#tblPhotos",$(this.el)))}else{m_objViewAppDropDown.lstItem_applyCheckedStyle($("#tblPhotos",$(this.el)))}$("#tblAgeRestriction",$(this.el)).find("tr[name=trLstItem]").attr("isSelected",app.m_objSearchParam.get("age_restriction"));if(app.m_objSearchParam.get("age_restriction")=="0"){m_objViewAppDropDown.lstItem_applyUnCheckedStyle($("#tblAgeRestriction",$(this.el)))}else{m_objViewAppDropDown.lstItem_applyCheckedStyle($("#tblAgeRestriction",$(this.el)))}default:break}if(d!=""){$("#tblMultipleSelect",$(this.el)).attr("listHeading",d);$("a",$(this.el)).attr("id","btn_AdvanceSearch"+this.options.sStepNo+"Next")}utils.renderAppTitleBar(b);utils.renderAppTabs(constants.tabType_MyMatches,b,app.m_sSelectedTab);appConfigSetting.showHideConfigElements($(b,$(this.el)),constants.page_Advance_Search);return this},events:{"click #btn_AdvanceSearchStep1Next":"btn_AdvanceSearchStep1Next_OnClick","click #btn_AdvanceSearchStep2Next":"btn_AdvanceSearchStep2Next_OnClick","click #btn_AdvanceSearchStep3Next":"btn_AdvanceSearchStep3Next_OnClick","click #btn_AdvanceSearchstep4Next":"btn_AdvanceSearchStep4Next_OnClick","click #btn_AdvanceSearchstep5Next":"btn_AdvanceSearchStep5Next_OnClick","click #btn_AdvanceSearchstep6Next":"btn_AdvanceSearchStep6Next_OnClick","click #btn_AdvanceSearchstep7Next":"btn_AdvanceSearchStep7Next_OnClick","click #btn_AdvanceSearchstep8Next":"btn_AdvanceSearchStep8Next_OnClick","click #btn_AdvanceSearchstep9Next":"btn_AdvanceSearchStep9Next_OnClick","click #btn_AdvanceSearchstep10Next":"btn_AdvanceSearchStep10Next_OnClick","click #btn_AdvanceSearchstep11Next":"btn_AdvanceSearchStep11Next_OnClick","click #btn_AdvanceSearchstep12Next":"btn_AdvanceSearchStep12Next_OnClick","click #btn_AdvanceSearchstep13Next":"btn_AdvanceSearchStep13Next_OnClick","click #btn_AdvanceSearchstep14Next":"btn_AdvanceSearchStep14Next_OnClick","click #btn_AdvanceSearchstep15Next":"btn_AdvanceSearchStep15Next_OnClick","click #btn_AdvanceSearchstep16Next":"btn_AdvanceSearchStep16Next_OnClick","click #btnAdvanceSearch":"btnAdvanceSearch_OnClick","click #btnRememberAdvanceSearch":"btnRememberAdvanceSearch_OnClick"},btn_AdvanceSearchStep1Next_OnClick:function(){appLogger.writeLog("btn_AdvanceSearchStep1Next_OnClick","vw_UserList_AdvanceSearch.js",appLogger.logLevelDebug,"Entering");app.m_objSearchParam.set({u_seeking:m_objViewAppDropDown.getSelectedValue($("#tdGenderImageContainer")),age_from:m_objViewAppDropDown.getSelectedValue($("#dropdown_AgeFrom")),age_to:m_objViewAppDropDown.getSelectedValue($("#dropdown_AgeTo"))});this.back_ToSummary()},btn_AdvanceSearchStep2Next_OnClick:function(){appLogger.writeLog("btn_AdvanceSearchStep2Next_OnClick","vw_UserList_AdvanceSearch.js",appLogger.logLevelDebug,"Entering");app.m_objSearchParam.set({u_country:m_objViewAppDropDown.getSelectedValue($("#dropdown_Country")),u_state:m_objViewAppDropDown.getSelectedValue($("#dropdown_State")),u_city:$("#txt_City").val(),u_postalcode:$("#txt_Zipcode").val(),distance:m_objViewAppDropDown.getSelectedValue($("#dropdown_Distance"))});this.back_ToSummary()},btn_AdvanceSearchStep3Next_OnClick:function(){appLogger.writeLog("btn_AdvanceSearchStep3Next_OnClick","vw_UserList_AdvanceSearch.js",appLogger.logLevelDebug,"Entering");app.m_objSearchParam.set({u_interests:$("#txt_Interest").val(),u_height:m_objViewAppDropDown.getSelectedValue($("#dropdown_Height")),u_height2:m_objViewAppDropDown.getSelectedValue($("#dropdown_Height2"))});this.back_ToSummary()},btn_AdvanceSearchStep4Next_OnClick:function(){appLogger.writeLog("btn_AdvanceSearchStep4Next_OnClick","vw_UserList_AdvanceSearch.js",appLogger.logLevelDebug,"Entering");app.m_objSearchParam.set({u_looking_for:m_objViewAppDropDown.getSelectedValue($("#tblMultipleSelect"))==""?"":m_objViewAppDropDown.getSelectedValue($("#tblMultipleSelect")).split(",")});this.back_ToSummary()},btn_AdvanceSearchStep5Next_OnClick:function(){appLogger.writeLog("btn_AdvanceSearchStep5Next_OnClick","vw_UserList_AdvanceSearch.js",appLogger.logLevelDebug,"Entering");app.m_objSearchParam.set({u_drink:m_objViewAppDropDown.getSelectedValue($("#tblMultipleSelect"))==""?"":m_objViewAppDropDown.getSelectedValue($("#tblMultipleSelect")).split(",")});this.back_ToSummary()},btn_AdvanceSearchStep6Next_OnClick:function(){appLogger.writeLog("btn_AdvanceSearchStep6Next_OnClick","vw_UserList_AdvanceSearch.js",appLogger.logLevelDebug,"Entering");app.m_objSearchParam.set({u_smoke:m_objViewAppDropDown.getSelectedValue($("#tblMultipleSelect"))==""?"":m_objViewAppDropDown.getSelectedValue($("#tblMultipleSelect")).split(",")});this.back_ToSummary()},btn_AdvanceSearchStep7Next_OnClick:function(){appLogger.writeLog("btn_AdvanceSearchStep7Next_OnClick","vw_UserList_AdvanceSearch.js",appLogger.logLevelDebug,"Entering");app.m_objSearchParam.set({u_body_type:m_objViewAppDropDown.getSelectedValue($("#tblMultipleSelect"))==""?"":m_objViewAppDropDown.getSelectedValue($("#tblMultipleSelect")).split(",")});this.back_ToSummary()},btn_AdvanceSearchStep8Next_OnClick:function(){appLogger.writeLog("btn_AdvanceSearchStep8Next_OnClick","vw_UserList_AdvanceSearch.js",appLogger.logLevelDebug,"Entering");app.m_objSearchParam.set({u_denomination_index:m_objViewAppDropDown.getSelectedValue($("#tblMultipleSelect"))==""?"":m_objViewAppDropDown.getSelectedValue($("#tblMultipleSelect")).split(",")});this.back_ToSummary()},btn_AdvanceSearchStep9Next_OnClick:function(){appLogger.writeLog("btn_AdvanceSearchStep9Next_OnClick","vw_UserList_AdvanceSearch.js",appLogger.logLevelDebug,"Entering");app.m_objSearchParam.set({u_edu_level:m_objViewAppDropDown.getSelectedValue($("#tblMultipleSelect"))==""?"":m_objViewAppDropDown.getSelectedValue($("#tblMultipleSelect")).split(",")});this.back_ToSummary()},btn_AdvanceSearchStep10Next_OnClick:function(){appLogger.writeLog("btn_AdvanceSearchStep10Next_OnClick","vw_UserList_AdvanceSearch.js",appLogger.logLevelDebug,"Entering");app.m_objSearchParam.set({u_marital:m_objViewAppDropDown.getSelectedValue($("#tblMultipleSelect"))==""?"":m_objViewAppDropDown.getSelectedValue($("#tblMultipleSelect")).split(",")});this.back_ToSummary()},btn_AdvanceSearchStep11Next_OnClick:function(){appLogger.writeLog("btn_AdvanceSearchStep11Next_OnClick","vw_UserList_AdvanceSearch.js",appLogger.logLevelDebug,"Entering");app.m_objSearchParam.set({u_ethnicity:m_objViewAppDropDown.getSelectedValue($("#tblMultipleSelect"))==""?"":m_objViewAppDropDown.getSelectedValue($("#tblMultipleSelect")).split(",")});this.back_ToSummary()},btn_AdvanceSearchStep12Next_OnClick:function(){appLogger.writeLog("btn_AdvanceSearchStep12Next_OnClick","vw_UserList_AdvanceSearch.js",appLogger.logLevelDebug,"Entering");app.m_objSearchParam.set({u_hair_color:m_objViewAppDropDown.getSelectedValue($("#tblMultipleSelect"))==""?"":m_objViewAppDropDown.getSelectedValue($("#tblMultipleSelect")).split(",")});this.back_ToSummary()},btn_AdvanceSearchStep13Next_OnClick:function(){appLogger.writeLog("btn_AdvanceSearchStep13Next_OnClick","vw_UserList_AdvanceSearch.js",appLogger.logLevelDebug,"Entering");app.m_objSearchParam.set({u_eye_color:m_objViewAppDropDown.getSelectedValue($("#tblMultipleSelect"))==""?"":m_objViewAppDropDown.getSelectedValue($("#tblMultipleSelect")).split(",")});this.back_ToSummary()},btn_AdvanceSearchStep14Next_OnClick:function(){appLogger.writeLog("btn_AdvanceSearchStep14Next_OnClick","vw_UserList_AdvanceSearch.js",appLogger.logLevelDebug,"Entering");app.m_objSearchParam.set({u_children_want:m_objViewAppDropDown.getSelectedValue($("#tblMultipleSelect"))==""?"":m_objViewAppDropDown.getSelectedValue($("#tblMultipleSelect")).split(",")});this.back_ToSummary()},btn_AdvanceSearchStep15Next_OnClick:function(){appLogger.writeLog("btn_AdvanceSearchStep15Next_OnClick","vw_UserList_AdvanceSearch.js",appLogger.logLevelDebug,"Entering");app.m_objSearchParam.set({u_children_have:m_objViewAppDropDown.getSelectedValue($("#tblMultipleSelect"))==""?"":m_objViewAppDropDown.getSelectedValue($("#tblMultipleSelect")).split(",")});this.back_ToSummary()},btn_AdvanceSearchStep16Next_OnClick:function(){appLogger.writeLog("btn_AdvanceSearchStep16Next_OnClick","vw_UserList_AdvanceSearch.js",appLogger.logLevelDebug,"Entering");app.m_objSearchParam.set({photo_only:$("#tblPhotos").find("tr[name=trLstItem]").attr("isSelected"),age_restriction:$("#tblAgeRestriction").find("tr[name=trLstItem]").attr("isSelected")});this.back_ToSummary()},btnAdvanceSearch_OnClick:function(){appLogger.writeLog("btnAdvanceSearch_OnClick","vw_UserList_AdvanceSearch.js",appLogger.logLevelDebug,"Entering");app.navigate("#advance/advance_search",{trigger:true})},btnRememberAdvanceSearch_OnClick:function(){appLogger.writeLog("btnRememberAdvanceSearch_OnClick","vw_UserList_AdvanceSearch.js",appLogger.logLevelDebug,"Entering");app.m_objSearchParam.set({remember_search:constants.advancedSearchRememberOn});app.navigate("#advance/advance_search",{trigger:true})},back_ToSummary:function(){appLogger.writeLog("back_ToSummary","vw_UserList_AdvanceSearch.js",appLogger.logLevelDebug,"Entering");app.m_objSearchParam.set({u_clear_search:""});app.navigate("#users_advance_search/summary",{trigger:true})}});

window.vw_MySettingBlockedUsersList=Backbone.View.extend({initialize:function(){this.model.bind("reset",this.render,this);this.model.bind("add",function(a){$(this.el).append(new vw_MySettingBlockedUsersListItemView({model:a}).render().el)})},render:function(a){appLogger.writeLog("render","vw_MySettingBlockedUsersList.js",appLogger.logLevelDebug,"Entering");var d="";switch(this.options.blockActionType){case constants.MySetting_ListBlockUsers:d="tp_MySetting_BlockedUsersList";showTitleBar="divBlockedUsersList";break;case constants.MySetting_AddBlockUsers:d="tp_MySetting_AddBlockUsers";showTitleBar="tblAddToBlockedUsersList";break;default:break}this.template=_.template(utils.get(d));$(this.el).html(this.template());var b=$("#"+showTitleBar,$(this.el));utils.renderAppTitleBar(b);appConfigSetting.showHideConfigElements($(b,$(this.el)),"account_setting");var c=$("#lstBlockedUsers",$(this.el));if(this.options.no_data_found_msg!=""){c.append("<tr class='info'><td class='muted'><h6><center>"+this.options.no_data_found_msg+"</center></h6></td></tr>");$("td[name=formActionUnblockUsers]",$(this.el)).addClass("hide")}else{$("td[name=formActionUnblockUsers]",$(this.el)).removeClass("hide")}_.each(this.model.models,function(e){c.append(new vw_MySettingBlockedUsersListItemView({model:e}).render().el)},this);return this},events:{"click #addBlockedUsers":"addBlockedUsers_OnCLick","click #addToBlockUsersList":"addToBlockUsersList_OnClick","click #addToBlockUsersListCancel":"addToBlockUsersListCancel_OnClick","click #unblockedUsers":"unblockedUsers_OnClick","click #selectAllBlockedUsers":"selectAllBlockedUsers_OnClick","click #backToMySetting":"backToMySetting_OnClick"},addBlockedUsers_OnCLick:function(){appLogger.writeLog("addBlockedUsers_OnCLick","vw_MySettingBlockedUsersList.js",appLogger.logLevelDebug,"Entering");window.location="#MySettingBlockedUsers/Add"},addToBlockUsersList_OnClick:function(){appLogger.writeLog("addToBlockUsersList_OnClick","vw_MySettingBlockedUsersList.js",appLogger.logLevelDebug,"Entering");app.objAddBlockedUser=new md_MySettingBlockedUsers();app.objAddBlockedUser.set({add_block_user:1,block_this_user:0,username:$("#txtEnterUsername").val(),block_reason:$("#txtEnterReasonForBlocking").val()});app.before(function(){if(app.objAddBlockedUser.get("error_msg")==""&&app.objAddBlockedUser.get("add_block_user")=="true"){window.location="#MySettingBlockedUsers/List"}else{utils.showError(app.objAddBlockedUser.get("error_msg"))}},function(){},app.objAddBlockedUser)},unblockedUsers_OnClick:function(){appLogger.writeLog("unblockedUsers_OnClick","vw_MySettingBlockedUsersList.js",appLogger.logLevelDebug,"Entering");var a=new Array();$("input[name=blockedUsersChkBox]").filter(":checked").each(function(b,c){a.push(c.value)});app.objBlockedUsersList=new cl_MySettingBlockedUsers();app.objBlockedUsersList.add({block_this_user:2,block_id:a});app.before(function(){utils.writeConsoleLog("Success in unbloking user")},function(){},app.objBlockedUsersList);window.location="#MySetting/"+constants.MySettingMenu},selectAllBlockedUsers_OnClick:function(){appLogger.writeLog("selectAllBlockedUsers_OnClick","vw_MySettingBlockedUsersList.js",appLogger.logLevelDebug,"Entering");var a=new Array();$("input[name=blockedUsersChkBox]").attr("checked","checked").each(function(b,c){a.push(c.value)})},backToMySetting_OnClick:function(){appLogger.writeLog("backToMySetting_OnClick","vw_MySettingBlockedUsersList.js",appLogger.logLevelDebug,"Entering");app.flagForMySettingCancel=true;window.location="#MySetting/"+constants.MySettingMenu},addToBlockUsersListCancel_OnClick:function(){appLogger.writeLog("addToBlockUsersListCancel_OnClick","vw_MySettingBlockedUsersList.js",appLogger.logLevelDebug,"Entering");window.location="#MySettingBlockedUsers/List"}});window.vw_MySettingBlockedUsersListItemView=Backbone.View.extend({tagName:"tr",initialize:function(){this.template=_.template(utils.get("tp_MySetting_BlockedUsersListItem"));this.model.bind("change",this.render,this);this.model.bind("destroy",this.close,this)},render:function(a){appLogger.writeLog("render","vw_MySettingBlockedUsersListItemView.js",appLogger.logLevelDebug,"Entering");$(this.el).html(this.template(this.model.toJSON()));return this}});
